[
    {
        "id": "99100446.f792b8",
        "type": "tab",
        "label": "PID",
        "disabled": false,
        "info": "The nodes on this flow were missing a valid flow id when they were imported. They have been added to this flow so you can either restore or delete them."
    },
    {
        "id": "7d24d67.5c3b728",
        "type": "tab",
        "label": "Misc",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1842a961.504507",
        "type": "tab",
        "label": "Titlebar",
        "disabled": false,
        "info": ""
    },
    {
        "id": "7fff0426.068eec",
        "type": "tab",
        "label": "Powerup",
        "disabled": false,
        "info": ""
    },
    {
        "id": "caed099b.012a78",
        "type": "tab",
        "label": "Inputs",
        "disabled": false,
        "info": ""
    },
    {
        "id": "119ca35.22f805d",
        "type": "tab",
        "label": "Clock",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5643e3d0.aa409c",
        "type": "tab",
        "label": "Control",
        "disabled": false,
        "info": ""
    },
    {
        "id": "14c2a8c4.3c0637",
        "type": "tab",
        "label": "Temperature",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1845960d.82fd2a",
        "type": "tab",
        "label": "Settings",
        "disabled": false,
        "info": ""
    },
    {
        "id": "2a060dac.22fa72",
        "type": "tab",
        "label": "Restarts",
        "disabled": false,
        "info": ""
    },
    {
        "id": "80125eca.4c773",
        "type": "tab",
        "label": "Run Hours",
        "disabled": false,
        "info": ""
    },
    {
        "id": "43fdf02d.e3fcf",
        "type": "tab",
        "label": "Notes",
        "disabled": false,
        "info": ""
    },
    {
        "id": "dbad3acf.04a0f8",
        "type": "tab",
        "label": "MB_Server",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5b155b99.af2f24",
        "type": "tab",
        "label": "Misc_Settings",
        "disabled": false,
        "info": ""
    },
    {
        "id": "849be798.0c4868",
        "type": "tab",
        "label": "Calcs",
        "disabled": false,
        "info": ""
    },
    {
        "id": "d505f30f.8dea9",
        "type": "tab",
        "label": "Output",
        "disabled": false,
        "info": ""
    },
    {
        "id": "6157092d.8b7638",
        "type": "tab",
        "label": "VFD Status Mega",
        "disabled": false,
        "info": ""
    },
    {
        "id": "453d3af3.ea4724",
        "type": "tab",
        "label": "Log",
        "disabled": false,
        "info": ""
    },
    {
        "id": "8f6b533a.841f4",
        "type": "tab",
        "label": "Events",
        "disabled": false,
        "info": ""
    },
    {
        "id": "05ac925ad9b07c4a",
        "type": "tab",
        "label": "Files",
        "disabled": false,
        "info": ""
    },
    {
        "id": "4961a2178ba0730f",
        "type": "tab",
        "label": "Admin",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f0a27113.452c7",
        "type": "tab",
        "label": "WIFI Management",
        "disabled": false,
        "info": ""
    },
    {
        "id": "ee2acfc78930b2b8",
        "type": "tab",
        "label": "Flow 1",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "9947504b.85595",
        "type": "subflow",
        "name": "SaveChart",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 80,
                "y": 60,
                "wires": [
                    {
                        "id": "8db426d.52bedd8"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 820,
                "y": 80,
                "wires": [
                    {
                        "id": "4ee8f72d.d21dd8",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [],
        "color": "#DDAA99"
    },
    {
        "id": "fd4cbea3.6101d",
        "type": "ui_group",
        "name": "Control",
        "tab": "cd21e088.86c04",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "174a891f.229837",
        "type": "ui_group",
        "name": "Misc",
        "tab": "cd21e088.86c04",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "434ceb53.5206e4",
        "type": "ui_group",
        "name": "Monitors",
        "tab": "cd21e088.86c04",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "cd21e088.86c04",
        "type": "ui_tab",
        "name": "Home",
        "icon": "home",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e8b3923f.12d47",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#415336",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "SIC",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "MM/DD/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "f8cb6c41.4dcc7",
        "type": "ui_group",
        "name": "Email",
        "tab": "ad859bf6.5d3848",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "ad859bf6.5d3848",
        "type": "ui_tab",
        "name": "Settings",
        "icon": "settings",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8d058cd6.60efd",
        "type": "ui_group",
        "name": "Alarms",
        "tab": "35dc1854636bd63e",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "3331e171.1a052e",
        "type": "serial-port",
        "serialport": "/dev/ttyUSB0",
        "serialbaud": "115200",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "100",
        "bin": "bin",
        "out": "time",
        "addchar": "",
        "responsetimeout": "1000"
    },
    {
        "id": "347794ab.4617dc",
        "type": "ui_group",
        "name": "Clock",
        "tab": "ad859bf6.5d3848",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "24345615.900bea",
        "type": "ui_group",
        "name": "Analogs",
        "tab": "cd21e088.86c04",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "a3b0d87a.5e4698",
        "type": "ui_group",
        "name": "Motor",
        "tab": "e1a64200.62917",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "e1a64200.62917",
        "type": "ui_tab",
        "name": "Gauge Scaling",
        "icon": "dashboard",
        "order": 8,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "1a6aa557.3ee09b",
        "type": "ui_group",
        "name": "Outputs",
        "tab": "808087c4.f20de8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "78d354f0.509a4c",
        "type": "ui_group",
        "name": "Inputs",
        "tab": "808087c4.f20de8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "808087c4.f20de8",
        "type": "ui_tab",
        "name": "I/O Status",
        "icon": "info",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3d5d47b4.996028",
        "type": "ui_tab",
        "name": "Analog Settings",
        "icon": "settings",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "76ecb970.d80768",
        "type": "ui_group",
        "name": "Analog 0",
        "tab": "3d5d47b4.996028",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "47aa9896.cb8738",
        "type": "ui_group",
        "name": "Analog 1",
        "tab": "3d5d47b4.996028",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "7fd8eb85.68bbf4",
        "type": "ui_group",
        "name": "Analog 2",
        "tab": "3d5d47b4.996028",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "6b314ea2.961e9",
        "type": "ui_group",
        "name": "Analog 3",
        "tab": "3d5d47b4.996028",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "ac345297.924da",
        "type": "ui_tab",
        "name": "I/O Settings",
        "icon": "settings",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "89077c44.4a81c",
        "type": "ui_group",
        "name": "Input 1",
        "tab": "ac345297.924da",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "ff960a8f.e8f448",
        "type": "ui_group",
        "name": "Input 2",
        "tab": "ac345297.924da",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "16b163eb.dd92bc",
        "type": "ui_group",
        "name": "Input 3",
        "tab": "ac345297.924da",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "1d6f4c90.182763",
        "type": "ui_group",
        "name": "Input 4",
        "tab": "ac345297.924da",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "d4789405.406f18",
        "type": "ui_tab",
        "name": "PID",
        "icon": "dashboard",
        "order": 9,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "6dee1a4c.a66424",
        "type": "ui_group",
        "name": "Setup",
        "tab": "d4789405.406f18",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "eb6b88c7.72a888",
        "type": "ui_tab",
        "name": "Restarts",
        "icon": "autorenew",
        "order": 10,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d5967a57.2a2138",
        "type": "ui_group",
        "name": "Inputs",
        "tab": "eb6b88c7.72a888",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "42c2da5a.7ff5c4",
        "type": "ui_group",
        "name": "Analogs",
        "tab": "eb6b88c7.72a888",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "43269810.9fcd98",
        "type": "ui_group",
        "name": "Misc",
        "tab": "eb6b88c7.72a888",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "41da51a1.51dbb",
        "type": "ui_tab",
        "name": "Run Perms",
        "icon": "lock",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ce23d109.da42a",
        "type": "ui_group",
        "name": "Perms",
        "tab": "41da51a1.51dbb",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "ebb62afd.784678",
        "type": "modbus-client",
        "name": "vfd-modbus",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "192.168.0.10",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": 0,
        "commandDelay": 1,
        "clientTimeout": 3000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 5000,
        "parallelUnitIdsAllowed": false
    },
    {
        "id": "e37ca713.a882d8",
        "type": "ui_group",
        "name": "VFD",
        "tab": "cd21e088.86c04",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "7010ddd.c903a24",
        "type": "ui_tab",
        "name": "VFD Settings",
        "icon": "settings",
        "order": 12,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "8da15814.9bc108",
        "type": "ui_group",
        "name": "Accel/Decel",
        "tab": "7010ddd.c903a24",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "65689aa9.81c164",
        "type": "ui_group",
        "name": "Advanced",
        "tab": "7010ddd.c903a24",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "9cb69f1e.f93a5",
        "type": "ui_group",
        "name": "Motor Nameplate Data",
        "tab": "7010ddd.c903a24",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "101b22fc.2eafed",
        "type": "ui_group",
        "name": "Notes",
        "tab": "3d5d47b4.996028",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "60a73cbd.a8d754",
        "type": "ui_group",
        "name": "Misc",
        "tab": "ad859bf6.5d3848",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "e0e7ea5c.056af8",
        "type": "persist-store",
        "filename": "/data/charts/hrs.json",
        "interval": "60"
    },
    {
        "id": "8be133a0.16cbf",
        "type": "ui_group",
        "name": "Min/Max Frequency By Controller",
        "tab": "7010ddd.c903a24",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "c84c9662.9b92b8",
        "type": "ui_group",
        "name": "Amps UL/OL Setpoint",
        "tab": "7010ddd.c903a24",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "f58365ab.42f598",
        "type": "ui_tab",
        "name": "Misc Charts",
        "icon": "timeline",
        "order": 13,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "820af12a.cbee8",
        "type": "ui_group",
        "name": "Misc Charts",
        "tab": "f58365ab.42f598",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "31a0f8b7.6d3848",
        "type": "ui_group",
        "name": "Analogs 0-1",
        "tab": "9366a6d41d8a8805",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": true
    },
    {
        "id": "4179233a.d1fa4c",
        "type": "ui_group",
        "name": "Notes",
        "tab": "d4789405.406f18",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "bf1e2739.316828",
        "type": "persist-store",
        "filename": "/data/charts/encltemp.json",
        "interval": "60"
    },
    {
        "id": "193a7809.6a1ac8",
        "type": "persist-store",
        "filename": "/data/charts/encltemp.json",
        "interval": "60"
    },
    {
        "id": "3e3f6b1d.70f884",
        "type": "persist-store",
        "filename": "/data/charts/a0.json",
        "interval": "120"
    },
    {
        "id": "aa2941.be3166c",
        "type": "persist-store",
        "filename": "/data/charts/a1.json",
        "interval": "200"
    },
    {
        "id": "c59adf5a.9e87a",
        "type": "ui_group",
        "name": "Outputs",
        "tab": "ac345297.924da",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "11470e18.a0a922",
        "type": "ui_group",
        "name": "Calcs",
        "tab": "f58365ab.42f598",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "516ca6ee.72cd18",
        "type": "ui_tab",
        "name": "Events",
        "icon": "event",
        "order": 11,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ec47f52b.c79ae8",
        "type": "ui_group",
        "name": "Start/Stop Log",
        "tab": "516ca6ee.72cd18",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": true
    },
    {
        "id": "fe762942.fd8b08",
        "type": "ui_group",
        "name": "Default",
        "tab": "",
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7598912555eb86ef",
        "type": "ui_group",
        "name": "Events",
        "tab": "516ca6ee.72cd18",
        "order": 2,
        "disp": true,
        "width": "8",
        "collapse": true
    },
    {
        "id": "160e81fb.f1c86e",
        "type": "ui_group",
        "name": "File Browser",
        "tab": "b63d1f91.68095",
        "order": 1,
        "disp": true,
        "width": "9",
        "collapse": false
    },
    {
        "id": "b63d1f91.68095",
        "type": "ui_tab",
        "name": "Files",
        "icon": "folder",
        "order": 15,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "35dc1854636bd63e",
        "type": "ui_tab",
        "name": "Alarms",
        "icon": "warning",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "10fc04e9972349f2",
        "type": "ui_group",
        "name": "Notes",
        "tab": "808087c4.f20de8",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "b1ecb38b600fbbdb",
        "type": "ui_group",
        "name": "PID",
        "tab": "cd21e088.86c04",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "505970917d70fdb6",
        "type": "ui_tab",
        "name": "Info",
        "icon": "info",
        "order": 16,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "96d9fb439d7ae721",
        "type": "ui_group",
        "name": "Modbus Sever Addresses  Port(10502)",
        "tab": "505970917d70fdb6",
        "order": 2,
        "disp": true,
        "width": "9",
        "collapse": true
    },
    {
        "id": "ab680df9548a3460",
        "type": "ui_group",
        "name": "Fault Codes",
        "tab": "505970917d70fdb6",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "74f8c9459f08ec01",
        "type": "modbus-client",
        "name": "local",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "tcpHost": "127.0.1.1",
        "tcpPort": "10502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "unit_id": "1",
        "commandDelay": "1",
        "clientTimeout": "1000",
        "reconnectOnTimeout": true,
        "reconnectTimeout": "2000",
        "parallelUnitIdsAllowed": true
    },
    {
        "id": "54305fcfa53633c5",
        "type": "persist-store",
        "filename": "/data/charts/a2.json",
        "interval": "250"
    },
    {
        "id": "56ecdc3af1118b5f",
        "type": "persist-store",
        "filename": "/data/charts/a3.json",
        "interval": "275"
    },
    {
        "id": "9366a6d41d8a8805",
        "type": "ui_tab",
        "name": "Analog Charts",
        "icon": "timeline",
        "order": 14,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d1d37d543924fe5f",
        "type": "ui_group",
        "name": "Analogs 2-3",
        "tab": "9366a6d41d8a8805",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": true
    },
    {
        "id": "b66854c1669bc5e6",
        "type": "ui_group",
        "name": "Settings",
        "tab": "9366a6d41d8a8805",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "3bd76820b45f663d",
        "type": "ui_tab",
        "name": "Admin",
        "icon": "dashboard",
        "order": 17,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5341a2a5684efda4",
        "type": "ui_group",
        "name": "Admin",
        "tab": "3bd76820b45f663d",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "406fc47015fe7731",
        "type": "ui_group",
        "name": "Info Wlan0",
        "tab": "3bd76820b45f663d",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "8f396c79f7a85790",
        "type": "ui_group",
        "name": "Wifi",
        "tab": "3bd76820b45f663d",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": true
    },
    {
        "id": "3534251d8384025c",
        "type": "persist-store",
        "filename": "/data/charts/mtramps.json",
        "interval": "60"
    },
    {
        "id": "3766a72bf2f738e8",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "5341a2a5684efda4",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "2dfcda742e6d08a8",
        "type": "ui_group",
        "name": "USB Files",
        "tab": "3bd76820b45f663d",
        "order": 4,
        "disp": true,
        "width": "10",
        "collapse": true
    },
    {
        "id": "e0c3e8c1.0cc748",
        "type": "ui_group",
        "name": "Garage",
        "tab": "",
        "order": 2,
        "disp": false,
        "width": "10"
    },
    {
        "id": "447d21ab.f9cd6",
        "type": "file",
        "z": "9947504b.85595",
        "name": "",
        "filename": "",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "x": 690,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "a8667f5c.55baa",
        "type": "file in",
        "z": "9947504b.85595",
        "name": "",
        "filename": "",
        "format": "utf8",
        "sendError": true,
        "x": 530,
        "y": 80,
        "wires": [
            [
                "4ee8f72d.d21dd8"
            ]
        ]
    },
    {
        "id": "701e6738.9a8168",
        "type": "json",
        "z": "9947504b.85595",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 530,
        "y": 40,
        "wires": [
            [
                "447d21ab.f9cd6"
            ]
        ]
    },
    {
        "id": "4ee8f72d.d21dd8",
        "type": "json",
        "z": "9947504b.85595",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 690,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "8db426d.52bedd8",
        "type": "function",
        "z": "9947504b.85595",
        "name": "LoadSave",
        "func": "var strSafe=msg.topic;\nif(strSafe)\n{\n    strSafe=strSafe.replace(/[^a-z0-9]/gi, '_').toLowerCase();\n    var loaded=context.get(strSafe)||0;\n    msg.filename =\"/home/pi/charts/\"+strSafe+\".dat\";\n    //node.warn(loaded);\n    if(0===loaded)\n    {\n        //load chart!! \n        msg.payload=\"load\";\n        context.set(strSafe,1);\n        \n        //node.warn(\"Loading \" +strSafe);\n    }\n    else\n    {\n        //node.warn(\"Writing \" +strSafe);\n    }\n    return msg;    \n}\nreturn null;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 60,
        "wires": [
            [
                "22eb66ca.8ef5ba"
            ]
        ]
    },
    {
        "id": "22eb66ca.8ef5ba",
        "type": "switch",
        "z": "9947504b.85595",
        "name": "Load data",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "load",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 380,
        "y": 60,
        "wires": [
            [
                "701e6738.9a8168"
            ],
            [
                "a8667f5c.55baa"
            ]
        ]
    },
    {
        "id": "6a282ff0.327f6",
        "type": "PID",
        "z": "99100446.f792b8",
        "name": "",
        "setpoint": 21,
        "pb": ".1",
        "ti": "600",
        "td": "0",
        "integral_default": ".1",
        "smooth_factor": 3,
        "max_interval": 600,
        "enable": 1,
        "disabled_op": 0,
        "x": 670,
        "y": 220,
        "wires": [
            [
                "85620821.f24078"
            ]
        ]
    },
    {
        "id": "e12a2d4e.847bd",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "P",
        "func": "global.set(\"p\",msg.payload);\nmsg.payload = 500 - msg.payload;\nif (msg.payload < 1) {msg.payload = 1;}\nmsg.topic = \"prop_band\";\n\nnode.status((msg.payload));\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 180,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "91ec69e7.dc84d8",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "i",
        "func": "msg.topic = \"t_integral\";\n//msg.payload = 1.5;\nglobal.set(\"pid_i\", msg.payload);\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 280,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "f92a80a3.f7a56",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "setpoint",
        "func": "msg.topic = \"setpoint\";\nglobal.set(\"pidsp\", msg.payload);\n//msg.payload = 7;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 340,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "7f06a629.71dc78",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 420,
        "wires": [
            [
                "7e681703.0c1198"
            ]
        ]
    },
    {
        "id": "7e681703.0c1198",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "enable",
        "func": "msg.topic = \"enable\";\nmsg.payload = 1;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 400,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "a1c7b88c.384a58",
        "type": "ui_text_input",
        "z": "99100446.f792b8",
        "name": "",
        "label": "P",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 330,
        "y": 200,
        "wires": [
            [
                "e12a2d4e.847bd"
            ]
        ]
    },
    {
        "id": "c9db0e9a.7a385",
        "type": "ui_text_input",
        "z": "99100446.f792b8",
        "name": "",
        "label": "I",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 320,
        "y": 280,
        "wires": [
            [
                "91ec69e7.dc84d8"
            ]
        ]
    },
    {
        "id": "ff0353a7.4d2b2",
        "type": "ui_text_input",
        "z": "99100446.f792b8",
        "name": "SP",
        "label": "Setpoint",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 670,
        "y": 340,
        "wires": [
            [
                "f92a80a3.f7a56"
            ]
        ]
    },
    {
        "id": "5bdb3c2a.883854",
        "type": "ui_slider",
        "z": "99100446.f792b8",
        "name": "",
        "label": "PV",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": "0.25",
        "className": "",
        "x": 330,
        "y": 140,
        "wires": [
            [
                "2c4881cca54ed5cf"
            ]
        ]
    },
    {
        "id": "c18d3b0e.61e218",
        "type": "ui_gauge",
        "z": "99100446.f792b8",
        "name": "",
        "group": "6dee1a4c.a66424",
        "order": 6,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "PID Output",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 1010,
        "y": 220,
        "wires": []
    },
    {
        "id": "196096fa.6287d9",
        "type": "ui_text",
        "z": "99100446.f792b8",
        "group": "6dee1a4c.a66424",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Process Variable",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1030,
        "y": 100,
        "wires": []
    },
    {
        "id": "39b05eb6.b789d2",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 700,
        "y": 40,
        "wires": [
            [
                "6c958417.d659dc"
            ]
        ]
    },
    {
        "id": "8bc29cf3.a52b9",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"pv\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 80,
        "wires": [
            [
                "196096fa.6287d9",
                "6a282ff0.327f6",
                "69060f977431b4e6",
                "4825edbf552c6933"
            ]
        ]
    },
    {
        "id": "85620821.f24078",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var val;\nval = Number(msg.payload*100);\nif (global.get(\"pidinvert\")){val = 100-val}\n\nmsg.payload = Number(val.toFixed(2));\nglobal.set(\"pidout\", msg.payload)\nnode.status(val);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 220,
        "wires": [
            [
                "c18d3b0e.61e218",
                "2ee16e81a81642ed"
            ]
        ]
    },
    {
        "id": "6c958417.d659dc",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = global.get(\"pv\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 890,
        "y": 40,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "37d7a2c3.38cfce",
        "type": "ui_dropdown",
        "z": "99100446.f792b8",
        "name": "",
        "label": "PV",
        "tooltip": "",
        "place": "Select option",
        "group": "6dee1a4c.a66424",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": 0,
                "type": "num"
            },
            {
                "label": "",
                "value": 1,
                "type": "num"
            },
            {
                "label": "",
                "value": 2,
                "type": "num"
            },
            {
                "label": "",
                "value": 3,
                "type": "num"
            },
            {
                "label": "",
                "value": "4",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 720,
        "y": 440,
        "wires": [
            [
                "cd83da2a.431ee8"
            ]
        ]
    },
    {
        "id": "f19c2e72.7749f",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var opt1 = global.get(\"a0name\");\nvar opt2 = global.get(\"a1name\");\nvar opt3 = global.get(\"a2name\");\nvar opt4 = global.get(\"a3name\");\nvar opt5 = \"test\";\nmsg.options = [ opt1, opt2, opt3, opt4, opt5]\nmsg.payload = global.get(\"pvselect\");\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 520,
        "wires": [
            [
                "37d7a2c3.38cfce"
            ]
        ]
    },
    {
        "id": "cd83da2a.431ee8",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"pvselect\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 460,
        "wires": [
            [
                "f19c2e72.7749f"
            ]
        ]
    },
    {
        "id": "6a2d2590.24461c",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 110,
        "y": 740,
        "wires": [
            [
                "f83e2107.f898",
                "686c12f3.35508c",
                "ad004f54.09e52",
                "f19c2e72.7749f",
                "562fe4f1.2f734c",
                "b9fc24f1.0102e8",
                "11111e87.04b471",
                "e1c5fc0c.242d9",
                "947c5add.76a3c8"
            ]
        ]
    },
    {
        "id": "3ce2a92b.bf4836",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = global.get(\"p\");\nnode.status(msg.payload);\nmsg.topic = \"prop_band\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 200,
        "wires": [
            [
                "a1c7b88c.384a58",
                "d8d37b5b9428a171"
            ]
        ]
    },
    {
        "id": "b25bfc7c.9731e",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = global.get(\"pid_i\");\n//msg.payload = 1;\nnode.status(msg.payload);\nmsg.topic = \"t_integral\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 280,
        "wires": [
            [
                "c9db0e9a.7a385",
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "4ceab785.5a6088",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.topic = \"setpoint\";\nmsg.payload = global.get(\"pidsp\");\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 160,
        "y": 320,
        "wires": [
            [
                "6a282ff0.327f6",
                "55de9c79.ee0e74"
            ]
        ]
    },
    {
        "id": "f83e2107.f898",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var sphi = global.get(\"pidhisp\");\n\n\nmsg.payload = sphi;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 560,
        "wires": [
            [
                "68a9f35c.8f1e5c"
            ]
        ]
    },
    {
        "id": "686c12f3.35508c",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "\nvar splo = global.get(\"pidlosp\");\n\nmsg.payload = splo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 600,
        "wires": [
            [
                "f12bf5b0.d85d78"
            ]
        ]
    },
    {
        "id": "68a9f35c.8f1e5c",
        "type": "ui_text_input",
        "z": "99100446.f792b8",
        "name": "",
        "label": "Start Setpoint",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 360,
        "y": 560,
        "wires": [
            [
                "56905541.0810cc"
            ]
        ]
    },
    {
        "id": "f12bf5b0.d85d78",
        "type": "ui_text_input",
        "z": "99100446.f792b8",
        "name": "",
        "label": "Stop Setpoint",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 360,
        "y": 600,
        "wires": [
            [
                "10470e74.453e12"
            ]
        ]
    },
    {
        "id": "56905541.0810cc",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"pidhisp\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "10470e74.453e12",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"pidlosp\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "3bb75614.4f46da",
        "type": "ui_switch",
        "z": "99100446.f792b8",
        "name": "",
        "label": "PID Enable",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 500,
        "y": 460,
        "wires": [
            [
                "1b7644ae.38458b",
                "970fec406a6407f3"
            ]
        ]
    },
    {
        "id": "ad004f54.09e52",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = global.get(\"pidon\");\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 480,
        "wires": [
            [
                "3bb75614.4f46da"
            ]
        ]
    },
    {
        "id": "1b7644ae.38458b",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"pidon\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "562fe4f1.2f734c",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "integral",
        "func": "\nmsg.topic = \"integral_default\";\nmsg.payload = 0.5;\n\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 520,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "b9fc24f1.0102e8",
        "type": "delay",
        "z": "99100446.f792b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 100,
        "y": 140,
        "wires": [
            [
                "3ce2a92b.bf4836"
            ]
        ]
    },
    {
        "id": "11111e87.04b471",
        "type": "delay",
        "z": "99100446.f792b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 80,
        "y": 240,
        "wires": [
            [
                "b25bfc7c.9731e"
            ]
        ]
    },
    {
        "id": "e1c5fc0c.242d9",
        "type": "delay",
        "z": "99100446.f792b8",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 120,
        "y": 400,
        "wires": [
            [
                "4ceab785.5a6088"
            ]
        ]
    },
    {
        "id": "3aee172b.e11628",
        "type": "ui_switch",
        "z": "99100446.f792b8",
        "name": "",
        "label": "Invert",
        "tooltip": "",
        "group": "6dee1a4c.a66424",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 530,
        "y": 680,
        "wires": [
            [
                "90cf0789.b8e0c8"
            ]
        ]
    },
    {
        "id": "947c5add.76a3c8",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = global.get(\"pidinvert\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 370,
        "y": 680,
        "wires": [
            [
                "3aee172b.e11628"
            ]
        ]
    },
    {
        "id": "90cf0789.b8e0c8",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"pidinvert\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "10e6d543.9b848b",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 250,
        "y": 820,
        "wires": [
            [
                "5b0f20c5.493b1",
                "119bde44.e68722"
            ]
        ]
    },
    {
        "id": "ee5bfb99.b7c3f8",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "pid Output to freq sp",
        "info": "",
        "x": 410,
        "y": 780,
        "wires": []
    },
    {
        "id": "b2740c52.ea0f2",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "55de9c79.ee0e74",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = global.get(\"pidsp\");\n\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 340,
        "wires": [
            [
                "ff0353a7.4d2b2"
            ]
        ]
    },
    {
        "id": "51215f78.783f7",
        "type": "ui_text_input",
        "z": "99100446.f792b8",
        "name": "SP_Input",
        "label": "{{msg.topic}}  Setpoint",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 580,
        "y": 820,
        "wires": [
            [
                "b70ca77a.8eaee8"
            ]
        ]
    },
    {
        "id": "5b0f20c5.493b1",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var freqsp = global.get(\"freqsp\");\nvar pidsp = global.get(\"pidsp\");\nvar pidon = global.get(\"pidon\");\nif (pidon) {msg.topic = \"PID \";\n    msg.payload = pidsp;\n}else {msg.topic = \"Frequency \";\n    msg.payload = freqsp;\n}\nnode.status(msg.topic + \" \" + msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 820,
        "wires": [
            [
                "51215f78.783f7"
            ]
        ]
    },
    {
        "id": "b70ca77a.8eaee8",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "\nvar pidon = global.get(\"pidon\");\nif (pidon) {global.set(\"pidsp\", msg.payload);\nreturn msg;\n}else {global.set(\"freqsp\", msg.payload);\n    \n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 820,
        "wires": [
            [
                "ff0353a7.4d2b2"
            ]
        ]
    },
    {
        "id": "84f7b7a2.e896a8",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "PID Start/Stop SP",
        "info": "PID Start/Stop SP",
        "x": 430,
        "y": 880,
        "wires": []
    },
    {
        "id": "119bde44.e68722",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var startsp = global.get(\"pidhisp\"); //Start SP\nvar stopsp = global.get(\"pidlosp\"); //Stop SP\nvar pidon = global.get(\"pidon\");\nvar pv = global.get(\"pv\");\nvar perm = global.get(\"perm\");\n\nif (pidon) {\n    if (startsp>stopsp) {\n        if (pv>startsp && perm) {global.set(\"vfdrun\", 1); msg.payload = false;}\n        if (pv<stopsp) {global.set(\"vfdrun\", 0); msg.payload = true; global.set(\"pidstop\", true);}\n        else{ msg.payload = false; global.set(\"pidstop\", false);}\n    }\n    if (stopsp>startsp) {\n        if (pv>stopsp) {global.set(\"vfdrun\", 0); msg.payload = true; global.set(\"pidstop\", true);}\n        else{ msg.payload = false; global.set(\"pidstop\", false);}\n        if (pv<startsp && perm) {global.set(\"vfdrun\", 1); msg.payload = false; }\n    }\nif (startsp == 0){msg.payload = false;}\n    \n} else {msg.payload = false; global.set(\"pidstop\", false);}\n\nnode.status(pv + \" \" + msg.payload + \" \" + stopsp);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 920,
        "wires": [
            [
                "123a4fad.dbd51",
                "5470ecb2a64208f3"
            ]
        ]
    },
    {
        "id": "9e8f18fd.b8d368",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "see vfd status page",
        "info": "",
        "x": 1030,
        "y": 260,
        "wires": []
    },
    {
        "id": "e72b391f.6976b8",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "get pv selection",
        "info": "",
        "x": 260,
        "y": 40,
        "wires": []
    },
    {
        "id": "130a52fd.1a994d",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "PV selection",
        "func": "var  pvselect = global.get(\"pvselect\");\nvar  a0 = global.get(\"a0\");\nvar  a1 = global.get(\"a1\");\nvar  a2 = global.get(\"a2\");\nvar  a3 = global.get(\"a3\");\nvar  a0name = global.get(\"a0name\");\nvar  a1name = global.get(\"a1name\");\nvar  a2name = global.get(\"a2name\");\nvar  a3name = global.get(\"a3name\");\nvar testpv = global.get(\"testpv\");\nvar min;\nvar max;\nvar pv;\nif (pvselect == a0name) {\n    min = global.get(\"a0min\");\n    max = global.get(\"a0scale\");\n    msg = {\"min\": min, \"max\": max};\n    pv = a0; msg.topic = a0name;}\nif (pvselect == a1name) {\n     min = global.get(\"a1min\");\n     max = global.get(\"a1scale\");\n    msg = {\"min\": min, \"max\": max};\n    pv = a1; msg.topic = a1name;}\nif (pvselect == a2name) {\n    min = global.get(\"a2min\");\n     max = global.get(\"a2scale\");\n    msg = {\"min\": min, \"max\": max};\n    pv = a2; msg.topic = a2name;}\nif (pvselect == a3name) {\n    min = global.get(\"a3min\");\n     max = global.get(\"a3scale\");\n    msg = {\"min\": min, \"max\": max};\n    pv = a3; msg.topic = a3name;}\nif (pvselect == \"test\") {\n    min = 0;\n     max = 100;\n    msg = {\"min\": min, \"max\": max};\n    pv = testpv;  msg.topic = \"Test PV\";}\nnode.status(pv + \" \" + msg.topic);\nmsg.payload = pv;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 80,
        "wires": [
            [
                "8bc29cf3.a52b9"
            ]
        ]
    },
    {
        "id": "10048b09.f14935",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "130a52fd.1a994d"
            ]
        ]
    },
    {
        "id": "123a4fad.dbd51",
        "type": "ui_led",
        "z": "99100446.f792b8",
        "order": 4,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "PID Stop Limit",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "PID Stop LED",
        "x": 640,
        "y": 920,
        "wires": []
    },
    {
        "id": "2c4881cca54ed5cf",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "global.set(\"testpv\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "5470ecb2a64208f3",
        "type": "link out",
        "z": "99100446.f792b8",
        "name": "",
        "links": [
            "90dc8cb154ed77a8"
        ],
        "x": 555,
        "y": 960,
        "wires": []
    },
    {
        "id": "fe0ab7333700f544",
        "type": "link out",
        "z": "99100446.f792b8",
        "name": "",
        "links": [
            "6369afea5edb4f24"
        ],
        "x": 995,
        "y": 560,
        "wires": []
    },
    {
        "id": "970fec406a6407f3",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 560,
        "wires": [
            [
                "fe0ab7333700f544"
            ]
        ]
    },
    {
        "id": "d8d37b5b9428a171",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "msg.payload = 500 - msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 240,
        "wires": [
            [
                "6a282ff0.327f6"
            ]
        ]
    },
    {
        "id": "08ed921e25d94528",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "vfdrun",
        "info": "",
        "x": 590,
        "y": 880,
        "wires": []
    },
    {
        "id": "0c43b924cd5f0ca4",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "Select PID, HZ, RPM",
        "info": "",
        "x": 980,
        "y": 820,
        "wires": []
    },
    {
        "id": "ff31d2ac9a658c84",
        "type": "comment",
        "z": "99100446.f792b8",
        "name": "Add RPM",
        "info": "",
        "x": 970,
        "y": 780,
        "wires": []
    },
    {
        "id": "67dca075eab41489",
        "type": "ui_level",
        "z": "99100446.f792b8",
        "group": "b1ecb38b600fbbdb",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "pv",
        "label": "PV - {{msg.topic}}",
        "colorHi": "#e60000",
        "colorWarn": "#ff9900",
        "colorNormal": "#00b33c",
        "colorOff": "#595959",
        "min": 0,
        "max": 100,
        "segWarn": "",
        "segHigh": "",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": "1",
        "animations": "soft",
        "shape": 2,
        "colorschema": "fixed",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": false,
        "hideValue": false,
        "tickmode": "off",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 1140,
        "y": 180,
        "wires": []
    },
    {
        "id": "8075e06235bb667f",
        "type": "ui_level",
        "z": "99100446.f792b8",
        "group": "b1ecb38b600fbbdb",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "sp",
        "label": "Setpoint",
        "colorHi": "#e60000",
        "colorWarn": "#ff9900",
        "colorNormal": "#00b33c",
        "colorOff": "#595959",
        "min": 0,
        "max": 100,
        "segWarn": "",
        "segHigh": "",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": "1",
        "animations": "soft",
        "shape": 2,
        "colorschema": "fixed",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": false,
        "hideValue": false,
        "tickmode": "off",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 1030,
        "y": 640,
        "wires": []
    },
    {
        "id": "2ee16e81a81642ed",
        "type": "ui_level",
        "z": "99100446.f792b8",
        "group": "b1ecb38b600fbbdb",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "PID Output",
        "colorHi": "#e60000",
        "colorWarn": "#ff9900",
        "colorNormal": "#00b33c",
        "colorOff": "#595959",
        "min": 0,
        "max": 100,
        "segWarn": "",
        "segHigh": "",
        "unit": "",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": 0,
        "animations": "soft",
        "shape": 2,
        "colorschema": "fixed",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": false,
        "hideValue": false,
        "tickmode": "off",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 1080,
        "y": 320,
        "wires": []
    },
    {
        "id": "69060f977431b4e6",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var label = msg.topic;\nvar min = msg.min;\nvar max = msg.max;\n//msg.control = {label:\"'msg.topic'\"}\nmsg.control = {\n    \"label\": label,\n    \"min\": min,\n    \"max\": max\n}\nnode.status(label);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 160,
        "wires": [
            [
                "67dca075eab41489"
            ]
        ]
    },
    {
        "id": "4825edbf552c6933",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "",
        "func": "var pidsp = global.get(\"pidsp\");\nvar min = msg.min;\nvar max = msg.max;\nmsg.payload = pidsp;\nmsg.control = {\n    \n    \"min\": min,\n    \"max\": max\n}\nnode.status(max);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 620,
        "wires": [
            [
                "8075e06235bb667f"
            ]
        ]
    },
    {
        "id": "1f8ce99d6d0e2a50",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "function 9",
        "func": "var pv\npv = global.get(\"testpv\");\nif (global.get(\"pidsp\")>pv){\n    pv = (pv + msg.payload / 5)+.1;\n} else { pv = (pv - msg.payload / 5) -.1 ;}\npv = Math.round(pv*100)/100\nglobal.set(\"pv\", pv)\nnode.status(pv);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "21383c106ceaa8e2",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 490,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "b9af08deb495758e",
        "type": "inject",
        "z": "99100446.f792b8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 210,
        "y": 1000,
        "wires": [
            [
                "3a3761a488e4ecbe",
                "123a4fad.dbd51"
            ]
        ]
    },
    {
        "id": "3a3761a488e4ecbe",
        "type": "function",
        "z": "99100446.f792b8",
        "name": "function 10",
        "func": "global.set(\"pidstop\", false);\nglobal.set(\"pidlosp\", false);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "9f7c6b07.b2ae48",
        "type": "ui_text",
        "z": "7d24d67.5c3b728",
        "group": "174a891f.229837",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "cpu_temp",
        "label": "CPU Temperature",
        "format": "<font color= {{msg.color}} > {{msg.payload}} </font>",
        "layout": "row-spread",
        "x": 940,
        "y": 220,
        "wires": []
    },
    {
        "id": "535e1b70.774284",
        "type": "exec",
        "z": "7d24d67.5c3b728",
        "command": "sudo vcgencmd measure_temp",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "winHide": false,
        "name": "RPi Temp.",
        "x": 341,
        "y": 179,
        "wires": [
            [
                "ff33a303.8031"
            ],
            [],
            []
        ]
    },
    {
        "id": "c582fdda.71be2",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "30",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payloadType": "date",
        "x": 135.5,
        "y": 187.25,
        "wires": [
            [
                "bb45da66bb60a656"
            ]
        ]
    },
    {
        "id": "844b7825.ab6018",
        "type": "exec",
        "z": "7d24d67.5c3b728",
        "command": "sudo top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'",
        "addpay": false,
        "append": "",
        "useSpawn": "",
        "timer": "",
        "winHide": false,
        "name": "CPU Load",
        "x": 341,
        "y": 239,
        "wires": [
            [
                "346a682c.0d2b98"
            ],
            [],
            []
        ]
    },
    {
        "id": "d4c79ff5.b9bab",
        "type": "switch",
        "z": "7d24d67.5c3b728",
        "name": "temp thresh",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "lte",
                "v": "50",
                "vt": "num"
            },
            {
                "t": "gt",
                "v": "60",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 610,
        "y": 100,
        "wires": [
            [],
            [
                "6c5524140364ebe5"
            ]
        ]
    },
    {
        "id": "ff33a303.8031",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "str = msg.payload\nvar msg2 = {};\nmsg.payload = parseFloat(str.substring(5,9));\nif (msg.payload < 50){msg.color = \"green\";}\nif (msg.payload >= 50){msg.color = \"orange\";}\nif (msg.payload >= 55){msg.color = \"red\";}\nmsg2.payload = 65;\nmsg.topic = \"CPU_Temp\";\n\nmsg2.topic = \"Max\";\nmsg2.color = \"red\";\nreturn [msg,msg2];",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 501,
        "y": 179,
        "wires": [
            [
                "d4c79ff5.b9bab",
                "49d61b90.ef4664",
                "31242180.7fe63e"
            ],
            [
                "31242180.7fe63e"
            ]
        ]
    },
    {
        "id": "e9e9989d.012ba8",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = {\"cputemp\": msg.payload};\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 940,
        "y": 140,
        "wires": [
            [
                "b43a966c189203bc"
            ]
        ]
    },
    {
        "id": "e21c373c.d5d798",
        "type": "exec",
        "z": "7d24d67.5c3b728",
        "command": "sudo cat /sys/class/net/wlan0/address",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 210,
        "y": 440,
        "wires": [
            [
                "9fad0dc0.abe16"
            ],
            [],
            []
        ]
    },
    {
        "id": "76a7f402.b4792c",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "92f013c.1fe17f",
        "type": "debug",
        "z": "7d24d67.5c3b728",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 770,
        "y": 360,
        "wires": []
    },
    {
        "id": "9fad0dc0.abe16",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "var output = msg.payload.split(\":\");\nvar msg0 ={};\nvar msg1 ={};\nvar msg2 ={};\nvar msg3 ={};\nvar msg4 ={};\nvar msg5 ={};\nvar msg6 ={};\nvar msg7 ={};\n msg0.payload = output[0];\nmsg1.payload = output[1];\nmsg2.payload = output[2];\nmsg3.payload = output[3];\nmsg4.payload = output[4];\nmsg5.payload =output[5].substring(0,2);\nmsg6.payload = output[0] + output[1] + output[2] +output[3] + output[4] + output[5].substring(0,2); \n\nlet message =  output[0].toString() + output[1].toString();\nlet password = \"38f\"; \nlet mes = Buffer.from(message, 'hex')[0];\nlet paw = Buffer.from(password);\nvar output2 = XOR_hex(message,password);\nfunction XOR_hex(a, b) {\n    var res = \"\",\n        i = a.length,\n        j = b.length;\n    while (i-->0 && j-->0)\n        res = (parseInt(a.charAt(i), 16) ^ parseInt(b.charAt(j), 16)).toString(16) + res;\n    return res;\n}\n\n\nmsg7.payload =  output[0] + output2 + output[2] +output[3] + output[4] + output[5].substring(0,2);\n\nreturn [msg0,msg1,msg2,msg3,msg4,msg5,msg6, msg7]",
        "outputs": 8,
        "noerr": 0,
        "x": 470,
        "y": 420,
        "wires": [
            [],
            [],
            [],
            [],
            [],
            [],
            [
                "92f013c.1fe17f",
                "8c4e4e36.0bc5",
                "440144b0.801bcc",
                "4de0712b.de711"
            ],
            []
        ]
    },
    {
        "id": "8c4e4e36.0bc5",
        "type": "ui_text",
        "z": "7d24d67.5c3b728",
        "group": "174a891f.229837",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "sn",
        "label": "Serial Number",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 750,
        "y": 400,
        "wires": []
    },
    {
        "id": "440144b0.801bcc",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "let message =  msg.payload;\nlet password = \"767564614078\"; \n//Buffer.from(msg.payload, 'hex')[0];\nlet mes = Buffer.from(message, 'hex')[0];\nlet paw = Buffer.from(password);\nvar output = XOR_hex(message,password);\nfunction XOR_hex(a, b) {\n    var res = \"\",\n        i = a.length,\n        j = b.length;\n    while (i-->0 && j-->0)\n        res = (parseInt(a.charAt(i), 16) ^ parseInt(b.charAt(j), 16)).toString(16) + res;\n    return res;\n}\n\nlet pawIndex = paw.lenght;\n//msg.payload = mes || paw;\nmsg.payload = output.substring(4,12);\n//msg.payload = cryptdata.toString('hex')\nvar name;\nname = msg.payload;\nglobal.set('activatecode', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 630,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "d9ee2a23.689ae8",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "ac6417056de5",
        "payloadType": "str",
        "x": 300,
        "y": 560,
        "wires": [
            [
                "440144b0.801bcc"
            ]
        ]
    },
    {
        "id": "b74efc55.8c693",
        "type": "debug",
        "z": "7d24d67.5c3b728",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 930,
        "y": 560,
        "wires": []
    },
    {
        "id": "564c3594.4c716c",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "ac:64:17:05:6d:e5",
        "payloadType": "str",
        "x": 310,
        "y": 320,
        "wires": [
            [
                "9fad0dc0.abe16",
                "8c4e4e36.0bc5"
            ]
        ]
    },
    {
        "id": "4de0712b.de711",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "\nvar actcode = global.get('activatecode');\nvar enteredcode = global.get('actcode');\nglobal.set('sn', msg.payload);\nif (actcode === enteredcode){msg.topic = 'activated';\n    global.set(\"activated\", true);\n}\nelse {msg.topic = 'not activated';\n    msg.color = \"red\";\n    global.set(\"activated\", false)\n}\nif (actcode === undefined){msg.topic = 'not activated';}\nif (enteredcode === undefined){msg.topic = 'not activated';}\n//msg.payload = actcode + \" \" + enteredcode\nmsg.payload = \" \"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 460,
        "wires": [
            [
                "6edee3b.7c6091c",
                "b74efc55.8c693"
            ]
        ]
    },
    {
        "id": "6edee3b.7c6091c",
        "type": "ui_text",
        "z": "7d24d67.5c3b728",
        "d": true,
        "group": "174a891f.229837",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "<font color= {{msg.color}} > {{msg.topic}} </font>",
        "format": "<font color= {{msg.color}} > {{msg.payload}} </font>",
        "layout": "row-spread",
        "x": 1010,
        "y": 440,
        "wires": []
    },
    {
        "id": "fa876d63.1b287",
        "type": "ui_text_input",
        "z": "7d24d67.5c3b728",
        "name": "",
        "label": "Activation Code",
        "tooltip": "",
        "group": "f8cb6c41.4dcc7",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 560,
        "y": 560,
        "wires": [
            [
                "930bf4df.2f0718"
            ]
        ]
    },
    {
        "id": "930bf4df.2f0718",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "global.set('actcode', msg.payload)\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 580,
        "wires": [
            [
                "4de0712b.de711",
                "5f171a6d.d85744"
            ]
        ]
    },
    {
        "id": "5f171a6d.d85744",
        "type": "delay",
        "z": "7d24d67.5c3b728",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 120,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "2e17ffc4.e8d6d",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 700,
        "wires": [
            [
                "6b726a35.79fbb4"
            ]
        ]
    },
    {
        "id": "6b726a35.79fbb4",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "if (global.get('company')=== undefined){\n    global.set('company', 'company');\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "68e1ac5b.9f5454",
        "type": "comment",
        "z": "7d24d67.5c3b728",
        "name": "Customer Name",
        "info": "",
        "x": 160,
        "y": 660,
        "wires": []
    },
    {
        "id": "940c312f.abe0f",
        "type": "ui_text_input",
        "z": "7d24d67.5c3b728",
        "name": "",
        "label": "Company Name",
        "tooltip": "",
        "group": "f8cb6c41.4dcc7",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 140,
        "y": 740,
        "wires": [
            [
                "4d2ec164.3915c"
            ]
        ]
    },
    {
        "id": "4d2ec164.3915c",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "global.set('company', msg.payload)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 740,
        "wires": [
            [
                "146e239b.85107c"
            ]
        ]
    },
    {
        "id": "146e239b.85107c",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "\nvar now = new Date();\nvar x = now.toLocaleString();\nvar x2 = x.replace(',','_');\nx = x2.replace('/',\"_\");\nx2 = x.replace('/',\"_\");\nvar date = global.get('sn');\n//var newMsg = { payload: msg.payload,\n//firestore: {document: x}};\nmsg.firestore = {\n        collection:'company',\n        document: global.get('sn') + '_info'\n        \n      }\n\nmsg.payload = {'Name': msg.payload,\ndate: now,\n Site: global.get('sitename')   \n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 740,
        "wires": [
            [
                "4a980028.6704f"
            ]
        ]
    },
    {
        "id": "4a980028.6704f",
        "type": "debug",
        "z": "7d24d67.5c3b728",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 670,
        "y": 700,
        "wires": []
    },
    {
        "id": "3bfb54e2.ca8e8c",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 800,
        "wires": [
            [
                "24976f72.8c852"
            ]
        ]
    },
    {
        "id": "24976f72.8c852",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = global.get('company');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 800,
        "wires": [
            [
                "940c312f.abe0f"
            ]
        ]
    },
    {
        "id": "63230255.75943c",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 620,
        "wires": [
            [
                "5bd16232.05765c"
            ]
        ]
    },
    {
        "id": "5bd16232.05765c",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = global.get('actcode');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 640,
        "wires": [
            [
                "e665bb2e.a88748"
            ]
        ]
    },
    {
        "id": "e665bb2e.a88748",
        "type": "delay",
        "z": "7d24d67.5c3b728",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 420,
        "y": 600,
        "wires": [
            [
                "fa876d63.1b287"
            ]
        ]
    },
    {
        "id": "5d78b641.ac7378",
        "type": "ui_text_input",
        "z": "7d24d67.5c3b728",
        "name": "",
        "label": "Send alarm to Email/Text Address",
        "tooltip": "",
        "group": "f8cb6c41.4dcc7",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 240,
        "y": 940,
        "wires": [
            [
                "8caaf21a.64496"
            ]
        ]
    },
    {
        "id": "8caaf21a.64496",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "var emailaddr;\nemailaddr = msg.payload;\nglobal.set('emailaddr', emailaddr);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "f9009a51.ac6ce8",
        "type": "ui_text_input",
        "z": "7d24d67.5c3b728",
        "name": "",
        "label": "Site Name",
        "tooltip": "",
        "group": "f8cb6c41.4dcc7",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 310,
        "y": 980,
        "wires": [
            [
                "91d865c9.529668"
            ]
        ]
    },
    {
        "id": "91d865c9.529668",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "var site;\nsite = msg.payload;\nglobal.set('sitename', site);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 980,
        "wires": [
            [
                "73e23cfe.343624"
            ]
        ]
    },
    {
        "id": "22fdb295.27f4ce",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1060,
        "wires": [
            [
                "34b84710.06db48"
            ]
        ]
    },
    {
        "id": "34b84710.06db48",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = global.get('emailaddr');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 1060,
        "wires": [
            [
                "5d78b641.ac7378"
            ]
        ]
    },
    {
        "id": "ee99abf1.ca10d8",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 1100,
        "wires": [
            [
                "75051d5e.d433f4",
                "2ec2ecc47d5f8d0c",
                "37d8279366bdfea5"
            ]
        ]
    },
    {
        "id": "75051d5e.d433f4",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = global.get('sitename');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 330,
        "y": 1100,
        "wires": [
            [
                "f9009a51.ac6ce8"
            ]
        ]
    },
    {
        "id": "73e23cfe.343624",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "var txt = msg.payload;\n\nmsg.payload = \"page0.tsite.txt=\\\"\"+ txt +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 920,
        "wires": [
            [
                "38e93e1d.0b3322"
            ]
        ]
    },
    {
        "id": "452917a1.3dabf8",
        "type": "serial out",
        "z": "7d24d67.5c3b728",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 1030,
        "y": 920,
        "wires": []
    },
    {
        "id": "38e93e1d.0b3322",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 850,
        "y": 920,
        "wires": [
            [
                "452917a1.3dabf8"
            ]
        ]
    },
    {
        "id": "861fdaa5.624d88",
        "type": "inject",
        "z": "7d24d67.5c3b728",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1.02",
        "payloadType": "str",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "4817f18c.644c7"
            ]
        ]
    },
    {
        "id": "4817f18c.644c7",
        "type": "ui_text",
        "z": "7d24d67.5c3b728",
        "group": "174a891f.229837",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Version",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 290,
        "y": 60,
        "wires": []
    },
    {
        "id": "49d61b90.ef4664",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = msg.payload + \"C\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 220,
        "wires": [
            [
                "9f7c6b07.b2ae48"
            ]
        ]
    },
    {
        "id": "31242180.7fe63e",
        "type": "ui_chart",
        "z": "7d24d67.5c3b728",
        "name": "",
        "group": "820af12a.cbee8",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "CPU Temperature",
        "chartType": "line",
        "legend": "true",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "200",
        "removeOlder": "4",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#2f9a28",
            "#a8481f",
            "#1e2c94",
            "#179217",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 980,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "346a682c.0d2b98",
        "type": "ui_chart",
        "z": "7d24d67.5c3b728",
        "name": "",
        "group": "820af12a.cbee8",
        "order": 6,
        "width": 0,
        "height": 0,
        "label": "CPU Load",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": "4",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#2a8b23",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 550,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "b43a966c189203bc",
        "type": "link out",
        "z": "7d24d67.5c3b728",
        "name": "",
        "links": [
            "9be5312a301da8f6"
        ],
        "x": 1035,
        "y": 140,
        "wires": []
    },
    {
        "id": "6c5524140364ebe5",
        "type": "delay",
        "z": "7d24d67.5c3b728",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": false,
        "outputs": 1,
        "x": 790,
        "y": 140,
        "wires": [
            [
                "e9e9989d.012ba8"
            ]
        ]
    },
    {
        "id": "2c338c2e1171cd24",
        "type": "ui_level",
        "z": "7d24d67.5c3b728",
        "group": "174a891f.229837",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "CPU",
        "colorHi": "#e60000",
        "colorWarn": "#ff9900",
        "colorNormal": "#00b33c",
        "colorOff": "#595959",
        "min": 0,
        "max": 100,
        "segWarn": "50",
        "segHigh": "65",
        "unit": " C",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": "1",
        "animations": "soft",
        "shape": 2,
        "colorschema": "fixed",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": false,
        "hideValue": false,
        "tickmode": "off",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 1070,
        "y": 60,
        "wires": []
    },
    {
        "id": "b316af1f75f252ee",
        "type": "comment",
        "z": "7d24d67.5c3b728",
        "name": "Get Ip Address",
        "info": "",
        "x": 200,
        "y": 1240,
        "wires": []
    },
    {
        "id": "2ec2ecc47d5f8d0c",
        "type": "ip",
        "z": "7d24d67.5c3b728",
        "name": "ip",
        "https": false,
        "timeout": "5000",
        "internalIPv4": true,
        "internalIPv6": false,
        "publicIPv4": false,
        "publicIPv6": false,
        "x": 380,
        "y": 1240,
        "wires": [
            [
                "85ecb4af01da9a5b"
            ]
        ]
    },
    {
        "id": "941ab957c9619f5b",
        "type": "ui_text",
        "z": "7d24d67.5c3b728",
        "group": "174a891f.229837",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Local IP Address",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 690,
        "y": 1240,
        "wires": []
    },
    {
        "id": "85ecb4af01da9a5b",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = msg.payload.internalIPv4;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 1240,
        "wires": [
            [
                "941ab957c9619f5b"
            ]
        ]
    },
    {
        "id": "d066579801acebf8",
        "type": "ui_text",
        "z": "7d24d67.5c3b728",
        "group": "174a891f.229837",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "VFD Model",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 650,
        "y": 1320,
        "wires": []
    },
    {
        "id": "37d8279366bdfea5",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "",
        "func": "msg.payload = \"Fuji Mega EQ7\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 1320,
        "wires": [
            [
                "d066579801acebf8"
            ]
        ]
    },
    {
        "id": "bb45da66bb60a656",
        "type": "function",
        "z": "7d24d67.5c3b728",
        "name": "function 2",
        "func": "msg.payload =63;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 120,
        "wires": [
            [
                "31242180.7fe63e",
                "49d61b90.ef4664",
                "2c338c2e1171cd24"
            ]
        ]
    },
    {
        "id": "14219165.d3aa1f",
        "type": "comment",
        "z": "1842a961.504507",
        "name": "Title Bar Header",
        "info": "",
        "x": 300,
        "y": 60,
        "wires": []
    },
    {
        "id": "97a6b54a.af5728",
        "type": "function",
        "z": "1842a961.504507",
        "name": "sitename",
        "func": "msg.payload = global.get('sitename');\nmsg.topic = \"project\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 100,
        "wires": [
            [
                "9817d475e8fee380"
            ]
        ]
    },
    {
        "id": "a58c18b4.e81e08",
        "type": "inject",
        "z": "1842a961.504507",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 100,
        "wires": [
            [
                "97a6b54a.af5728"
            ]
        ]
    },
    {
        "id": "55392c53.8c9024",
        "type": "inject",
        "z": "1842a961.504507",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 380,
        "wires": [
            [
                "5e47a1ea.6c1f",
                "e6abd743eb75454c"
            ]
        ]
    },
    {
        "id": "5e47a1ea.6c1f",
        "type": "function",
        "z": "1842a961.504507",
        "name": "date",
        "func": "date = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nmsg.payload = date;\nnode.status(date);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 380,
        "wires": [
            [
                "a134a298.8f60a",
                "0d93350f54e19631",
                "0a26937751e534ad"
            ]
        ]
    },
    {
        "id": "a134a298.8f60a",
        "type": "ui_text",
        "z": "1842a961.504507",
        "group": "347794ab.4617dc",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "clock_Settings",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "x": 640,
        "y": 380,
        "wires": []
    },
    {
        "id": "21f550c6730cdcc5",
        "type": "comment",
        "z": "1842a961.504507",
        "name": "Show Clock",
        "info": "",
        "x": 150,
        "y": 340,
        "wires": []
    },
    {
        "id": "f1dec89a0706337a",
        "type": "inject",
        "z": "1842a961.504507",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "online",
        "payload": "online",
        "payloadType": "str",
        "x": 370,
        "y": 140,
        "wires": [
            [
                "60a7496ff103a5e3"
            ]
        ]
    },
    {
        "id": "866f007af1688359",
        "type": "inject",
        "z": "1842a961.504507",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "offline",
        "payload": "offline",
        "payloadType": "str",
        "x": 370,
        "y": 180,
        "wires": [
            [
                "60a7496ff103a5e3"
            ]
        ]
    },
    {
        "id": "e6abd743eb75454c",
        "type": "function",
        "z": "1842a961.504507",
        "name": "alarm",
        "func": "var alm = \"Alarm\"; //global.get(\"alarm\");\nvar proj = global.get('sitename');\nif (alm){\nmsg.topic = \"Alarm\";\nmsg.payload = \"Alarm\";}\nelse{msg.topic = \"project\";\nmsg.payload = proj;\nreturn msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 220,
        "wires": [
            [
                "9817d475e8fee380"
            ]
        ]
    },
    {
        "id": "0a26937751e534ad",
        "type": "ui_text",
        "z": "1842a961.504507",
        "group": "fd4cbea3.6101d",
        "order": 2,
        "width": "4",
        "height": "1",
        "name": "clock_main",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "x": 630,
        "y": 420,
        "wires": []
    },
    {
        "id": "b63edca50029e333",
        "type": "ui_ui_control",
        "z": "1842a961.504507",
        "name": "",
        "events": "all",
        "x": 860,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "f65c374016764675",
        "type": "ui_template",
        "z": "1842a961.504507",
        "group": "fd4cbea3.6101d",
        "name": "clockicon",
        "order": 1,
        "width": "2",
        "height": "1",
        "format": "<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\" ng-click=\"send({payload: '3'})\">\n       <i class=\"material-icons\" >\n           <div style=\"color:{{msg.topic.perm}}\">access_time</div>\n           </i>\n</md-button> ",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 480,
        "wires": [
            [
                "b63edca50029e333"
            ]
        ]
    },
    {
        "id": "0d93350f54e19631",
        "type": "function",
        "z": "1842a961.504507",
        "name": "",
        "func": "\nmsg.topic = {\"perm\":\"#FF0000 \"};\nmsg.topic = {\"perm\":\"#008000 \"};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 480,
        "wires": [
            [
                "f65c374016764675"
            ]
        ]
    },
    {
        "id": "298ced6192865079",
        "type": "inject",
        "z": "1842a961.504507",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 200,
        "wires": [
            [
                "e6abd743eb75454c"
            ]
        ]
    },
    {
        "id": "816cfc9b7327f310",
        "type": "inject",
        "z": "1842a961.504507",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 350,
        "y": 280,
        "wires": [
            [
                "9817d475e8fee380"
            ]
        ]
    },
    {
        "id": "bc2aa47626ed3451",
        "type": "comment",
        "z": "1842a961.504507",
        "name": "",
        "info": "<script id=\"titleScript\" type=\"text/javascript\">\n    $('#titlewords').remove();\n    $('#titleStatus').remove();\n    var toolbar = $('.md-toolbar-tools');\n    var div = $('<div style=\"text-align:center; width:100%;\"/>');\n    var p = $('<p/ id=\"titlewords\">');\n    \n    $('#titleScript').parent().hide();\n    div.append(p);\n    toolbar.append(div);\n\n    function displayTitle(lh) {\n        p.text(lh); \n    }\n\n    // Watch the payload and update the title\n    (function(scope) {\n        scope.$watch('msg.payload', function(data) {\n            displayTitle(data);\n        });\n    })(scope);\n</script>\n",
        "x": 820,
        "y": 100,
        "wires": []
    },
    {
        "id": "9817d475e8fee380",
        "type": "ui_template",
        "z": "1842a961.504507",
        "group": "fe762942.fd8b08",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<script id=\"titleScript\" type=\"text/javascript\">\n    $('#titlewords').remove();\nvar toolbar = $('.md-toolbar-tools');\nvar div = $('\n<div style=\"text-align:center; width:100%;\" />');\nvar p = $('<p / id=\"titlewords\">');\n\n    $('#titleScript').parent().hide();\n    div.append(p);\n    toolbar.append(div);\n\n    function displayTitle(lh) {\n    p.text(lh);\n    }\n\n    // Watch the payload and update the title\n    (function(scope) {\n    scope.$watch('msg.payload', function(data) {\n    displayTitle(data);\n    });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 640,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "ccc60bede64f4dd2",
        "type": "comment",
        "z": "1842a961.504507",
        "name": "",
        "info": "<style>\n    #headerStatus {\n        font-weight: bold;\n        text-transform: uppercase;\n    }\n\n    #headerStatus.online {\n        color: lime;\n    }\n\n    #headerStatus.offline {\n        color: tomato;\n    }\n\n    #headerStatus.Alarm {\n        color: red;\n    }\n    }\n\n    #headerStatus.project {\n        color: lightgray;\n    }\n</style>",
        "x": 840,
        "y": 160,
        "wires": []
    },
    {
        "id": "47b2593f4d960c60",
        "type": "comment",
        "z": "1842a961.504507",
        "name": "",
        "info": "\n<script id=\"titleScript\" type=\"text/javascript\">\n    $(function() {\n    if($('.md-toolbar-tools').length){\n        initHeader();\n    } else setTimeout(initHeader, 500)\n});\n\nfunction initHeader(){\n    if (!$('#headerStatus').length) {\n        var toolbar = $('.md-toolbar-tools');\n        var div = $('<div/>');\n        var p = $('<p id=\"headerStatus\" />');\n        div[0].style.margin = '5px 5px 5px auto';\n        div.append(p);\n        toolbar.append(div);\n    }\n}\n</script>\n\n<script>\n    (function(scope) {\n        scope.$watch('msg', function(data) {\n            var elem = document.getElementById(\"headerStatus\")\n            if(elem !== null) {\n                elem.className = data.topic;\n                elem.innerHTML = data.payload;\n            }\n        });\n    })(scope);\n</script>",
        "x": 840,
        "y": 220,
        "wires": []
    },
    {
        "id": "60a7496ff103a5e3",
        "type": "ui_template",
        "z": "1842a961.504507",
        "group": "fe762942.fd8b08",
        "name": "",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<script>\n    scope.$watch('msg', function(data) {\n            var elem = document.getElementById(data.topic)\n            if(elem !== null) {\n                if (data.hasOwnProperty('fontFamily')) {elem.style.fontFamily = data.fontFamily}\n                if (data.hasOwnProperty('fontStyle')) {elem.style.fontStyle = data.fontStyle}\n                if (data.hasOwnProperty('color')) {elem.style.color = data.color}\n                if (data.hasOwnProperty('fontSize')) {elem.style.fontSize = data.fontSize}\n                if (data.hasOwnProperty('fontWeight')) {elem.style.fontWeight = data.fontWeight}\n                if (data.hasOwnProperty('payload')) {elem.innerHTML = data.payload};\n                if (data.hasOwnProperty('image')) {elem.src = data.image};\n                \n            }\n        });\n    })(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "global",
        "className": "",
        "x": 640,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "e4b2165b.92a278",
        "type": "inject",
        "z": "7fff0426.068eec",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 160,
        "wires": [
            [
                "f5e00f4f.53f91",
                "b2bfc982.fd3bd8",
                "daeabf50.28b",
                "4ab427dcd66b9528"
            ]
        ]
    },
    {
        "id": "f5e00f4f.53f91",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "",
        "func": "\nvar txt = global.get(\"sitename\")\n\n    msg.payload = \"page0.tsite.txt=\\\"\"+ txt +\"\\\"\" ;//+ \"page0.tBMS1.bco=\"+ color +\"\";\n return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 180,
        "wires": [
            [
                "4030b6a3.851d88"
            ]
        ]
    },
    {
        "id": "4030b6a3.851d88",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 810,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "33d8bb0c.dcd774",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "",
        "func": "\nvar txt = global.get(\"a0name\")\n     msg.payload = \"page0.tA0.txt=\\\"\"+ txt +\"\\\"\" ;\n return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 220,
        "wires": [
            [
                "4030b6a3.851d88"
            ]
        ]
    },
    {
        "id": "b2bfc982.fd3bd8",
        "type": "delay",
        "z": "7fff0426.068eec",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 490,
        "y": 220,
        "wires": [
            [
                "33d8bb0c.dcd774",
                "c604ea8f.01ac48"
            ]
        ]
    },
    {
        "id": "c604ea8f.01ac48",
        "type": "delay",
        "z": "7fff0426.068eec",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 490,
        "y": 260,
        "wires": [
            [
                "c531b963.500e48",
                "3ef70c7c.45c564"
            ]
        ]
    },
    {
        "id": "c531b963.500e48",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "",
        "func": "var txt = global.get(\"a1name\")\n     msg.payload = \"page0.tA1.txt=\\\"\"+ txt +\"\\\"\" ;\n return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 260,
        "wires": [
            [
                "4030b6a3.851d88"
            ]
        ]
    },
    {
        "id": "3ef70c7c.45c564",
        "type": "delay",
        "z": "7fff0426.068eec",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 490,
        "y": 300,
        "wires": [
            [
                "d033ea58.1a1158",
                "8e1b4546.235388"
            ]
        ]
    },
    {
        "id": "d033ea58.1a1158",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "",
        "func": "var txt = global.get(\"a2name\")\n     msg.payload = \"page0.tA2.txt=\\\"\"+ txt +\"\\\"\" ;\n return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 300,
        "wires": [
            [
                "4030b6a3.851d88"
            ]
        ]
    },
    {
        "id": "fcf00e24.6c4ea",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "",
        "func": "var txt = global.get(\"a3name\")\n   msg.payload = \"page0.tA3.txt=\\\"\"+ txt +\"\\\"\" ;\n return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 340,
        "wires": [
            [
                "4030b6a3.851d88"
            ]
        ]
    },
    {
        "id": "8e1b4546.235388",
        "type": "delay",
        "z": "7fff0426.068eec",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 490,
        "y": 340,
        "wires": [
            [
                "fcf00e24.6c4ea"
            ]
        ]
    },
    {
        "id": "daeabf50.28b",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "",
        "func": "global.set(\"reset\", false);\nglobal.set(\"vfdrun\", 0);\nglobal.set(\"perm\", false);\nglobal.set(\"ao\", 0);\nglobal.set(\"a1\", 0);\nglobal.set(\"a2\", 0);\nglobal.set(\"a3\", 0);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "4ab427dcd66b9528",
        "type": "function",
        "z": "7fff0426.068eec",
        "name": "function 11",
        "func": "global.set(\"almcount\", 0);\nglobal.set(\"sslogcnt\", 0);\nglobal.set(\"eventcnt\", 0);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "c42f030a.c94f7",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.topic = \"almi1\";\nvar iostatus;\nvar alm = flow.get(\"almi1\");\n\nif (!global.get(\"i1nc\")){iostatus = flow.get(\"i1\");}else{iostatus = !flow.get(\"i1\");}\nnode.status(iostatus + \" \" + msg.payload);\n\n\n\nif (iostatus == 1 && alm == 0 && msg.payload == 1) {\n    msg.payload = 1;\n    global.set(\"alarm\", true);\n    flow.set(\"almi1\", 1);\n    if (global.get(\"i1restartdelay\")>0) {\n        global.set(\"restart\", 1); \n        global.set(\"restarttime\",\n        global.get(\"i1restartdelay\"))} \n    return msg;\n}\n\n\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 140,
        "wires": [
            [
                "2cbc5854.6a4c98",
                "f57949f4.d37c38"
            ]
        ]
    },
    {
        "id": "6fc46b61.54f304",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.topic = \"almi3\";\nvar iostatus;\nvar alm = flow.get(\"almi3\");\n\nif (!global.get(\"i3nc\")){iostatus = flow.get(\"i3\");}else{iostatus = !flow.get(\"i3\");}\nnode.status(iostatus + \" \" + msg.payload);\n\n\n\nif (iostatus == 1 && alm == 0 && msg.payload == 1) {\n    msg.payload = 1;\n    global.set(\"alarm\", true);\n    flow.set(\"almi3\", 1);\n    if (global.get(\"i3restartdelay\")>0) {\n        global.set(\"restart\", 1); \n        global.set(\"restarttime\",\n        global.get(\"i3restartdelay\"))} \n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 220,
        "wires": [
            [
                "15eb0199.fa1ede",
                "f57949f4.d37c38"
            ]
        ]
    },
    {
        "id": "180c3568.b6058b",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.topic = \"almi2\";\nvar iostatus;\nvar alm = flow.get(\"almi2\");\n\nif (!global.get(\"i2nc\")){iostatus = flow.get(\"i2\");}else{iostatus = !flow.get(\"i2\");}\nnode.status(iostatus + \" \" + msg.payload);\n\n\n\nif (iostatus == 1 && alm == 0 && msg.payload == 1) {\n    msg.payload = 1;\n    global.set(\"alarm\", true);\n    flow.set(\"almi2\", 1);\n    if (global.get(\"i2restartdelay\")>0) {\n        global.set(\"restart\", 1); \n        global.set(\"restarttime\",\n        global.get(\"i2restartdelay\"))} \n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 180,
        "wires": [
            [
                "f5df31b5.4e193",
                "f57949f4.d37c38"
            ]
        ]
    },
    {
        "id": "db514959.570828",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.topic = \"almi4\";\nvar iostatus;\nvar alm = flow.get(\"almi4\");\n\nif (!global.get(\"i4nc\")){iostatus = flow.get(\"i4\");}else{iostatus = !flow.get(\"i4\");}\nnode.status(iostatus + \" \" + msg.payload);\n\n\n\nif (iostatus == 1 && alm == 0 && msg.payload == 1) {\n    msg.payload = 1;\n    global.set(\"alarm\", true);\n    flow.set(\"almi4\", 1);\n    if (global.get(\"i4restartdelay\")>0) {\n        global.set(\"restart\", 1); \n        global.set(\"restarttime\",\n        global.get(\"i4restartdelay\"))} \n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 260,
        "wires": [
            [
                "e0975401.659108",
                "f57949f4.d37c38"
            ]
        ]
    },
    {
        "id": "c28a003d.ab8c3",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 740,
        "wires": [
            [
                "38964f4e.10e5",
                "aa5fb838.2ee418",
                "aa972192.014f7",
                "a911e0f4.e09f5",
                "cb8bed1f.c8cab",
                "510e7436.1847ac",
                "1fa91b4f7124f8e2",
                "bf05a58a.d6b038",
                "a3c37d48.52a09",
                "f0ba1aaa.a326f8",
                "c5968114.8c9d2"
            ]
        ]
    },
    {
        "id": "e54290d3.04287",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.topic = \"almi0\";\nvar iostatus = msg.payload;\n\n\nif (iostatus === 1) {\n    msg.payload = 1;global.set(\"alarm\", true);flow.set(\"almi0\", 1);\n    node.status(msg.payload + \" \" + iostatus);\n    global.set(\"enable\", 1);\n    return msg;\n}\n\nelse {msg.payload = 0; flow.set(\"almi0\", 0); global.set(\"enable\", 0)}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 80,
        "wires": [
            [
                "966a52c6.96916",
                "f57949f4.d37c38"
            ]
        ]
    },
    {
        "id": "343215c6.829e2a",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "global.set(\"lastalm\", msg.payload);\nvar sitename = global.get('sitename');\nmsg.to = global.get('emailaddr');\nmsg.text = sitename + \" \"  + msg.payload;\nmsg.subject = \"Alarm\";\nmsg.topic = \"Alarm\";\nmsg.color =\"red\";\nnode.status(msg.payload);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1200,
        "y": 260,
        "wires": [
            [
                "518303c4.e128ac",
                "2ce60f57.84b3",
                "3bef634d.2a908c"
            ]
        ]
    },
    {
        "id": "6b55cf8.e86613",
        "type": "e-mail out",
        "z": "caed099b.012a78",
        "server": "smtp.office365.com",
        "port": "587",
        "secure": false,
        "name": "9186371723@txt.att.net",
        "dname": "",
        "x": 1830,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "3c28263.87e19da",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Test Email",
        "payloadType": "str",
        "x": 1000,
        "y": 80,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "2cbc5854.6a4c98",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (msg.payload == 1){\nmsg.payload =  global.get(\"i1name\");\nmsg.topic = msg.payload;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 140,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "f5df31b5.4e193",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (msg.payload == 1){\nmsg.payload =  global.get(\"i2name\");\nmsg.topic = msg.payload;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 180,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "15eb0199.fa1ede",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (msg.payload == 1){\nmsg.payload =  global.get(\"i3name\");\nmsg.topic = msg.payload;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 220,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "e0975401.659108",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (msg.payload == 1){\nmsg.payload =  global.get(\"i4name\");\nmsg.topic = msg.payload;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 260,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "966a52c6.96916",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (msg.payload == 1){\nmsg.payload = \"Enable\";\nmsg.topic = msg.payload;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 80,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "ec7a7935.220ed8",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Alarm Text",
        "info": "",
        "x": 760,
        "y": 40,
        "wires": []
    },
    {
        "id": "518303c4.e128ac",
        "type": "gate",
        "z": "caed099b.012a78",
        "name": "",
        "controlTopic": "control",
        "defaultState": "closed",
        "openCmd": "open",
        "closeCmd": "close",
        "toggleCmd": "toggle",
        "defaultCmd": "default",
        "persist": true,
        "x": 1810,
        "y": 260,
        "wires": [
            [
                "6b55cf8.e86613"
            ]
        ]
    },
    {
        "id": "19047caf.b08b83",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Email Off",
        "func": "var email;\n\nemail = msg.payload; //global.get(\"email\", email)\nmsg.topic = \"control\";\nif (email==\"1\"){global.set(\"email\", 1);\n    \n    msg.payload = \"open\";}\n    else {msg.payload = \"close\";\n    global.set(\"email\", 0);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1660,
        "y": 260,
        "wires": [
            [
                "518303c4.e128ac"
            ]
        ]
    },
    {
        "id": "1bef02a7.b4c40d",
        "type": "ui_switch",
        "z": "caed099b.012a78",
        "name": "",
        "label": "Email Alarm",
        "tooltip": "",
        "group": "f8cb6c41.4dcc7",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 1510,
        "y": 300,
        "wires": [
            [
                "19047caf.b08b83"
            ]
        ]
    },
    {
        "id": "39621077.d97c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var email;\n\nemail = global.get(\"email\", email)\n\n\nif (email==\"1\"){msg.payload = 1;\n    }\n    else {msg.payload = 0;\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 320,
        "wires": [
            [
                "1bef02a7.b4c40d"
            ]
        ]
    },
    {
        "id": "88d15155.2fd44",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1390,
        "y": 380,
        "wires": [
            [
                "39621077.d97c"
            ]
        ]
    },
    {
        "id": "aa5fb838.2ee418",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var temp;\nvar vfdrun = global.get(\"vfdrun\");\n\nmsg.topic = \"control\";\nif (vfdrun){\n    \n    msg.payload = 1;}else{msg.payload = 0}\n   \nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 580,
        "wires": [
            [
                "9b75f6a.19a3408"
            ]
        ]
    },
    {
        "id": "38964f4e.10e5",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var temp;\n\nvar alarm = global.get(\"alarm\");\n\nmsg.topic = \"control\";\nif (alarm){\n    \n    msg.payload = 1;\n   \n\n}else {msg.payload = 0}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 540,
        "wires": [
            [
                "7dec64b1.f1c30c"
            ]
        ]
    },
    {
        "id": "c89768cd.2f0788",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var alm;\nvar reset = global.get(\"reset\");\nalm = flow.get(\"almi0\") + flow.get(\"almi1\") \n+ flow.get(\"almi2\") + flow.get(\"almi3\") + flow.get(\"almi4\")  \n+ flow.get(\"alma0\")  + flow.get(\"alma1\")+ flow.get(\"alma2\")+ flow.get(\"alma3\")\n+ global.get(\"olalm\")+global.get(\"ulalm\") + global.get(\"vfdfault\");\nif (alm > 0) {global.set(\"alarm\", true)}\nif (reset){\n    global.set(\"alarm\", false); msg.payload = 0;\n    flow.set(\"almi0\", 0);\n    flow.set(\"almi1\", 0);\n    flow.set(\"almi2\", 0);\n    flow.set(\"almi3\", 0);\n    flow.set(\"almi4\", 0);\n    global.set(\"olalm\", 0);\n    global.set(\"ulalm\", 0);\n    global.set(\"vfdfault\", 0);\n}\n\nmsg.payload = alm;\nnode.status(alm);\nif (alm){global.set(\"vfdrun\", 0);}\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 2640,
        "wires": [
            [
                "5bdeafac.4b24",
                "83a0f060.1a70b"
            ]
        ]
    },
    {
        "id": "396cf682.b1e56a",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Analogs",
        "info": "",
        "x": 80,
        "y": 740,
        "wires": []
    },
    {
        "id": "6eed51f6.84872",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 110,
        "y": 1040,
        "wires": [
            [
                "dc17bac4b9570b32"
            ]
        ]
    },
    {
        "id": "75305e45.ee757",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1750,
        "y": 680,
        "wires": [
            [
                "df26beea.31614"
            ]
        ]
    },
    {
        "id": "df1ef189.a8c8a",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "A1",
        "func": "var txt = msg.payload;\n msg.payload = \"page0.tva1.txt=\\\"\"+ txt +\"\\\"\" ;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 760,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "df26beea.31614",
        "type": "serial out",
        "z": "caed099b.012a78",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 1770,
        "y": 740,
        "wires": []
    },
    {
        "id": "a3c37d48.52a09",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var volts;\nvar val;\nvar intVal;\nvar a1name = global.get(\"a1name\");\nvar min = global.get(\"a1min\");\nvar max = global.get(\"a1scale\");\nvar units = global.get(\"units1\");\nmsg.payload = flow.get(\"a1\");\n//volts =msg.A1[\"ADS1115  I2C_ADDRESS_0x48  Channel A1-GND  Voltage\"];\nvolts = msg.payload; //[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_1.Volts\n\n// for 4-20ma 200ohm \n// 0 = 0.8V 20ma = 4v\n// normalize 0-1   z = x-min/(max-min)\nval = volts; //Analog scale\nval = (volts-0.8)/(4.09-0.8);\nmsg.payload = val.toFixed(2);\n\nval = val*max;\nval = ((val+min)/(max+min))*max;\nmsg.payload = val.toFixed(2);\nmsg.topic = a1name;\n\nvar a1 = Number(msg.payload);\nglobal.set(\"a1\",a1);\nmsg.units = units;\nnode.status(msg.payload + \" \" + msg.units);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 840,
        "wires": [
            [
                "df1ef189.a8c8a",
                "fc4c6149.4dd1f",
                "f8d187e3.127d88",
                "ec7c15c6.d21078"
            ]
        ]
    },
    {
        "id": "f8d187e3.127d88",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda1\");\nvar alm = flow.get(\"alma1\");\nvar tripdelay = global.get(\"a1tripdelay\")*1000;\nvar lolo = global.get(\"a1lolo\"); \nvar hihi =  global.get(\"a1hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.delay = tripdelay;\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.delay = tripdelay;\nreturn msg;}\n\n}\nif (msg.payload >= lolo && msg.payload < hihi){msg.reset = 1; return msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 800,
        "wires": [
            [
                "08f42c6fb1d0df78"
            ]
        ]
    },
    {
        "id": "38cf50d5.da7fb",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "\nmsg.payload = msg.topic;\nglobal.set(\"alarm\",true);\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\nnode.status({\"text\": global.get('last_update')});\nmsg.payload = date + \", \" + msg.payload;\n//msg.payload = '{date' + \":\"  + 5 + ', desc' + \":\" + msg.payload + \"}\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 820,
        "wires": [
            [
                "bf71d0ff.1f5dc",
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "bf71d0ff.1f5dc",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var txt = msg.payload;\n\nmsg.payload = \"page0.t3.txt=\\\"\"+ txt +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1480,
        "y": 820,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "2ce60f57.84b3",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.color =\"black\";\n\n return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1370,
        "y": 140,
        "wires": [
            [
                "e339e6e1.79a728",
                "b8c59ff05db4d998"
            ]
        ]
    },
    {
        "id": "e339e6e1.79a728",
        "type": "file",
        "z": "caed099b.012a78",
        "name": "",
        "filename": "/data/docs/alms.csv",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "x": 1660,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "8f3e1682.33f3a8",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Log to File",
        "info": "",
        "x": 1700,
        "y": 120,
        "wires": []
    },
    {
        "id": "1af61d80.10b633",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Alarm State",
        "func": "if (msg.payload === 0){\n  msg.payload = \"page0.t3.txt=\\\"\"+ \" \" +\"\\\"\" ;//  \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 900,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "bf05a58a.d6b038",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var volts;\nvar val;\nvar intVal;\nmsg.payload =flow.get(\"a0\");\nvar a0name = global.get(\"a0name\");\nvar min = global.get(\"a0min\");\nvar max = global.get(\"a0scale\");\nvar units = global.get(\"units0\");\n//volts =msg.A0[\"ADS1115  I2C_ADDRESS_0x48  Channel A0-GND  Voltage\"];\nvolts = msg.payload; //[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_0.Volts\n\n// for 4-20ma 200ohm \n// 0 = 0.8V 20ma = 4v\n// normalize 0-1   z = x-min/(max-min)\nval = volts; //Analog scale\nval = (volts-0.8)/(4.09-0.8);\nmsg.payload = val.toFixed(2);\n\nval = val*max;\nval = ((val+min)/(max+min))*max;\nmsg.payload = val.toFixed(2);\nmsg.topic = a0name;\n\nvar a0 = Number(msg.payload);\nglobal.set(\"a0\",a0);\nmsg.units = units;\nnode.status(msg.payload + \" \" + msg.units);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 780,
        "wires": [
            [
                "89326120.8e0f2",
                "6cf4096f.9b4568",
                "8158d488fff88be3",
                "c90b424e.0d783"
            ]
        ]
    },
    {
        "id": "f0ba1aaa.a326f8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var volts;\nvar val;\nvar intVal;\nvar a2name = global.get(\"a2name\");\nvar min = global.get(\"a2min\");\nvar max = global.get(\"a2scale\");\nvar units = global.get(\"units2\");\nmsg.payload = flow.get(\"a2\");\n//volts =msg.A2[\"ADS1115  I2C_ADDRESS_0x48  Channel A2-GND  Voltage\"];\nvolts = msg.payload; //[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_2.Volts\n\n// for 4-20ma 200ohm \n// 0 = 0.8V 20ma = 4v\n// normalize 0-1   z = x-min/(max-min)\nval = volts; //Analog scale\nval = (volts-0.8)/(4.09-0.8);\nmsg.payload = val.toFixed(2);\nnode.status(msg.payload);\n\nval = val*max;\nval = ((val+min)/(max+min))*max;\nmsg.payload = val.toFixed(2);\nnode.status(msg.payload);\nmsg.topic = a2name;\nvar a2 = Number(msg.payload);\nglobal.set(\"a2\",a2);\nmsg.units = units;\nnode.status(msg.payload + \" \" + msg.units);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 900,
        "wires": [
            [
                "b86130ba.93d3c",
                "ba0f4c3.f6d77b",
                "85f1fedc.9b947",
                "689af2d25392074b"
            ]
        ]
    },
    {
        "id": "c5968114.8c9d2",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var volts;\nvar val;\nvar intVal;\nvar a3name = global.get(\"a3name\");\nvar min = global.get(\"a3min\");\nvar max = global.get(\"a3scale\");\nvar units = global.get(\"units3\");\nmsg.payload = flow.get(\"a3\");\n//volts =msg.A3[\"ADS1115  I2C_ADDRESS_0x48  Channel A3-GND  Voltage\"];\nvolts =msg.payload; //[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_3.Volts\n\n// for 4-20ma 200ohm \n// 0 = 0.8V 20ma = 4v\n// normalize 0-1   z = x-min/(max-min)\nval = volts; //Analog scale\nval = (volts-0.8)/(4.09-0.8);\nmsg.payload = val.toFixed(2);\nnode.status(msg.payload);\n\nval = val*max;\nval = ((val+min)/(max+min))*max;\nmsg.payload = val.toFixed(2);\nnode.status(msg.payload);\nmsg.topic = a3name;\nvar a3 = Number(msg.payload);\nglobal.set(\"a3\",a3);\nmsg.units = units;\nnode.status(msg.payload + \" \" + msg.topic);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 980,
        "wires": [
            [
                "74b33261.c7d01c",
                "a7672cc7.a71ba",
                "57689f72.2010b",
                "491c2d700549a268"
            ]
        ]
    },
    {
        "id": "3b53be1d.c32a42",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "delay",
        "timeout": "200",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1270,
        "y": 920,
        "wires": [
            [
                "1af61d80.10b633"
            ]
        ]
    },
    {
        "id": "f6716e9d.652e8",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "AnalogScaling",
        "info": "",
        "x": 530,
        "y": 700,
        "wires": []
    },
    {
        "id": "f57949f4.d37c38",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var date = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nvar text;\n\nif (msg.payload === 1){\n    if (msg.topic == \"almi0\"){text = date + \", \" +  global.get(\"i0name\");\n  msg.payload = \"page0.t3.txt=\\\"\"+ text +\"\\\"\" }\n   if (msg.topic == \"almi1\"){text = date + \", \" +  global.get(\"i1name\");\n  msg.payload = \"page0.t3.txt=\\\"\"+ text +\"\\\"\" ; }\n    if (msg.topic == \"almi2\"){text = date + \", \" +  global.get(\"i2name\");\n  msg.payload = \"page0.t3.txt=\\\"\"+ text +\"\\\"\" ; }\n  if (msg.topic == \"almi3\"){text = date + \", \" +  global.get(\"i3name\");\n  msg.payload = \"page0.t3.txt=\\\"\"+ text +\"\\\"\" ; }\n  if (msg.topic == \"almi4\"){text = date + \", \" +  global.get(\"i4name\");\n  msg.payload = \"page0.t3.txt=\\\"\"+ text +\"\\\"\" ; }\n  if (msg.topic == \"almi5\"){text = date + \", \" +  global.get(\"i5name\");\n  msg.payload = \"page0.t3.txt=\\\"\"+ text +\"\\\"\" ; }\n}else\n{\n//msg.payload = \"page0.t3.txt=\\\"\"+ \" \" +\"\\\"\" ;//   \n}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1540,
        "y": 620,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "a0db4546.4d3f88",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 120,
        "y": 1160,
        "wires": [
            [
                "f3a9eb4c.23f018"
            ]
        ]
    },
    {
        "id": "f3a9eb4c.23f018",
        "type": "change",
        "z": "caed099b.012a78",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "becon",
                "pt": "global"
            },
            {
                "t": "delete",
                "p": "fan",
                "pt": "global"
            },
            {
                "t": "delete",
                "p": "door",
                "pt": "global"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "horn",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "i",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "9fe55999.8fd6c8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "\nif (global.get(\"alarm\") === 0) {msg.payload = 0}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 990,
        "y": 2080,
        "wires": [
            [
                "3b53be1d.c32a42"
            ]
        ]
    },
    {
        "id": "5bdeafac.4b24",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (global.get(\"alarm\")){\n    msg.color = \"red\";\n    msg.payload = 1;\n}\nelse{\n    msg.payload =0;\n    msg.color = \"green\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2620,
        "wires": [
            [
                "11999a1c.e665b6"
            ]
        ]
    },
    {
        "id": "97c2b264.825ce",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "CHK for any ALM",
        "info": "",
        "x": 190,
        "y": 2640,
        "wires": []
    },
    {
        "id": "cd2e0fc9.3f1aa",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Clear Unused Globals",
        "info": "",
        "x": 220,
        "y": 1120,
        "wires": []
    },
    {
        "id": "2734a6e7.5cfbaa",
        "type": "ui_text_input",
        "z": "caed099b.012a78",
        "name": "",
        "label": "A0 Scale",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 440,
        "y": 1440,
        "wires": [
            [
                "e66f707b.e855"
            ]
        ]
    },
    {
        "id": "24159345.e3860c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = null;\nvar num = global.get(\"a0scale\");\nvar hihi = Number(global.get(\"a0hihi\"));\nvar lolo = Number(global.get(\"a0lolo\"));\nvar min = global.get(\"a0min\");\n\nvar t =num;\nmsg.payload ={\n    \"min\": min,\n    \"max\": t,\n    \"ymax\": t+2,\n    \"ymin\": min-2,\n    \"seg1\": lolo,\n    \"seg2\": hihi\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1200,
        "wires": [
            [
                "4944777050950e01"
            ]
        ]
    },
    {
        "id": "96965d2b.d83bc",
        "type": "change",
        "z": "caed099b.012a78",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "ui_control",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1240,
        "wires": [
            [
                "fc4c6149.4dd1f",
                "c3ff37778be26c61"
            ]
        ]
    },
    {
        "id": "c466faee.0674c8",
        "type": "ui_text_input",
        "z": "caed099b.012a78",
        "name": "",
        "label": "A1 Scale",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 440,
        "y": 1480,
        "wires": [
            [
                "61f4a111.18d3f"
            ]
        ]
    },
    {
        "id": "3fd0b6db.009fea",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = null;\nvar num = global.get(\"a1scale\");\nvar hihi = Number(global.get(\"a1hihi\"));\nvar lolo = Number(global.get(\"a1lolo\"));\nvar min = global.get(\"a1min\");\n\nvar t =num;\nmsg.payload ={\n    \"min\": min,\n    \"max\": t,\n    \"ymax\": t+2,\n     \"ymin\": min-2,\n    \"seg1\": lolo,\n    \"seg2\": hihi\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1240,
        "wires": [
            [
                "96965d2b.d83bc"
            ]
        ]
    },
    {
        "id": "d2544a53.f2a318",
        "type": "change",
        "z": "caed099b.012a78",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "ui_control",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1280,
        "wires": [
            [
                "b86130ba.93d3c",
                "7a363f0f5a86dc95"
            ]
        ]
    },
    {
        "id": "6f0bdf05.af9f1",
        "type": "ui_text_input",
        "z": "caed099b.012a78",
        "name": "",
        "label": "A2 Scale",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 440,
        "y": 1520,
        "wires": [
            [
                "d34a2646.f647a8"
            ]
        ]
    },
    {
        "id": "86afa678.5a2b78",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = null;\nvar num = global.get(\"a2scale\");\nvar hihi = Number(global.get(\"a2hihi\"));\nvar lolo = Number(global.get(\"a2lolo\"));\nvar min = global.get(\"a2min\");\n\nvar t =num;\nmsg.payload ={\n    \"min\": min,\n    \"max\": t,\n    \"ymax\": t +2,\n     \"ymin\": min-2,\n    \"seg1\": lolo,\n    \"seg2\": hihi\n};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1280,
        "wires": [
            [
                "d2544a53.f2a318"
            ]
        ]
    },
    {
        "id": "13b361f5.1b257e",
        "type": "change",
        "z": "caed099b.012a78",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "ui_control",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1320,
        "wires": [
            [
                "74b33261.c7d01c",
                "3241a72cf97dcf06"
            ]
        ]
    },
    {
        "id": "d257a28e.c4076",
        "type": "ui_text_input",
        "z": "caed099b.012a78",
        "name": "",
        "label": "A3 Scale",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 440,
        "y": 1560,
        "wires": [
            [
                "2983f8bc.b980a8"
            ]
        ]
    },
    {
        "id": "41e27b00.cbcef4",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = null;\nvar num = global.get(\"a3scale\");\nvar hihi = Number(global.get(\"a3hihi\"));\nvar lolo = Number(global.get(\"a3lolo\"));\nvar min = global.get(\"a3min\");\n\nvar t =num;\nmsg.payload ={\n    \"min\": min,\n    \"max\": t,\n    \"ymax\": t+2,\n     \"ymin\": min-2,\n    \"seg1\": lolo,\n    \"seg2\": hihi\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1320,
        "wires": [
            [
                "13b361f5.1b257e"
            ]
        ]
    },
    {
        "id": "fc4c6149.4dd1f",
        "type": "ui_gauge",
        "z": "caed099b.012a78",
        "name": "a1",
        "group": "24345615.900bea",
        "order": 2,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "{{msg.topic}}",
        "label": "{{msg.units}}",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ca3838",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 790,
        "y": 1260,
        "wires": []
    },
    {
        "id": "b86130ba.93d3c",
        "type": "ui_gauge",
        "z": "caed099b.012a78",
        "name": "a2",
        "group": "24345615.900bea",
        "order": 3,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "{{msg.topic}}",
        "label": "{{msg.units}}",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ca3838",
            "#03b300",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 790,
        "y": 1340,
        "wires": []
    },
    {
        "id": "74b33261.c7d01c",
        "type": "ui_gauge",
        "z": "caed099b.012a78",
        "name": "a3",
        "group": "24345615.900bea",
        "order": 4,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "{{msg.topic}}",
        "label": "{{msg.units}}",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#ca3838",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 790,
        "y": 1420,
        "wires": []
    },
    {
        "id": "89326120.8e0f2",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "A0",
        "func": "var txt = msg.payload;\n msg.payload = \"page0.tva0.txt=\\\"\"+ txt +\"\\\"\" ;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 660,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "ba0f4c3.f6d77b",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "a2",
        "func": "var txt = msg.payload;\n msg.payload = \"page0.tva2.txt=\\\"\"+ txt +\"\\\"\" ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 860,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "a7672cc7.a71ba",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "a3",
        "func": "var txt = msg.payload;\n msg.payload = \"page0.tva3.txt=\\\"\"+ txt +\"\\\"\" ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 960,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "aa972192.014f7",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var iostatus;\nvar vfdrun = global.get(\"vfdrun\");\nvar alm = flow.get(\"almi1\");\nvar sd1 =flow.get(\"sd1\");\nvar tripdelay = global.get(\"i1tripdelay\")*1000;\nif (!global.get(\"i1nc\")){iostatus = flow.get(\"i1\");}else{iostatus = !flow.get(\"i1\");}\n\nif (iostatus == 1){\n\nif (vfdrun == 1 && sd1 == 1 && alm == 0){\nmsg.payload = 1; msg.delay = tripdelay;\nreturn msg;}} else {msg.reset = 1; return msg;}\n\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 140,
        "wires": [
            [
                "9be66766419bfc25"
            ]
        ]
    },
    {
        "id": "e93c95b0.0342a8",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Touch Screen",
        "info": "",
        "x": 90,
        "y": 2120,
        "wires": []
    },
    {
        "id": "d16f8c47.4c7d1",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.1",
        "func": "if (msg.payload === 0) {flow.set(\"i1\", 0)}else{flow.set(\"i1\", 1)}\nnode.status(msg.payload, + \" \" + flow.get(\"i1\"));\nmsg.topic = global.get(\"i1name\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 140,
        "wires": [
            [
                "4c66f9f0.af11b8"
            ]
        ]
    },
    {
        "id": "d22070df.c0604",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.2",
        "func": "if (msg.payload === 0) {flow.set(\"i2\", 0)}else{flow.set(\"i2\", 1)}\nnode.status(msg.payload);\nmsg.topic = global.get(\"i2name\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 200,
        "wires": [
            [
                "74010a1.d721ff4"
            ]
        ]
    },
    {
        "id": "dfd55fb4.34409",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.3",
        "func": "if (msg.payload === 0) {flow.set(\"i3\", 0)}else{flow.set(\"i3\", 1)}\nnode.status(msg.payload);\nmsg.topic = global.get(\"i3name\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 260,
        "wires": [
            [
                "f3f1b414.0e4898"
            ]
        ]
    },
    {
        "id": "c9e96a1a.5502c8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.0",
        "func": "if (msg.payload === 0) {flow.set(\"i0\", 0)}else{flow.set(\"i0\", 1)}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 80,
        "wires": [
            [
                "e54290d3.04287",
                "c25cbd96.d459e",
                "5c451a8.1aff6e4"
            ]
        ]
    },
    {
        "id": "a9b59865.c37b58",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.4",
        "func": "if (msg.payload === 0) {flow.set(\"i4\", 0)}else{flow.set(\"i4\", 1)}\nnode.status(msg.payload);\nmsg.topic = global.get(\"i4name\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 320,
        "wires": [
            [
                "dfe96028.ee108"
            ]
        ]
    },
    {
        "id": "99fee66c.da5a98",
        "type": "serial in",
        "z": "caed099b.012a78",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 70,
        "y": 2180,
        "wires": [
            [
                "d764c39c.42c",
                "96c0fe6c.7e96f",
                "45b08d1f.c16974",
                "5cf39b7b.deb444",
                "17da67df.1cb248"
            ]
        ]
    },
    {
        "id": "d764c39c.42c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Event",
        "func": "msg.payload = msg.payload[0];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "77aec672.f1db28",
        "type": "debug",
        "z": "caed099b.012a78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 510,
        "y": 2100,
        "wires": []
    },
    {
        "id": "96c0fe6c.7e96f",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Page",
        "func": "msg.payload = msg.payload[1];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2180,
        "wires": [
            []
        ]
    },
    {
        "id": "5cf39b7b.deb444",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "ID",
        "func": "msg.payload = msg.payload[2];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 2220,
        "wires": [
            [
                "77aec672.f1db28"
            ]
        ]
    },
    {
        "id": "45b08d1f.c16974",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "State",
        "func": "msg.payload = msg.payload[7];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 2280,
        "wires": [
            []
        ]
    },
    {
        "id": "17da67df.1cb248",
        "type": "switch",
        "z": "caed099b.012a78",
        "name": "",
        "property": "payload[2]",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "12",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "18",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "19",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "8",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "9",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "17",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 6,
        "x": 490,
        "y": 2180,
        "wires": [
            [
                "e6332691.eca388"
            ],
            [
                "846f50eb.88638"
            ],
            [
                "70c47225.bfa62c"
            ],
            [
                "7d822b12.d564f4"
            ],
            [],
            [
                "7edf7ee7.b3635"
            ]
        ]
    },
    {
        "id": "e6332691.eca388",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Start",
        "func": "var perm = global.get(\"perm\");\nvar vfdrun = global.get(\"vfdrun\");\nif (perm) {global.set(\"vfdrun\",1)}\nnode.status(perm + \" \" + vfdrun);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "846f50eb.88638",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Stop",
        "func": "global.set(\"vfdrun\", 0);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 2200,
        "wires": [
            []
        ]
    },
    {
        "id": "70c47225.bfa62c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Reset",
        "func": "global.set(\"reset\", true);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2240,
        "wires": [
            [
                "9fe55999.8fd6c8"
            ]
        ]
    },
    {
        "id": "7d822b12.d564f4",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Beacon",
        "func": "if (msg.payload[7] == 1 ){\n   \nmsg.payload=\"Beacon Armed\"\n    global.set('beacon', 1)\n    var txt = 'Armed'\n    var color = 65438;\n    msg.payload = \"page0.tB1.txt=\\\"\"+ txt +\"\\\"\" ;\n}\nelse {msg.payload=\"Beacon Disarmed\"\n    global.set('beacon', 0)\n    txt = 'DisArmed'\n    msg.payload = \"page0.tB1.txt=\\\"\"+ txt +\"\\\"\";\n}\n\n return msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 740,
        "y": 2280,
        "wires": [
            []
        ]
    },
    {
        "id": "7edf7ee7.b3635",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Clear",
        "func": "\nif (global.get(\"alarm\") === 0) {msg.payload = 0}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 2360,
        "wires": [
            [
                "3c4db87e.e58ab8"
            ]
        ]
    },
    {
        "id": "3c4db87e.e58ab8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "Alarm State",
        "func": "//if (msg.payload === 0){\n  msg.payload = \"page0.t3.txt=\\\"\"+ \" \" +\"\\\"\" ;//  \n//}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 950,
        "y": 2360,
        "wires": [
            [
                "75305e45.ee757"
            ]
        ]
    },
    {
        "id": "6f8baa5a.c30f54",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 670,
        "y": 2420,
        "wires": [
            [
                "3c4db87e.e58ab8"
            ]
        ]
    },
    {
        "id": "3d705f90.41324",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 1500,
        "wires": [
            [
                "db851b53.48cb68",
                "7729e393.248c9c",
                "15a5c372.fd362d",
                "915ba648.08bc08",
                "08c4271130989476"
            ]
        ]
    },
    {
        "id": "db851b53.48cb68",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = global.get(\"a0scale\");\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1440,
        "wires": [
            [
                "2734a6e7.5cfbaa"
            ]
        ]
    },
    {
        "id": "7729e393.248c9c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = global.get(\"a1scale\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1480,
        "wires": [
            [
                "c466faee.0674c8"
            ]
        ]
    },
    {
        "id": "15a5c372.fd362d",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = global.get(\"a2scale\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1520,
        "wires": [
            [
                "6f0bdf05.af9f1"
            ]
        ]
    },
    {
        "id": "915ba648.08bc08",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = global.get(\"a3scale\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1560,
        "wires": [
            [
                "d257a28e.c4076"
            ]
        ]
    },
    {
        "id": "463fc9c.ba93738",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Outputs",
        "info": "",
        "x": 560,
        "y": 500,
        "wires": []
    },
    {
        "id": "579a4065.9f3b",
        "type": "ui_text",
        "z": "caed099b.012a78",
        "group": "8d058cd6.60efd",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "Alarms",
        "label": "",
        "format": "<font color= {{msg.color}} > {{msg.payload}} </font>",
        "layout": "row-spread",
        "x": 730,
        "y": 2680,
        "wires": []
    },
    {
        "id": "34cfb3d8.eeadcc",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Reset",
        "info": "",
        "x": 180,
        "y": 2540,
        "wires": []
    },
    {
        "id": "c3d2b18d.c35ae",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var reset = global.get(\"reset\");\nif (reset){flow.set(\"alma0\", 0); flow.set(\"sda0\", 0);\nflow.set(\"alma1\", 0); flow.set(\"sda1\", 0);\nflow.set(\"alma2\", 0); flow.set(\"sda2\", 0);\nflow.set(\"alma3\", 0); flow.set(\"sda3\", 0);\nglobal.set(\"olalm\", 0); global.set(\"ulalm\", 0);\n    \n}\n\nmsg.payload = reset;\nnode.status(reset);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 2580,
        "wires": [
            []
        ]
    },
    {
        "id": "b47398f2.8cb478",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 2580,
        "wires": [
            [
                "c3d2b18d.c35ae",
                "c89768cd.2f0788",
                "c222e4589a8a83d5"
            ]
        ]
    },
    {
        "id": "83a0f060.1a70b",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var alm = msg.payload;\nif (alm === 0){msg.color = \"grey\";}else{msg.color =\"red\"}\nmsg.payload = global.get(\"lastalm\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2680,
        "wires": [
            [
                "579a4065.9f3b"
            ]
        ]
    },
    {
        "id": "a911e0f4.e09f5",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var iostatus;\nvar vfdrun = global.get(\"vfdrun\");\nvar alm = flow.get(\"almi2\");\nvar sd =flow.get(\"sd2\");\nvar tripdelay = global.get(\"i2tripdelay\")*1000;\nif (!global.get(\"i2nc\")){iostatus = flow.get(\"i2\");}else{iostatus = !flow.get(\"i2\");}\n\nif (iostatus == 1){\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\nmsg.payload = 1; msg.delay = tripdelay;\nreturn msg;}}else {msg.reset = 1; return msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 180,
        "wires": [
            [
                "f0332c4f1e87faae"
            ]
        ]
    },
    {
        "id": "cb8bed1f.c8cab",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var iostatus;\nvar vfdrun = global.get(\"vfdrun\");\nvar alm = flow.get(\"almi3\");\nvar sd =flow.get(\"sd3\");\nvar tripdelay = global.get(\"i3tripdelay\")*1000;\nif (!global.get(\"i3nc\")){iostatus = flow.get(\"i3\");}else{iostatus = !flow.get(\"i3\");}\n\nif (iostatus == 1){\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\nmsg.payload = 1; msg.delay = tripdelay;\nreturn msg;}}else {msg.reset = 1; return msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 220,
        "wires": [
            [
                "2dddb693cfe9416f"
            ]
        ]
    },
    {
        "id": "510e7436.1847ac",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var iostatus;\nvar vfdrun = global.get(\"vfdrun\");\nvar alm = flow.get(\"almi4\");\nvar sd =flow.get(\"sd4\");\nvar tripdelay = global.get(\"i4tripdelay\")*1000;\nif (!global.get(\"i4nc\")){iostatus = flow.get(\"i4\");}else{iostatus = !flow.get(\"i4\");}\n\nif (iostatus == 1){\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\nmsg.payload = 1; msg.delay = tripdelay;\nreturn msg;}}else {msg.reset = 1; return msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 260,
        "wires": [
            [
                "96399088b01ba5f1"
            ]
        ]
    },
    {
        "id": "6cf4096f.9b4568",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda0\");\nvar alm = flow.get(\"alma0\");\nvar tripdelay = global.get(\"a0tripdelay\")*1000;\nvar lolo = global.get(\"a0lolo\"); \nvar hihi =  global.get(\"a0hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.delay = tripdelay;\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.delay = tripdelay;\nreturn msg;}\n\n}\n\n\n\n\nif (msg.payload >= lolo && msg.payload < hihi){msg.reset = 1; return msg;}\n\nnode.status(msg.payload + \" \" + lolo + \" \" + vfdrun);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 700,
        "wires": [
            [
                "f828df704f9cecda"
            ]
        ]
    },
    {
        "id": "85f1fedc.9b947",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "function",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda2\");\nvar alm = flow.get(\"alma2\");\nvar tripdelay = global.get(\"a2tripdelay\")*1000;\nvar lolo = global.get(\"a2lolo\"); \nvar hihi =  global.get(\"a2hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.delay = tripdelay;\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.delay = tripdelay;\nreturn msg;}\n\n}\nif (msg.payload >= lolo && msg.payload < hihi){msg.reset = 1; return msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 900,
        "wires": [
            [
                "fb7b64b2c955555d"
            ]
        ]
    },
    {
        "id": "57689f72.2010b",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "functiom",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda3\");\nvar alm = flow.get(\"alma3\");\nvar tripdelay = global.get(\"a3tripdelay\")*1000;\nvar lolo = global.get(\"a3lolo\"); \nvar hihi =  global.get(\"a3hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.delay = tripdelay;\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.delay = tripdelay;\nreturn msg;}\n\n}\nif (msg.payload >= lolo && msg.payload < hihi){msg.reset = 1; return msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1000,
        "wires": [
            [
                "da1d3ce251d8b54c"
            ]
        ]
    },
    {
        "id": "189afdb8.9a19f2",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 510,
        "y": 2740,
        "wires": [
            [
                "fecef92a.ccf798"
            ]
        ]
    },
    {
        "id": "fecef92a.ccf798",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "\nglobal.set(\"reset\", false);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2740,
        "wires": [
            []
        ]
    },
    {
        "id": "d0e83776.febbc8",
        "type": "ui_chart",
        "z": "caed099b.012a78",
        "name": "a0chart",
        "group": "31a0f8b7.6d3848",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} A0",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "-5",
        "ymax": "1000",
        "removeOlder": "5",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#ff7f0e",
            "#ff7f0e",
            "#ff7f0e",
            "#248f24",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1000,
        "y": 1200,
        "wires": [
            [
                "11c1a395.c49f8c"
            ]
        ]
    },
    {
        "id": "42584c31.aee5a4",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1220,
        "y": 80,
        "wires": [
            [
                "3feade2a.a2c522"
            ]
        ]
    },
    {
        "id": "3feade2a.a2c522",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "\nvar sitename = global.get('sitename');\nmsg.to = global.get('emailaddr');\nmsg.text = sitename + \" \"  + msg.payload;\nmsg.subject = \"Alarm\";\nmsg.topic = \"Alarm\";\nmsg.color =\"black\";\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\nglobal.set(\"lastalm\", date + \" Last Event Reboot\");\nmsg.payload = date + \", \" + \"Last Event Reboot\";\nnode.status(msg.payload);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1410,
        "y": 80,
        "wires": [
            [
                "e339e6e1.79a728",
                "3bef634d.2a908c"
            ]
        ]
    },
    {
        "id": "41d418f5.df1e68",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Resets",
        "info": "",
        "x": 240,
        "y": 2680,
        "wires": []
    },
    {
        "id": "c25cbd96.d459e",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "if (msg.payload == 0) {msg.color =\"red\"; msg.background = \"red\"; msg.payload = false;}\nif (msg.payload == 1) {msg.color =\"black\"; msg.background = \"red\"; msg.payload = true;}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 60,
        "wires": [
            [
                "b3ae288c.374be8"
            ]
        ]
    },
    {
        "id": "11c1a395.c49f8c",
        "type": "persist in",
        "z": "caed099b.012a78",
        "name": "a0",
        "storageNode": "3e3f6b1d.70f884",
        "x": 1210,
        "y": 1200,
        "wires": []
    },
    {
        "id": "805dd90d.46f588",
        "type": "persist out",
        "z": "caed099b.012a78",
        "name": "a0",
        "storageNode": "3e3f6b1d.70f884",
        "x": 810,
        "y": 1220,
        "wires": [
            [
                "d0e83776.febbc8"
            ]
        ]
    },
    {
        "id": "61d63750.a69b58",
        "type": "persist in",
        "z": "caed099b.012a78",
        "name": "a1",
        "storageNode": "aa2941.be3166c",
        "x": 1210,
        "y": 1300,
        "wires": []
    },
    {
        "id": "da2f07fb.74acf8",
        "type": "persist out",
        "z": "caed099b.012a78",
        "name": "a1",
        "storageNode": "aa2941.be3166c",
        "x": 790,
        "y": 1300,
        "wires": [
            [
                "c3ff37778be26c61"
            ]
        ]
    },
    {
        "id": "c045d02d.5c367",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 670,
        "y": 340,
        "wires": [
            [
                "83ec6568.0f2398"
            ]
        ]
    },
    {
        "id": "83ec6568.0f2398",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdflt = global.get(\"vfdfault\");\nvar vfdfltstored = flow.get(\"vfdfault\");\nvar flttext = global.get(\"vfdfaulttext\");\n\nif (vfdflt == 1 && vfdfltstored == 0) {\n    date = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + \"VFD fault \" + flttext ;  \n\nflow.set(\"vfdfault\", 1);\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 340,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "6e316076.b7da5",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "I1 Startup Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1700,
        "wires": [
            [
                "6e714024.bc631"
            ]
        ]
    },
    {
        "id": "fdbe055b.1d8ec8",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "I2 Startup Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1740,
        "wires": [
            [
                "6c4b4880.74f218"
            ]
        ]
    },
    {
        "id": "cfa47ab8.870858",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "I3 Startup Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1780,
        "wires": [
            [
                "8f9b20c0.dd7b4"
            ]
        ]
    },
    {
        "id": "4746eeeb.71c97",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "I4 Startup Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1820,
        "wires": [
            [
                "19d4f5f4.f0040a"
            ]
        ]
    },
    {
        "id": "18ffdf21.211e41",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Start-Up Delay",
        "pauseType": "delayv",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1920,
        "wires": [
            [
                "19bbe298.39295d"
            ]
        ]
    },
    {
        "id": "317c26de.58f56a",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Start-Up Delay",
        "pauseType": "delayv",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1880,
        "wires": [
            [
                "fc00234.370d6e"
            ]
        ]
    },
    {
        "id": "30829232.d27b6e",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Start-Up Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 1960,
        "wires": [
            [
                "ed7e432.49476c"
            ]
        ]
    },
    {
        "id": "553266aa.4472f8",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Start-Up Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 360,
        "y": 2000,
        "wires": [
            [
                "2e9a4874.bdf078"
            ]
        ]
    },
    {
        "id": "2956729a.a4131e",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"i1sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sd1\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1700,
        "wires": [
            [
                "6e316076.b7da5"
            ]
        ]
    },
    {
        "id": "6e714024.bc631",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sd1\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1700,
        "wires": [
            []
        ]
    },
    {
        "id": "10516aaf.dca5c5",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "input Startup delays",
        "info": "",
        "x": 750,
        "y": 1780,
        "wires": []
    },
    {
        "id": "1b24ceca.ee91d1",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 1620,
        "wires": [
            [
                "2956729a.a4131e",
                "73dfeef1.e0be6",
                "d05d6b71.7ca0e8",
                "83e69441.4499c8",
                "8b8a4866.a37ce8",
                "9250db71.957798",
                "4bb1d4a5.8ae51c",
                "5dd2bb09.09ddb4"
            ]
        ]
    },
    {
        "id": "73dfeef1.e0be6",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"i2sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sd2\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1740,
        "wires": [
            [
                "fdbe055b.1d8ec8"
            ]
        ]
    },
    {
        "id": "d05d6b71.7ca0e8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"i3sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sd3\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1780,
        "wires": [
            [
                "cfa47ab8.870858"
            ]
        ]
    },
    {
        "id": "83e69441.4499c8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"i4sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sd4\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1820,
        "wires": [
            [
                "4746eeeb.71c97"
            ]
        ]
    },
    {
        "id": "6c4b4880.74f218",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sd2\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "8f9b20c0.dd7b4",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sd3\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1780,
        "wires": [
            []
        ]
    },
    {
        "id": "19d4f5f4.f0040a",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sd4\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1820,
        "wires": [
            []
        ]
    },
    {
        "id": "a149626e.6caf9",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "Analog Startup Delays",
        "info": "",
        "x": 740,
        "y": 1940,
        "wires": []
    },
    {
        "id": "8b8a4866.a37ce8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"a0sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sda0\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1880,
        "wires": [
            [
                "317c26de.58f56a"
            ]
        ]
    },
    {
        "id": "9250db71.957798",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"a1sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sda1\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1920,
        "wires": [
            [
                "18ffdf21.211e41"
            ]
        ]
    },
    {
        "id": "4bb1d4a5.8ae51c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"a2sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sda2\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1960,
        "wires": [
            [
                "30829232.d27b6e"
            ]
        ]
    },
    {
        "id": "5dd2bb09.09ddb4",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"a3sd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"sda3\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 2000,
        "wires": [
            [
                "553266aa.4472f8"
            ]
        ]
    },
    {
        "id": "fc00234.370d6e",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sda0\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1880,
        "wires": [
            []
        ]
    },
    {
        "id": "19bbe298.39295d",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sda1\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "ed7e432.49476c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sda2\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1960,
        "wires": [
            []
        ]
    },
    {
        "id": "2e9a4874.bdf078",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "flow.set(\"sda3\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2000,
        "wires": [
            []
        ]
    },
    {
        "id": "c90b424e.0d783",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": true,
        "outputs": 1,
        "x": 980,
        "y": 1140,
        "wires": [
            [
                "d0e83776.febbc8"
            ]
        ]
    },
    {
        "id": "ec7c15c6.d21078",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": true,
        "outputs": 1,
        "x": 980,
        "y": 1240,
        "wires": [
            [
                "c3ff37778be26c61"
            ]
        ]
    },
    {
        "id": "3bef634d.2a908c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "\nvar alarmcount = global.get(\"almcount\");\nalarmcount = alarmcount + 1;\nglobal.set(\"almcount\", alarmcount);\nmsg.payload = alarmcount;\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1460,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "13914f63.1c4061",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "add reboot to log",
        "info": "",
        "x": 1460,
        "y": 40,
        "wires": []
    },
    {
        "id": "5c451a8.1aff6e4",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 1,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "Enable DI 0.0",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i0 led",
        "x": 350,
        "y": 20,
        "wires": []
    },
    {
        "id": "b3ae288c.374be8",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 1,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "I 0.0 Enable",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i0.0 led perm",
        "x": 590,
        "y": 20,
        "wires": []
    },
    {
        "id": "4c66f9f0.af11b8",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 2,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} DI 0.1",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i1 led",
        "x": 370,
        "y": 140,
        "wires": []
    },
    {
        "id": "74010a1.d721ff4",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 3,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} DI 0.2",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i2 led",
        "x": 370,
        "y": 200,
        "wires": []
    },
    {
        "id": "f3f1b414.0e4898",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 4,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} DI 0.3",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i3 led",
        "x": 370,
        "y": 260,
        "wires": []
    },
    {
        "id": "dfe96028.ee108",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 5,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} DI 0.4",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i4 led",
        "x": 370,
        "y": 320,
        "wires": []
    },
    {
        "id": "7dec64b1.f1c30c",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 1,
        "group": "1a6aa557.3ee09b",
        "width": 0,
        "height": 0,
        "label": "O 0.0 Fault",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "alm Led",
        "x": 720,
        "y": 500,
        "wires": []
    },
    {
        "id": "9b75f6a.19a3408",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 2,
        "group": "1a6aa557.3ee09b",
        "width": 0,
        "height": 0,
        "label": "O 0.1 VFD Running",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "vfd run",
        "x": 710,
        "y": 560,
        "wires": []
    },
    {
        "id": "11999a1c.e665b6",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 4,
        "group": "8d058cd6.60efd",
        "width": 0,
        "height": 0,
        "label": "Alarm Status",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "Alarm",
        "x": 730,
        "y": 2620,
        "wires": []
    },
    {
        "id": "e66f707b.e855",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "global.set(\"a0scale\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "61f4a111.18d3f",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "global.set(\"a1scale\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "d34a2646.f647a8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "global.set(\"a2scale\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "2983f8bc.b980a8",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "global.set(\"a3scale\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "7ec19dcd.a5fec4",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 1200,
        "wires": [
            [
                "24159345.e3860c",
                "3fd0b6db.009fea",
                "86afa678.5a2b78",
                "41e27b00.cbcef4"
            ]
        ]
    },
    {
        "id": "c222e4589a8a83d5",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var reset = global.get(\"reset\")\nnode.status(reset);\nif (reset) {\n  return msg;  \n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 2820,
        "wires": [
            [
                "189afdb8.9a19f2"
            ]
        ]
    },
    {
        "id": "e8d8b60f866991e9",
        "type": "link in",
        "z": "caed099b.012a78",
        "name": "vfdalarm",
        "links": [
            "0250872a75c406f0"
        ],
        "x": 1145,
        "y": 140,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "b8c59ff05db4d998",
        "type": "link out",
        "z": "caed099b.012a78",
        "name": "",
        "links": [
            "fbb0d15a9ae8cc8a"
        ],
        "x": 1645,
        "y": 60,
        "wires": []
    },
    {
        "id": "4944777050950e01",
        "type": "change",
        "z": "caed099b.012a78",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "ui_control",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1200,
        "wires": [
            [
                "d0e83776.febbc8",
                "8158d488fff88be3"
            ]
        ]
    },
    {
        "id": "8158d488fff88be3",
        "type": "ui_gauge",
        "z": "caed099b.012a78",
        "name": "a0",
        "group": "24345615.900bea",
        "order": 1,
        "width": 0,
        "height": 0,
        "gtype": "gage",
        "title": "{{msg.topic}}",
        "label": "{{msg.units}}",
        "format": "{{value}}",
        "min": 0,
        "max": 10,
        "colors": [
            "#ca3838",
            "#00b500",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 790,
        "y": 1180,
        "wires": []
    },
    {
        "id": "a3a26eb4ee924f18",
        "type": "link in",
        "z": "caed099b.012a78",
        "name": "tcp error",
        "links": [
            "a34511caf5deb06c"
        ],
        "x": 995,
        "y": 440,
        "wires": [
            [
                "343215c6.829e2a"
            ]
        ]
    },
    {
        "id": "ded959213d87b028",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.5 start",
        "func": "if (msg.payload == 1) {\n    global.set(\"runinput\", 1);\n\n}else global.set(\"runinput\", 0);\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 380,
        "wires": [
            [
                "701f3734c334f844"
            ]
        ]
    },
    {
        "id": "6c28d5e73f2876ee",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "i0.6 stop",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (msg.payload === 1 ) {\n    global.set(\"stopinput\", 1);\n   msg.payload = 1;\n\n}else {global.set(\"stopinput\", 0);}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 420,
        "wires": [
            [
                "b47dd6933e39e533",
                "c192cb9d98ecbce6",
                "656fc5cacc7c2e49"
            ]
        ]
    },
    {
        "id": "4267f79e1a315ea1",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "powerfail",
        "func": "if (msg.payload == 0){global.set(\"powerfail\", false);}\nif (msg.payload == 1) {msg.payload = \"Power Fail\";\n    var date = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nglobal.set(\"powerfail\", true);\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 480,
        "wires": [
            [
                "343215c6.829e2a",
                "6f58210d0cbd91b6"
            ]
        ]
    },
    {
        "id": "701f3734c334f844",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 6,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "Start Input",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i5 led",
        "x": 510,
        "y": 360,
        "wires": []
    },
    {
        "id": "c192cb9d98ecbce6",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 7,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "Stop Input",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i6 led",
        "x": 490,
        "y": 400,
        "wires": []
    },
    {
        "id": "6f58210d0cbd91b6",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 8,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "Power Fail",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i7 led",
        "x": 250,
        "y": 540,
        "wires": []
    },
    {
        "id": "143df2770fc3aefa",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "vfdrun",
        "info": "",
        "x": 700,
        "y": 2100,
        "wires": []
    },
    {
        "id": "1fa91b4f7124f8e2",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var perm = global.get(\"perm\");\nvar runinput = global.get(\"runinput\");\nvar vfdrun = global.get(\"vfdrun\");\nvar stopinput = global.get(\"vfdrun\");\nnode.status(perm + \" \" + runinput + \" \" + stopinput);\nif (perm && vfdrun == 0 && stopinput == 0) {\n    if (runinput == 1){global.set(\"vfdrun\",1);\n        msg.payload = \"Start Input\";\nreturn msg;}\n}\n//node.status(perm + \" \" + runinput);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 620,
        "wires": [
            [
                "d0040dd563789d25"
            ]
        ]
    },
    {
        "id": "857adc1fc3df8e41",
        "type": "comment",
        "z": "caed099b.012a78",
        "name": "vfdrun",
        "info": "",
        "x": 80,
        "y": 620,
        "wires": []
    },
    {
        "id": "76799fb928171dda",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 730,
        "y": 420,
        "wires": [
            [
                "6c28d5e73f2876ee",
                "c192cb9d98ecbce6"
            ]
        ]
    },
    {
        "id": "9972b724be63b3b9",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 730,
        "y": 460,
        "wires": [
            [
                "6c28d5e73f2876ee"
            ]
        ]
    },
    {
        "id": "656fc5cacc7c2e49",
        "type": "ui_led",
        "z": "caed099b.012a78",
        "order": 6,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "Stop Input",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "i6 led perm",
        "x": 430,
        "y": 500,
        "wires": []
    },
    {
        "id": "b47dd6933e39e533",
        "type": "link out",
        "z": "caed099b.012a78",
        "name": "",
        "links": [
            "9f08cd31f3bf9a3a"
        ],
        "x": 355,
        "y": 380,
        "wires": []
    },
    {
        "id": "d0040dd563789d25",
        "type": "link out",
        "z": "caed099b.012a78",
        "name": "",
        "links": [
            "56beab660f100ce9"
        ],
        "x": 375,
        "y": 620,
        "wires": []
    },
    {
        "id": "5b91c34f9f68d709",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 70,
        "y": 580,
        "wires": [
            [
                "ded959213d87b028"
            ]
        ]
    },
    {
        "id": "7bff89fa699ba627",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 90,
        "y": 640,
        "wires": [
            [
                "ded959213d87b028"
            ]
        ]
    },
    {
        "id": "9be66766419bfc25",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 650,
        "y": 140,
        "wires": [
            [
                "c42f030a.c94f7"
            ]
        ]
    },
    {
        "id": "f0332c4f1e87faae",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 660,
        "y": 180,
        "wires": [
            [
                "180c3568.b6058b"
            ]
        ]
    },
    {
        "id": "2dddb693cfe9416f",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 640,
        "y": 220,
        "wires": [
            [
                "6fc46b61.54f304"
            ]
        ]
    },
    {
        "id": "96399088b01ba5f1",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 640,
        "y": 260,
        "wires": [
            [
                "db514959.570828"
            ]
        ]
    },
    {
        "id": "f828df704f9cecda",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Trip Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 700,
        "wires": [
            [
                "4e541c3c38e02461"
            ]
        ]
    },
    {
        "id": "08f42c6fb1d0df78",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Trip Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 800,
        "wires": [
            [
                "e9393578518108a6"
            ]
        ]
    },
    {
        "id": "fb7b64b2c955555d",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Trip Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 910,
        "y": 900,
        "wires": [
            [
                "19a43a12b394686d"
            ]
        ]
    },
    {
        "id": "da1d3ce251d8b54c",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "Trip Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 1000,
        "wires": [
            [
                "ef81de229e63b297"
            ]
        ]
    },
    {
        "id": "4e541c3c38e02461",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda0\");\nvar name = global.get(\"a0name\");\nvar alm = flow.get(\"alma0\");\nvar lolo = global.get(\"a0lolo\"); \nvar hihi =  global.get(\"a0hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.topic = name + \" HiHi\";  \nflow.set(\"alma0\", 1);\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.topic = name + \" LoLo\"; \nflow.set(\"alma0\", 1);\nreturn msg;}\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 700,
        "wires": [
            [
                "38cf50d5.da7fb"
            ]
        ]
    },
    {
        "id": "e9393578518108a6",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda1\");\nvar name = global.get(\"a1name\");\nvar alm = flow.get(\"alma1\");\nvar lolo = global.get(\"a1lolo\"); \nvar hihi =  global.get(\"a1hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.topic = name + \" HiHi\";  \nflow.set(\"alma1\", 1);\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.topic = name + \" LoLo\"; \nflow.set(\"alma1\", 1);\nreturn msg;}\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 800,
        "wires": [
            [
                "38cf50d5.da7fb"
            ]
        ]
    },
    {
        "id": "19a43a12b394686d",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda2\");\nvar name = global.get(\"a2name\");\nvar alm = flow.get(\"alma2\");\nvar lolo = global.get(\"a2lolo\"); \nvar hihi =  global.get(\"a2hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.topic = name + \" HiHi\";  \nflow.set(\"alma2\", 1);\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.topic = name + \" LoLo\"; \nflow.set(\"alma2\", 1);\nreturn msg;}\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 880,
        "wires": [
            [
                "38cf50d5.da7fb"
            ]
        ]
    },
    {
        "id": "ef81de229e63b297",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda3\");\nvar name = global.get(\"a3name\");\nvar alm = flow.get(\"alma3\");\nvar lolo = global.get(\"a3lolo\"); \nvar hihi =  global.get(\"a3hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.topic = name + \" HiHi\";  \nflow.set(\"alma3\", 1);\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.topic = name + \" LoLo\"; \nflow.set(\"alma3\", 1);\nreturn msg;}\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1000,
        "wires": [
            [
                "38cf50d5.da7fb"
            ]
        ]
    },
    {
        "id": "8329c12d4a38acaa",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar sd =flow.get(\"sda0\");\nvar name = global.get(\"a0name\");\nvar alm = flow.get(\"alma0\");\nvar tripdelay = global.get(\"a0tripdelay\")*1000;\nvar lolo = global.get(\"a0lolo\"); \nvar hihi =  global.get(\"a0hihi\");\n\nif (vfdrun == 1 && sd == 1 && alm == 0){\n\nif (msg.payload > hihi){\nmsg.topic = name + \" HiHi\";  msg.delay = tripdelay;\nflow.set(\"alma0\");\nreturn msg;}\n\nif (msg.payload < lolo){\nmsg.topic = name + \" LoLo\"; msg.delay = tripdelay;\nflow.set(\"alma0\");\nreturn msg;}\n\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "cd269948aee9c6e0",
        "type": "ui_slider",
        "z": "caed099b.012a78",
        "name": "",
        "label": "a0",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 19,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0.8",
        "max": "4.09",
        "step": ".1",
        "className": "",
        "x": 110,
        "y": 780,
        "wires": [
            [
                "495f18e305fb7252"
            ]
        ]
    },
    {
        "id": "13200810379cbf31",
        "type": "ui_slider",
        "z": "caed099b.012a78",
        "name": "",
        "label": "a1",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 20,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0.8",
        "max": "4.09",
        "step": ".1",
        "className": "",
        "x": 90,
        "y": 820,
        "wires": [
            [
                "e351b4ded5202430"
            ]
        ]
    },
    {
        "id": "7f0a131fd3520586",
        "type": "ui_slider",
        "z": "caed099b.012a78",
        "name": "",
        "label": "a2",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 21,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0.8",
        "max": "4.09",
        "step": ".1",
        "className": "",
        "x": 110,
        "y": 880,
        "wires": [
            [
                "f366969b3d6c1bad"
            ]
        ]
    },
    {
        "id": "7435b70c2e9833ca",
        "type": "ui_slider",
        "z": "caed099b.012a78",
        "name": "",
        "label": "a3",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 22,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": "0.8",
        "max": "4.09",
        "step": ".1",
        "className": "",
        "x": 110,
        "y": 980,
        "wires": [
            [
                "d7ef7b03bd8c055f"
            ]
        ]
    },
    {
        "id": "3241a72cf97dcf06",
        "type": "ui_chart",
        "z": "caed099b.012a78",
        "name": "a3chart",
        "group": "d1d37d543924fe5f",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} A3",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": "5",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#ff7f0e",
            "#ff7f0e",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 980,
        "y": 1480,
        "wires": [
            [
                "103d0a1bf8fc0c5a"
            ]
        ]
    },
    {
        "id": "689af2d25392074b",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": true,
        "outputs": 1,
        "x": 1000,
        "y": 1320,
        "wires": [
            [
                "7a363f0f5a86dc95"
            ]
        ]
    },
    {
        "id": "491c2d700549a268",
        "type": "delay",
        "z": "caed099b.012a78",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": true,
        "outputs": 1,
        "x": 1000,
        "y": 1420,
        "wires": [
            [
                "3241a72cf97dcf06"
            ]
        ]
    },
    {
        "id": "7a363f0f5a86dc95",
        "type": "ui_chart",
        "z": "caed099b.012a78",
        "name": "a2chart",
        "group": "d1d37d543924fe5f",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} A2",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": "5",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#ff7f0e",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 980,
        "y": 1380,
        "wires": [
            [
                "aebb107ada4bfdf8"
            ]
        ]
    },
    {
        "id": "c3ff37778be26c61",
        "type": "ui_chart",
        "z": "caed099b.012a78",
        "name": "a1chart",
        "group": "31a0f8b7.6d3848",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}} A1",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": "5",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#ff7f0e",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 980,
        "y": 1280,
        "wires": [
            [
                "61d63750.a69b58"
            ]
        ]
    },
    {
        "id": "dc17bac4b9570b32",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = 2;\nMath.cos(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "aebb107ada4bfdf8",
        "type": "persist in",
        "z": "caed099b.012a78",
        "name": "a2",
        "storageNode": "54305fcfa53633c5",
        "x": 1200,
        "y": 1380,
        "wires": []
    },
    {
        "id": "103d0a1bf8fc0c5a",
        "type": "persist in",
        "z": "caed099b.012a78",
        "name": "a3",
        "storageNode": "56ecdc3af1118b5f",
        "x": 1240,
        "y": 1460,
        "wires": []
    },
    {
        "id": "425a65374a19db1a",
        "type": "persist out",
        "z": "caed099b.012a78",
        "name": "a2",
        "storageNode": "54305fcfa53633c5",
        "x": 790,
        "y": 1480,
        "wires": [
            [
                "7a363f0f5a86dc95"
            ]
        ]
    },
    {
        "id": "264b53f4b29a133e",
        "type": "persist out",
        "z": "caed099b.012a78",
        "name": "a3",
        "storageNode": "56ecdc3af1118b5f",
        "x": 810,
        "y": 1520,
        "wires": [
            [
                "3241a72cf97dcf06"
            ]
        ]
    },
    {
        "id": "bad03bd397eedb1a",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = [];\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 1580,
        "wires": [
            [
                "d0e83776.febbc8",
                "c3ff37778be26c61",
                "7a363f0f5a86dc95",
                "3241a72cf97dcf06"
            ]
        ]
    },
    {
        "id": "a599b8e50b882f4b",
        "type": "ui_button",
        "z": "caed099b.012a78",
        "name": "",
        "group": "b66854c1669bc5e6",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Clear Charts",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 550,
        "y": 1660,
        "wires": [
            [
                "46c7d768fbb22864"
            ]
        ]
    },
    {
        "id": "22b8df45215517ed",
        "type": "debug",
        "z": "caed099b.012a78",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1230,
        "y": 1080,
        "wires": []
    },
    {
        "id": "c2a841c486e1c24f",
        "type": "ui_text_input",
        "z": "caed099b.012a78",
        "name": "",
        "label": "Samples per Hour",
        "tooltip": "",
        "group": "b66854c1669bc5e6",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 1620,
        "wires": [
            [
                "632ca4f5a99c619c"
            ]
        ]
    },
    {
        "id": "632ca4f5a99c619c",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "global.set(\"analograte\", msg.payload);\nmsg.payload = 1/msg.payload;\nmsg.rate=msg.payload*1000*60*60;\nmsg.payload = null;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 1620,
        "wires": [
            [
                "c90b424e.0d783",
                "ec7c15c6.d21078",
                "689af2d25392074b",
                "491c2d700549a268"
            ]
        ]
    },
    {
        "id": "08c4271130989476",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "",
        "func": "msg.payload = global.get(\"analograte\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1620,
        "wires": [
            [
                "c2a841c486e1c24f"
            ]
        ]
    },
    {
        "id": "cd07e40a8a109afa",
        "type": "ui_toast",
        "z": "caed099b.012a78",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "topic": "",
        "name": "Confirmation",
        "x": 910,
        "y": 1660,
        "wires": [
            [
                "07bf7731c65322c6"
            ]
        ]
    },
    {
        "id": "46c7d768fbb22864",
        "type": "change",
        "z": "caed099b.012a78",
        "name": "Set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Delete confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Are you sure you want to delete chart data?",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 730,
        "y": 1660,
        "wires": [
            [
                "cd07e40a8a109afa"
            ]
        ]
    },
    {
        "id": "07bf7731c65322c6",
        "type": "switch",
        "z": "caed099b.012a78",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 1070,
        "y": 1660,
        "wires": [
            [
                "bad03bd397eedb1a"
            ]
        ]
    },
    {
        "id": "d5d441d5420bc220",
        "type": "catch",
        "z": "caed099b.012a78",
        "name": "",
        "scope": [
            "f6005a3f.d47e08"
        ],
        "uncaught": false,
        "x": 290,
        "y": 1080,
        "wires": [
            [
                "c0df29eb8f414ba2"
            ]
        ]
    },
    {
        "id": "c0df29eb8f414ba2",
        "type": "link out",
        "z": "caed099b.012a78",
        "name": "Analog Card err",
        "mode": "link",
        "links": [
            "5fc84865ede13660"
        ],
        "x": 415,
        "y": 1100,
        "wires": []
    },
    {
        "id": "64c15eb8ec66b999",
        "type": "ui_switch",
        "z": "caed099b.012a78",
        "name": "",
        "label": "Enable demo",
        "tooltip": "",
        "group": "89077c44.4a81c",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 90,
        "y": 80,
        "wires": [
            [
                "c9e96a1a.5502c8"
            ]
        ]
    },
    {
        "id": "b44af2a3eba30a10",
        "type": "ui_switch",
        "z": "caed099b.012a78",
        "name": "",
        "label": "demo switch",
        "tooltip": "",
        "group": "89077c44.4a81c",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 90,
        "y": 140,
        "wires": [
            [
                "d16f8c47.4c7d1"
            ]
        ]
    },
    {
        "id": "c5464012970451bf",
        "type": "ui_switch",
        "z": "caed099b.012a78",
        "name": "",
        "label": "demo switch",
        "tooltip": "",
        "group": "ff960a8f.e8f448",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 90,
        "y": 200,
        "wires": [
            [
                "d22070df.c0604"
            ]
        ]
    },
    {
        "id": "727a5aa5bf5b0c2d",
        "type": "ui_switch",
        "z": "caed099b.012a78",
        "name": "",
        "label": "demo switch",
        "tooltip": "",
        "group": "16b163eb.dd92bc",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 90,
        "y": 260,
        "wires": [
            [
                "dfd55fb4.34409"
            ]
        ]
    },
    {
        "id": "e8692aa4695693f0",
        "type": "ui_switch",
        "z": "caed099b.012a78",
        "name": "",
        "label": "demo switch",
        "tooltip": "",
        "group": "1d6f4c90.182763",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 90,
        "y": 340,
        "wires": [
            [
                "a9b59865.c37b58"
            ]
        ]
    },
    {
        "id": "ddb4fd147dad5e1f",
        "type": "inject",
        "z": "caed099b.012a78",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "4267f79e1a315ea1",
                "6c28d5e73f2876ee"
            ]
        ]
    },
    {
        "id": "495f18e305fb7252",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "function 5",
        "func": "flow.set(\"a0\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "e351b4ded5202430",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "function 6",
        "func": "flow.set(\"a1\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "f366969b3d6c1bad",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "function 7",
        "func": "flow.set(\"a2\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "d7ef7b03bd8c055f",
        "type": "function",
        "z": "caed099b.012a78",
        "name": "function 8",
        "func": "flow.set(\"a3\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "42adb2f2.72fb3c",
        "type": "ui_template",
        "z": "119ca35.22f805d",
        "d": true,
        "group": "347794ab.4617dc",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "  <html>\n  <head>\n  <title>Time</title>\n  <script type=\"text/javascript\"> \n  \n  var date = new Date().toString();\n  document.getElementById('ct').innerHTML = date;\n  \n  this.scope.sendDate = function() {\n      console.log(\"in function\")\n   // return {payload: new Date().toString()}; // .valueOf() \n    return {payload: new Date().valueOf()}; // \n  }\n \n</script>\n  \n  </head>\n\n  <body>\n  <div id='ct' style=\"margin-bottom: 40px;\"></div>\n  <br>\n  <br>\n//<md-button ng-click=\"send(sendDate())\">\n//    Send time to Node-red\n//</md-button>\n\n  </body>\n  </html>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 340,
        "y": 120,
        "wires": [
            [
                "40907007.07c1a"
            ]
        ]
    },
    {
        "id": "40907007.07c1a",
        "type": "debug",
        "z": "119ca35.22f805d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 550,
        "y": 120,
        "wires": []
    },
    {
        "id": "63cb8ec4.88cee",
        "type": "debug",
        "z": "119ca35.22f805d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 510,
        "y": 280,
        "wires": []
    },
    {
        "id": "7ac2e6b3.b75098",
        "type": "function",
        "z": "119ca35.22f805d",
        "name": "",
        "func": "var date;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\n\n//newMsg.payload = newMsg.payload.replace ('\\n', '');\nmsg.payload =  date; //\"(\"+msg.payload + \",\"+ date +\")\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 280,
        "wires": [
            [
                "63cb8ec4.88cee"
            ]
        ]
    },
    {
        "id": "207f4673.cbc5ea",
        "type": "inject",
        "z": "119ca35.22f805d",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 140,
        "y": 280,
        "wires": [
            [
                "7ac2e6b3.b75098"
            ]
        ]
    },
    {
        "id": "bb28abc3.6f23f8",
        "type": "exec",
        "z": "119ca35.22f805d",
        "command": "",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 470,
        "y": 460,
        "wires": [
            [
                "a515a3bd.d9fcb"
            ],
            [
                "a515a3bd.d9fcb"
            ],
            [
                "a515a3bd.d9fcb"
            ]
        ]
    },
    {
        "id": "c082bcb7.e9b64",
        "type": "inject",
        "z": "119ca35.22f805d",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 460,
        "wires": [
            [
                "bb28abc3.6f23f8"
            ]
        ]
    },
    {
        "id": "a515a3bd.d9fcb",
        "type": "debug",
        "z": "119ca35.22f805d",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 810,
        "y": 460,
        "wires": []
    },
    {
        "id": "7d4b3632.3aec78",
        "type": "function",
        "z": "119ca35.22f805d",
        "name": "",
        "func": " //var date = new Date(Date.now()).toString(); //ie  sudo date --set '2016-12-04 21:12:00'\n// date = \"2018-02-05 15:30:00\";\nvar date = new Date();\nvar dtext;\n//date = (( (date.getFullYear() + '-' + date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) +  ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nvar year = date.getFullYear();\nvar day = date.getDate();\nvar mon = date.getMonth();\nvar hours = date.getHours();\nvar min = date.getMinutes();\nvar sec = date.getSeconds();\ndtext = year + '-' + day + \"-\" + mon + ' ' + hours + ':' + min + ':' + sec;\nvar dt = global.get(\"datetime\"); // '2020-06-30 21:12:00'\nmsg.payload = \"sudo date --set '\" + dt + \"'\" ;\n//msg.payload = dtext;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 400,
        "wires": [
            [
                "a515a3bd.d9fcb",
                "2c402484.5795ac",
                "bb28abc3.6f23f8"
            ]
        ]
    },
    {
        "id": "82ad22b6.6508f",
        "type": "ui_button",
        "z": "119ca35.22f805d",
        "name": "",
        "group": "347794ab.4617dc",
        "order": 5,
        "width": "6",
        "height": "1",
        "passthru": false,
        "label": "Set Date/Time",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 120,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "ef2cda21.a63608",
        "type": "inject",
        "z": "119ca35.22f805d",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 420,
        "wires": [
            [
                "7d4b3632.3aec78"
            ]
        ]
    },
    {
        "id": "2c402484.5795ac",
        "type": "delay",
        "z": "119ca35.22f805d",
        "name": "",
        "pauseType": "delay",
        "timeout": "500",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 210,
        "y": 600,
        "wires": [
            [
                "a72e1c06.26e0d"
            ]
        ]
    },
    {
        "id": "209287c8.db9f28",
        "type": "serial out",
        "z": "119ca35.22f805d",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 930,
        "y": 600,
        "wires": []
    },
    {
        "id": "59274eac.92afc",
        "type": "function",
        "z": "119ca35.22f805d",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 600,
        "wires": [
            [
                "209287c8.db9f28"
            ]
        ]
    },
    {
        "id": "fcee070a.baf748",
        "type": "function",
        "z": "119ca35.22f805d",
        "name": "cmd to hmi",
        "func": "var last_update = global.get('last_update');\nvar missatge = \"null\";\nflow.set('page', 3);\nswitch (flow.get('page')){\n    case 0: \n        missatge =\"Estat_actual (\"+ last_update +\")\";\n        msg.payload = \"t2.txt=\\\"\"+ missatge +\"\\\"\";\n       break;\n       \n    case 3:\n        missatge =\" \"+ last_update +\" \";\n        msg.payload = \"t2.txt=\\\"\"+ missatge +\"\\\"\";\n        break;\n    \n    default:\n      //  msg = undefined;\n}\n \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 530,
        "y": 600,
        "wires": [
            [
                "59274eac.92afc"
            ]
        ]
    },
    {
        "id": "a72e1c06.26e0d",
        "type": "function",
        "z": "119ca35.22f805d",
        "name": "Time",
        "func": "var now = new Date();\nglobal.set('last_update', now.toLocaleString('es-ES'));\nnode.status({\"text\": global.get('last_update')});\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 350,
        "y": 600,
        "wires": [
            [
                "fcee070a.baf748"
            ]
        ]
    },
    {
        "id": "c7723139.9c9dc",
        "type": "ui_text",
        "z": "119ca35.22f805d",
        "group": "347794ab.4617dc",
        "order": 2,
        "width": "5",
        "height": "1",
        "name": "",
        "label": "Format  yyyy-mm-dd hh:mm:ss",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 790,
        "y": 140,
        "wires": []
    },
    {
        "id": "cd01535a.ed9ba",
        "type": "ui_text_input",
        "z": "119ca35.22f805d",
        "name": "",
        "label": "New Date/Time",
        "tooltip": "",
        "group": "347794ab.4617dc",
        "order": 3,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 740,
        "y": 180,
        "wires": [
            [
                "6de7decf.bb8b6"
            ]
        ]
    },
    {
        "id": "6de7decf.bb8b6",
        "type": "function",
        "z": "119ca35.22f805d",
        "name": "",
        "func": "global.set(\"datetime\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 920,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "f6bf0cdcbeeb099a",
        "type": "comment",
        "z": "119ca35.22f805d",
        "name": "Show Text",
        "info": "",
        "x": 750,
        "y": 100,
        "wires": []
    },
    {
        "id": "ac85f0a3.1a931",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 140,
        "wires": [
            [
                "d4f5d05c.9286f",
                "70328ff.df64e7",
                "c4d3e82e.861ef8",
                "90153e58.dd192",
                "77099701.b9f3c8"
            ]
        ]
    },
    {
        "id": "d4f5d05c.9286f",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var vfdrun;\nvfdrun = global.get(\"vfdrun\")\nmsg.topic = \"control\";\nif (vfdrun==\"1\"){msg.topic = \"Running\";\n    msg.background = \"lightgreen\";\n    msg.color = \"black\";\n    }\n    else {msg.topic = \"Start\";\n    msg.background = \"darkgreen\";\n    msg.color = \"white\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 140,
        "wires": [
            [
                "41579305.cd0c7c"
            ]
        ]
    },
    {
        "id": "70328ff.df64e7",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "\nmsg.topic = \"Stop\";\nmsg.background = \"red\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 180,
        "wires": [
            [
                "d5a17ea0.74ed3"
            ]
        ]
    },
    {
        "id": "c4d3e82e.861ef8",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var temp;\ntemp = global.get(\"alarm\")\nmsg.topic = \"control\";\nif (temp==\"1\"){\n     msg.background = \"green\";\n    msg.topic = \"Reset\";}\n    else {msg.topic = \"Reset\";\n     msg.background = \"green\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 220,
        "wires": [
            [
                "4e6547b5.d95b68"
            ]
        ]
    },
    {
        "id": "41579305.cd0c7c",
        "type": "ui_button",
        "z": "5643e3d0.aa409c",
        "name": "start button",
        "group": "fd4cbea3.6101d",
        "order": 12,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "{{msg.topic}}",
        "tooltip": "",
        "color": "{{msg.color}}",
        "bgcolor": "{{msg.background}}",
        "icon": "play_circle_outline",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 610,
        "y": 140,
        "wires": [
            [
                "9aa9b266.397b"
            ]
        ]
    },
    {
        "id": "d5a17ea0.74ed3",
        "type": "ui_button",
        "z": "5643e3d0.aa409c",
        "name": "stop button",
        "group": "fd4cbea3.6101d",
        "order": 13,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "{{msg.topic}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.background}}",
        "icon": "stop",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 610,
        "y": 180,
        "wires": [
            [
                "d9d5e84c.24c808"
            ]
        ]
    },
    {
        "id": "4e6547b5.d95b68",
        "type": "ui_button",
        "z": "5643e3d0.aa409c",
        "name": "reset button",
        "group": "fd4cbea3.6101d",
        "order": 14,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{msg.topic}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.background}}",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 610,
        "y": 220,
        "wires": [
            [
                "dc90de19.71f01"
            ]
        ]
    },
    {
        "id": "d3169606.62d238",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 300,
        "wires": [
            [
                "71eafd3a.e0a1c4"
            ]
        ]
    },
    {
        "id": "71eafd3a.e0a1c4",
        "type": "serial out",
        "z": "5643e3d0.aa409c",
        "name": "",
        "serial": "3331e171.1a052e",
        "x": 1050,
        "y": 300,
        "wires": []
    },
    {
        "id": "88d2e75c.449038",
        "type": "change",
        "z": "5643e3d0.aa409c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "<i class=\"fa fa-rotate-90 fa-folder-open-o\"></i> OPEN",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "fd64bdae.fdaf1",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 165,
        "y": 980,
        "wires": [
            [
                "d05a253b.2a1118"
            ]
        ]
    },
    {
        "id": "b0438b8c.3b93a8",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "state",
        "func": "var state = context.state || false;\nstate = !state;\ncontext.state = state;\nif (state) { return [msg,null]; }\nelse { return [null,msg]; }\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 165,
        "y": 1025,
        "wires": [
            [
                "88d2e75c.449038"
            ],
            [
                "d05a253b.2a1118"
            ]
        ]
    },
    {
        "id": "d05a253b.2a1118",
        "type": "change",
        "z": "5643e3d0.aa409c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "colour",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "<i class=\"fa fa-rotate-90 fa-folder-o\"></i> Closed",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 360,
        "y": 1025,
        "wires": [
            []
        ]
    },
    {
        "id": "dc90de19.71f01",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "Reset",
        "func": "global.set(\"reset\", true);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 220,
        "wires": [
            [
                "fa925e3f.2e63e",
                "ef1da7c3f7fc19a3"
            ]
        ]
    },
    {
        "id": "fa925e3f.2e63e",
        "type": "delay",
        "z": "5643e3d0.aa409c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1.5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 950,
        "y": 220,
        "wires": [
            [
                "207f5425.7b2d4c"
            ]
        ]
    },
    {
        "id": "207f5425.7b2d4c",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "//global.set(\"reset\", false);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "d9d5e84c.24c808",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "Stop",
        "func": "global.set(\"vfdrun\", 0)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 180,
        "wires": [
            [
                "dcde2fb90fdcbec5"
            ]
        ]
    },
    {
        "id": "9aa9b266.397b",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "Start",
        "func": "var perm;\nperm = global.get(\"perm\");\nif  (perm){\nglobal.set(\"vfdrun\", 1)}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 140,
        "wires": [
            [
                "b1fc2115238f6ee1"
            ]
        ]
    },
    {
        "id": "b1daa7dd.6d7eb8",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var color = 1024;\nvar coloron = 34784;\nvar vfdrun = global.get(\"vfdrun\");\nif (vfdrun ===1){\n    msg.payload =  \"page0.bstart.bco=\"+ coloron +\"\";}\n    else {msg.payload =  \"page0.bstart.bco=\"+ color +\"\";}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 300,
        "wires": [
            [
                "d3169606.62d238"
            ]
        ]
    },
    {
        "id": "90153e58.dd192",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "perm",
        "func": "var alm = global.get(\"alarm\");\nvar enable = global.get(\"enable\");\nvar restart = global.get(\"restart\");\nvar locked = global.get(\"locked\");\nvar pidstop = global.get(\"pidstop\");\nvar stopinput = global.get(\"stopinput\");\nvar powerfail = global.get(\"powerfail\");\nvar backspindn = flow.get(\"backspindn\")\nif (!alm && restart == 0 && enable == 1 && !locked && !pidstop && !stopinput && !powerfail && backspindn) {global.set(\"perm\", true);}else{\n    global.set(\"perm\", false);\n    global.set(\"vfdrun\", 0);\n}\nnode.status(\"alm-\"+ alm + \" \" + \"enable-\"+enable + \"perm-\" + global.get(\"perm\"));\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "f0710dfa.35789",
        "type": "comment",
        "z": "5643e3d0.aa409c",
        "name": "Perm Change Enable to 1 Add Activation Add Lockout",
        "info": "",
        "x": 980,
        "y": 20,
        "wires": []
    },
    {
        "id": "77099701.b9f3c8",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "restart",
        "func": "var restart = global.get(\"restart\");\nmsg.payload = restart;\nif (msg.payload == 1) {msg.color =\"red\";}\nif (msg.payload == 0) {msg.color =\"black\";}\nnode.status(restart);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 440,
        "wires": [
            [
                "a5df08ea.71bfb8"
            ]
        ]
    },
    {
        "id": "304a061f.2e2cda",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "activated",
        "func": "global.set(\"activated\", true);\nmsg.payload = global.get(\"activated\");\nif (msg.payload) {msg.color =\"red\";msg.payload == \"Not Activated\"}\nif (msg.payload) {msg.color =\"black\"; msg.payload == \"Activated\";}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 500,
        "wires": [
            [
                "cd0f3251.69122"
            ]
        ]
    },
    {
        "id": "4e9482a3.5dd3bc",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "alarm",
        "func": "var mess = global.get(\"alarm\");\n\nif (mess){msg.payload = true;}else{msg.payload = false;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 540,
        "wires": [
            [
                "16c72f1e.d945e1",
                "06df086239c92e65"
            ]
        ]
    },
    {
        "id": "4ac0fc2e.192134",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 190,
        "y": 540,
        "wires": [
            [
                "4e9482a3.5dd3bc",
                "304a061f.2e2cda",
                "359b1467.4e35dc",
                "2fafeba2.69f454"
            ]
        ]
    },
    {
        "id": "906f81af.036e7",
        "type": "ui_ui_control",
        "z": "5643e3d0.aa409c",
        "name": "",
        "events": "all",
        "x": 1080,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "359b1467.4e35dc",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var perm;\nperm = global.get(\"perm\")\nmsg.topic = \"control\";\nif (perm){msg.topic = \"Run Permissive\";\n    msg.background = \"green\";\n    msg.color = \"white\";\n    msg.payload = 1;\n    }\n    else {msg.topic = \"Run Permissive\";\n    msg.background = \"darkred\";\n    msg.color = \"white\";\n    msg.payload = 0;\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 660,
        "wires": [
            [
                "3a1537c8fecd1fb2"
            ]
        ]
    },
    {
        "id": "2fafeba2.69f454",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "Charge @ Pressure",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "954d7ca6.dc45d",
        "type": "comment",
        "z": "5643e3d0.aa409c",
        "name": "needs work",
        "info": "",
        "x": 690,
        "y": 580,
        "wires": []
    },
    {
        "id": "a5df08ea.71bfb8",
        "type": "ui_led",
        "z": "5643e3d0.aa409c",
        "order": 5,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "Restarting",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#ff0000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "restart led",
        "x": 640,
        "y": 440,
        "wires": []
    },
    {
        "id": "cd0f3251.69122",
        "type": "ui_led",
        "z": "5643e3d0.aa409c",
        "order": 6,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "Activation",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "activated led",
        "x": 650,
        "y": 480,
        "wires": []
    },
    {
        "id": "16c72f1e.d945e1",
        "type": "ui_led",
        "z": "5643e3d0.aa409c",
        "order": 2,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "Alarm",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#008000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "alarm led",
        "x": 640,
        "y": 540,
        "wires": []
    },
    {
        "id": "25be904b.3ab0b",
        "type": "ui_text",
        "z": "5643e3d0.aa409c",
        "group": "fd4cbea3.6101d",
        "order": 4,
        "width": "3",
        "height": "1",
        "name": "actual fb",
        "label": "Actual",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 640,
        "y": 800,
        "wires": []
    },
    {
        "id": "48937bb6.89c694",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var freqout = msg.payload;\nvar pidon = global.get(\"pidon\");\nif (pidon) {var pv = global.get(\"pv\"); \nmsg.payload = pv;} else {\nmsg.payload = freqout;}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 800,
        "wires": [
            [
                "25be904b.3ab0b"
            ]
        ]
    },
    {
        "id": "339f3479.e7238c",
        "type": "comment",
        "z": "5643e3d0.aa409c",
        "name": "Actual Value",
        "info": "",
        "x": 810,
        "y": 800,
        "wires": []
    },
    {
        "id": "ef1da7c3f7fc19a3",
        "type": "link out",
        "z": "5643e3d0.aa409c",
        "name": "",
        "links": [
            "909839f7b6f806c5"
        ],
        "x": 895,
        "y": 300,
        "wires": []
    },
    {
        "id": "e22cbb0256e47cce",
        "type": "ui_template",
        "z": "5643e3d0.aa409c",
        "group": "fd4cbea3.6101d",
        "name": "lockicon",
        "order": 5,
        "width": "2",
        "height": "1",
        "format": "<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\" ng-click=\"send({payload: 'lock'})\">\n       <i class=\"material-icons\" >\n           <span style=\"color:{{msg.payload.lock}}\"><div ng-bind-html=\"msg.topic\"></div></span>\n           </i>\n</md-button> ",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "templateScope": "local",
        "x": 1120,
        "y": 420,
        "wires": [
            [
                "67e908807274afa1"
            ]
        ]
    },
    {
        "id": "6ada4c3e8943e0ef",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "lock",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lock",
        "payload": "{\"lock\":\"#FF0000 \",\"icon\":\"lock\"}",
        "payloadType": "json",
        "x": 810,
        "y": 400,
        "wires": [
            [
                "e22cbb0256e47cce"
            ]
        ]
    },
    {
        "id": "249b8ae0b6b5dede",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "unlock",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "lock_open",
        "payload": "{\"lock\":\"#008000\"}",
        "payloadType": "json",
        "x": 808,
        "y": 444,
        "wires": [
            [
                "e22cbb0256e47cce"
            ]
        ]
    },
    {
        "id": "67e908807274afa1",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var locked = global.get(\"locked\");\nif (locked) {msg.payload = {\"lock\":\"#008000 \"};\n    msg.topic = \"lock_open\"\n    global.set(\"locked\", false);\n}\nelse {\nmsg.payload =  {\"lock\":\"#FF0000 \"};\nmsg.topic = \"lock\"\nglobal.set(\"locked\", true);\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 480,
        "wires": [
            [
                "e22cbb0256e47cce"
            ]
        ]
    },
    {
        "id": "0baa76351fc280ac",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 840,
        "y": 520,
        "wires": [
            [
                "977882eb7e884f06"
            ]
        ]
    },
    {
        "id": "977882eb7e884f06",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var locked = global.get(\"locked\");\nif (locked) {msg.payload = {\"lock\":\"#FF0000 \"};\n msg.topic = \"lock\";\n}\nelse {\nmsg.payload =  {\"lock\":\"#008000 \"};\n msg.topic = \"lock_open\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1010,
        "y": 560,
        "wires": [
            [
                "e22cbb0256e47cce"
            ]
        ]
    },
    {
        "id": "b1fc2115238f6ee1",
        "type": "link out",
        "z": "5643e3d0.aa409c",
        "name": "",
        "links": [
            "2b9c747b2d143e60"
        ],
        "x": 885,
        "y": 140,
        "wires": []
    },
    {
        "id": "dcde2fb90fdcbec5",
        "type": "link out",
        "z": "5643e3d0.aa409c",
        "name": "",
        "links": [
            "d8e7e18184957064"
        ],
        "x": 875,
        "y": 180,
        "wires": []
    },
    {
        "id": "7aa7aae5d17b9e7d",
        "type": "ui_template",
        "z": "5643e3d0.aa409c",
        "group": "fd4cbea3.6101d",
        "name": "alarmicon",
        "order": 6,
        "width": "2",
        "height": "1",
        "format": "<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\" ng-click=\"send({payload: '2'})\">\n       <i class=\"material-icons\" >\n           <span style=\"color:{{msg.payload.alarm}}\">warning</span>\n           </i>\n</md-button> ",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "templateScope": "local",
        "x": 920,
        "y": 900,
        "wires": [
            [
                "799892fdf173d655"
            ]
        ]
    },
    {
        "id": "5afe37fa0202dbd4",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 580,
        "y": 900,
        "wires": [
            [
                "06df086239c92e65"
            ]
        ]
    },
    {
        "id": "06df086239c92e65",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "if (msg.payload){\nmsg.payload = {\"alarm\":\"#FF0000 \"};}else\n{msg.payload = {\"alarm\":\"#008000 \"};}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 900,
        "wires": [
            [
                "7aa7aae5d17b9e7d"
            ]
        ]
    },
    {
        "id": "799892fdf173d655",
        "type": "ui_ui_control",
        "z": "5643e3d0.aa409c",
        "name": "",
        "events": "all",
        "x": 1060,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "90655adcd98336df",
        "type": "ui_template",
        "z": "5643e3d0.aa409c",
        "group": "fd4cbea3.6101d",
        "name": "runpermicon",
        "order": 7,
        "width": "2",
        "height": "1",
        "format": "<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\" ng-click=\"send({payload: '1'})\">\n       <i class=\"material-icons\" >\n           <span style=\"color:{{msg.payload.perm}}\">info</span>\n           </i>\n</md-button> ",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 890,
        "y": 660,
        "wires": [
            [
                "906f81af.036e7"
            ]
        ]
    },
    {
        "id": "3a1537c8fecd1fb2",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "if (msg.payload == 0){\nmsg.payload = {\"perm\":\"#FF0000 \"};}else\n{msg.payload = {\"perm\":\"#008000 \"};}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 660,
        "wires": [
            [
                "90655adcd98336df"
            ]
        ]
    },
    {
        "id": "6369afea5edb4f24",
        "type": "link in",
        "z": "5643e3d0.aa409c",
        "name": "actualfreqout",
        "links": [
            "dac077484dda3e55",
            "fe0ab7333700f544"
        ],
        "x": 255,
        "y": 800,
        "wires": [
            [
                "48937bb6.89c694"
            ]
        ]
    },
    {
        "id": "f93e67441cb89993",
        "type": "comment",
        "z": "5643e3d0.aa409c",
        "name": "vfdrun",
        "info": "",
        "x": 970,
        "y": 140,
        "wires": []
    },
    {
        "id": "11f20eec1ee430b1",
        "type": "comment",
        "z": "5643e3d0.aa409c",
        "name": "BackSpin",
        "info": "",
        "x": 200,
        "y": 1120,
        "wires": []
    },
    {
        "id": "a58afc19f9045ab7",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 130,
        "y": 1160,
        "wires": [
            [
                "9a0eee0285a8b89b",
                "33176b7dc375bc31",
                "495963bf7a351d9c"
            ]
        ]
    },
    {
        "id": "9a0eee0285a8b89b",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var backspindn = flow.get(\"backspindn\");\nvar vfdrun = global.get(\"vfdrun\");\nvar backspintime = global.get(\"backspintime\");\nif (!vfdrun && backspindn) {msg.reset = 1; return msg;}\nif (!vfdrun && !backspindn) { \nmsg.delay = backspintime*60000;\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1140,
        "wires": [
            [
                "393b2fc6d3018550"
            ]
        ]
    },
    {
        "id": "393b2fc6d3018550",
        "type": "trigger",
        "z": "5643e3d0.aa409c",
        "name": "",
        "op1": "0",
        "op2": "1",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "overrideDelay": true,
        "units": "ms",
        "reset": "0",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 2,
        "x": 540,
        "y": 1140,
        "wires": [
            [],
            [
                "5cadb4238df7c48d"
            ]
        ]
    },
    {
        "id": "5449aa29d1808355",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 130,
        "y": 1220,
        "wires": [
            [
                "9a0eee0285a8b89b"
            ]
        ]
    },
    {
        "id": "d95798e960e3906a",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 130,
        "y": 1260,
        "wires": [
            [
                "82da965abfbcfb79"
            ]
        ]
    },
    {
        "id": "82da965abfbcfb79",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "flow.set(\"backspindn\", false);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "5cadb4238df7c48d",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "flow.set(\"backspindn\", true);\nflow.set(\"backspintimer\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "33176b7dc375bc31",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload =1;} else {msg.payload =0;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1200,
        "wires": [
            [
                "eafca60f4145e63d"
            ]
        ]
    },
    {
        "id": "c2f19f6b8bd6015a",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "if (msg.payload == 0) {\nflow.set(\"backspindn\", false);}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "eafca60f4145e63d",
        "type": "rbe",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 510,
        "y": 1200,
        "wires": [
            [
                "c2f19f6b8bd6015a",
                "b9652826063189b8"
            ]
        ]
    },
    {
        "id": "495963bf7a351d9c",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "var backspindn = flow.get(\"backspindn\");\nvar backspintime = global.get(\"backspintime\");\nmsg.payload = backspindn;\nif (backspintime ==0){flow.set(\"backspindn\",true);}\nmsg.topic = \"BackSpin Lockout   \" + flow.get(\"backspintimer\") + \" Seconds\";\nif (flow.get(\"backspintimer\")<=1){msg.topic = \"BackSpin Lockout\"}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1320,
        "wires": [
            [
                "f432a12b524fbc9e"
            ]
        ]
    },
    {
        "id": "f432a12b524fbc9e",
        "type": "ui_led",
        "z": "5643e3d0.aa409c",
        "order": 8,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "{{msg.topic}}",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "backspin",
        "x": 530,
        "y": 1320,
        "wires": []
    },
    {
        "id": "94590a70f3c82934",
        "type": "countdown",
        "z": "5643e3d0.aa409c",
        "name": "",
        "topic": "",
        "payloadTimerStart": "true",
        "payloadTimerStartType": "bool",
        "payloadTimerStop": "false",
        "payloadTimerStopType": "bool",
        "timer": 30,
        "resetWhileRunning": false,
        "setTimeToNewWhileRunning": true,
        "startCountdownOnControlMessage": true,
        "minuteCounter": false,
        "x": 850,
        "y": 1260,
        "wires": [
            [],
            [
                "ca4753f753c61376"
            ]
        ]
    },
    {
        "id": "b9652826063189b8",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "msg.topic = \"control\";\n    msg.payload = global.get(\"backspintime\") * 60;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1260,
        "wires": [
            [
                "94590a70f3c82934"
            ]
        ]
    },
    {
        "id": "ca4753f753c61376",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "",
        "func": "flow.set(\"backspintimer\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "91ff1faf63033f5e",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 300,
        "wires": [
            [
                "4ea11fbec4c79eaa"
            ]
        ]
    },
    {
        "id": "4ea11fbec4c79eaa",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "function 1",
        "func": "global.set(\"restart\", 0) ;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 360,
        "wires": [
            [
                "77099701.b9f3c8"
            ]
        ]
    },
    {
        "id": "fc1a3475710b8f8d",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "ef4b3f7341bb1709",
        "type": "inject",
        "z": "5643e3d0.aa409c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 40,
        "wires": [
            [
                "21950b336e90712f"
            ]
        ]
    },
    {
        "id": "21950b336e90712f",
        "type": "function",
        "z": "5643e3d0.aa409c",
        "name": "function 4",
        "func": "global.set(\"locked\", false);\nglobal.set(\"restart\", 0);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "6c08d843.6f6058",
        "type": "inject",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "55",
        "payloadType": "num",
        "x": 330,
        "y": 140,
        "wires": [
            [
                "97de2978.522338",
                "47c8ef0a.fbecf"
            ]
        ]
    },
    {
        "id": "13418714.9dd959",
        "type": "inject",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 320,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "ec906e12.9379",
        "type": "function",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "func": " msg.x0 = msg.payload[0] & \"0x1f\";\nmsg.x1 = msg.payload[1];\nmsg.temp = (msg.x0/16)  + (msg.x1*16);\n\nmsg.temp2 = (msg.x1/16) + (msg.x0*16);\nmsg.f = (msg.temp)*9/5 + 32;\nmsg.f2 = (msg.temp2)*9/5 + 32;\nmsg.payload = msg.f2.toFixed(2);\nif (msg.payload < 125){msg.color = \"green\";}\nif (msg.payload > 130){msg.color = \"red\";}\nif (msg.payload > 125){msg.color = \"orange\";}\nmsg.topic = \"encltemp\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 200,
        "wires": [
            [
                "97de2978.522338",
                "34ec5ac5.50f2c6",
                "47c8ef0a.fbecf"
            ]
        ]
    },
    {
        "id": "97de2978.522338",
        "type": "ui_chart",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "group": "820af12a.cbee8",
        "order": 3,
        "width": "0",
        "height": "0",
        "label": "Enclosure Temperature",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "180",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 820,
        "y": 200,
        "wires": [
            [
                "9a54a4e9.67e8b8"
            ]
        ]
    },
    {
        "id": "cdab221d.943a",
        "type": "ui_text",
        "z": "14c2a8c4.3c0637",
        "group": "174a891f.229837",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Enclosure",
        "format": "<font color= {{msg.color}} > {{msg.payload}} </font>",
        "layout": "row-spread",
        "x": 780,
        "y": 440,
        "wires": []
    },
    {
        "id": "464675ff.2376ec",
        "type": "function",
        "z": "14c2a8c4.3c0637",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 300,
        "wires": [
            [
                "7c4bc53a.df4dac"
            ]
        ]
    },
    {
        "id": "7c4bc53a.df4dac",
        "type": "serial out",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "serial": "3331e171.1a052e",
        "x": 1170,
        "y": 280,
        "wires": []
    },
    {
        "id": "34ec5ac5.50f2c6",
        "type": "function",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "func": "var txt = msg.payload;\n\n msg.payload = \"page0.ttemp.txt=\\\"\"+ txt +\"\\\"\" ;\nnode.status(txt);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 800,
        "y": 300,
        "wires": [
            [
                "464675ff.2376ec"
            ]
        ]
    },
    {
        "id": "b4c55dc3.64084",
        "type": "debug",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 610,
        "y": 80,
        "wires": []
    },
    {
        "id": "a97d82a0.ca7f4",
        "type": "inject",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "1",
                "vt": "num"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "string"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 290,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "89e6d5ff.b80168",
        "type": "debug",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 360,
        "wires": []
    },
    {
        "id": "47c8ef0a.fbecf",
        "type": "function",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "func": "msg.payload = msg.payload + \"F\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 440,
        "wires": [
            [
                "cdab221d.943a",
                "7255d3b5b7a2e19f"
            ]
        ]
    },
    {
        "id": "9a54a4e9.67e8b8",
        "type": "persist in",
        "z": "14c2a8c4.3c0637",
        "name": "encltemp",
        "storageNode": "bf1e2739.316828",
        "x": 1020,
        "y": 200,
        "wires": []
    },
    {
        "id": "c5a5ea12.9a67e8",
        "type": "persist out",
        "z": "14c2a8c4.3c0637",
        "name": "encltemp",
        "storageNode": "193a7809.6a1ac8",
        "x": 630,
        "y": 140,
        "wires": [
            [
                "97de2978.522338"
            ]
        ]
    },
    {
        "id": "c6a2bc3a16bd49e9",
        "type": "catch",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "scope": [
            "327b7aba.fe1ba6"
        ],
        "uncaught": false,
        "x": 250,
        "y": 480,
        "wires": [
            [
                "f416c32d761db6ee"
            ]
        ]
    },
    {
        "id": "f416c32d761db6ee",
        "type": "rbe",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "func": "rbei",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 430,
        "y": 480,
        "wires": [
            [
                "5881dc9129ea5c4f",
                "532cdf7af907dcff"
            ]
        ]
    },
    {
        "id": "5881dc9129ea5c4f",
        "type": "debug",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "error",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 620,
        "y": 500,
        "wires": []
    },
    {
        "id": "532cdf7af907dcff",
        "type": "function",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "func": "if (msg.payload !=0){\nmsg.payload = \"I2C Comm Bus Error\";\nmsg.topic = msg.payload;\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nglobal.set('last_update', date.toLocaleString('es-ES'));\n\nmsg.payload = date + \", \" + msg.payload;\n\nnode.status(msg.payload);\n\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 600,
        "wires": [
            [
                "77507726c6094047"
            ]
        ]
    },
    {
        "id": "77507726c6094047",
        "type": "function",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "func": "msg.color =\"yellow\";\n\n return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 600,
        "wires": [
            [
                "e43220637c4b90b2"
            ]
        ]
    },
    {
        "id": "e43220637c4b90b2",
        "type": "file",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "filename": "/home/ubuntu/Documents/data.csv",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "x": 930,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "90cae0c2108387b5",
        "type": "comment",
        "z": "14c2a8c4.3c0637",
        "name": "Log to File",
        "info": "",
        "x": 920,
        "y": 560,
        "wires": []
    },
    {
        "id": "8cb4d2a85266f79a",
        "type": "inject",
        "z": "14c2a8c4.3c0637",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 160,
        "y": 600,
        "wires": [
            [
                "f416c32d761db6ee"
            ]
        ]
    },
    {
        "id": "7255d3b5b7a2e19f",
        "type": "ui_level",
        "z": "14c2a8c4.3c0637",
        "group": "174a891f.229837",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Enclosure",
        "colorHi": "#e60000",
        "colorWarn": "#ff9900",
        "colorNormal": "#00b33c",
        "colorOff": "#595959",
        "min": 0,
        "max": "150",
        "segWarn": "110",
        "segHigh": "125",
        "unit": " F",
        "layout": "sh",
        "channelA": "",
        "channelB": "",
        "decimals": "1",
        "animations": "soft",
        "shape": 2,
        "colorschema": "fixed",
        "textoptions": "default",
        "colorText": "#eeeeee",
        "fontLabel": "",
        "fontValue": "",
        "fontSmall": "",
        "colorFromTheme": true,
        "textAnimations": false,
        "hideValue": false,
        "tickmode": "off",
        "peakmode": false,
        "property": "payload",
        "peaktime": 3000,
        "x": 850,
        "y": 400,
        "wires": []
    },
    {
        "id": "18b342a0.a8b27d",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "OL Setpoint",
        "tooltip": "",
        "group": "c84c9662.9b92b8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 570,
        "y": 80,
        "wires": [
            [
                "6479ace5.21aaa4"
            ]
        ]
    },
    {
        "id": "900c9b2e.20dfa8",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 560,
        "wires": [
            [
                "81e905c2.d256e8"
            ]
        ]
    },
    {
        "id": "64d2fab1.01ed14",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "UL Setpoint",
        "tooltip": "",
        "group": "c84c9662.9b92b8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 570,
        "y": 40,
        "wires": [
            [
                "3e438538.fbde9a"
            ]
        ]
    },
    {
        "id": "2a777bc5.677df4",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Hi Hi Limit",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 560,
        "wires": [
            [
                "900c9b2e.20dfa8"
            ]
        ]
    },
    {
        "id": "299e58cf.4e5f68",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 600,
        "wires": [
            [
                "52ab4d87.d73294"
            ]
        ]
    },
    {
        "id": "592390b6.3c40f",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Lo Lo Limit",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 600,
        "wires": [
            [
                "299e58cf.4e5f68"
            ]
        ]
    },
    {
        "id": "59a4c252.d8bffc",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 640,
        "wires": [
            [
                "6f18c579.46b04c"
            ]
        ]
    },
    {
        "id": "20082641.fee1ba",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Hi Hi Limit",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 640,
        "wires": [
            [
                "59a4c252.d8bffc"
            ]
        ]
    },
    {
        "id": "9a4ce9c8.261528",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 680,
        "wires": [
            [
                "fb3f8b8d.1cfbd8"
            ]
        ]
    },
    {
        "id": "db596ac2.609718",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Lo Lo Limit",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 680,
        "wires": [
            [
                "9a4ce9c8.261528"
            ]
        ]
    },
    {
        "id": "ab1469d4.588068",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 720,
        "wires": [
            [
                "c0f4baa9.e68828"
            ]
        ]
    },
    {
        "id": "3ac34295.e22fce",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Hi Hi Limit",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 720,
        "wires": [
            [
                "ab1469d4.588068"
            ]
        ]
    },
    {
        "id": "1804d114.8f608f",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 760,
        "wires": [
            [
                "2bbe6421.bed33c"
            ]
        ]
    },
    {
        "id": "b158eb27.8d7a98",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Lo Lo Limit",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 760,
        "wires": [
            [
                "1804d114.8f608f"
            ]
        ]
    },
    {
        "id": "26b70520.b0204a",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 800,
        "wires": [
            [
                "b49fd8bf.f64758"
            ]
        ]
    },
    {
        "id": "c10836ae.0e1e98",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Hi Hi Limit",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 800,
        "wires": [
            [
                "26b70520.b0204a"
            ]
        ]
    },
    {
        "id": "7ddf2935.42f3a8",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 640,
        "y": 840,
        "wires": [
            [
                "7207bbda.da8a34"
            ]
        ]
    },
    {
        "id": "635fa5bf.ae68fc",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Lo Lo Limit",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 840,
        "wires": [
            [
                "7ddf2935.42f3a8"
            ]
        ]
    },
    {
        "id": "b9bdb104.10a31",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Analog 0 Name",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 240,
        "y": 900,
        "wires": [
            [
                "b907bd08.ab844"
            ]
        ]
    },
    {
        "id": "770e25d8.c2a12c",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Analog 1 Name",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 240,
        "y": 940,
        "wires": [
            [
                "192137be.7356b8"
            ]
        ]
    },
    {
        "id": "43d5371b.89b3c8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Analog 2 Name",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 240,
        "y": 980,
        "wires": [
            [
                "6dc5e99c.58a088"
            ]
        ]
    },
    {
        "id": "7ee0d294.f8d37c",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Analog 3 Name",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 240,
        "y": 1020,
        "wires": [
            [
                "407c0269.f1503c"
            ]
        ]
    },
    {
        "id": "b907bd08.ab844",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a0name', name);\nmsg.payload = \"page0.tA0.txt=\\\"\"+ name +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 900,
        "wires": [
            [
                "c39fa6d5.78ee88"
            ]
        ]
    },
    {
        "id": "192137be.7356b8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a1name', name);\nmsg.payload = \"page0.tA1.txt=\\\"\"+ name +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 940,
        "wires": [
            [
                "c39fa6d5.78ee88"
            ]
        ]
    },
    {
        "id": "6dc5e99c.58a088",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a2name', name);\nmsg.payload = \"page0.tA2.txt=\\\"\"+ name +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 980,
        "wires": [
            [
                "c39fa6d5.78ee88"
            ]
        ]
    },
    {
        "id": "407c0269.f1503c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a3name', name);\nmsg.payload = \"page0.tA3.txt=\\\"\"+ name +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 1020,
        "wires": [
            [
                "c39fa6d5.78ee88"
            ]
        ]
    },
    {
        "id": "7ac6945d.d9c45c",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Max Frequency",
        "tooltip": "",
        "group": "8be133a0.16cbf",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 580,
        "y": 160,
        "wires": [
            [
                "10d6ee0a.644232"
            ]
        ]
    },
    {
        "id": "152b520.ac8eaae",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Min Frequency",
        "tooltip": "",
        "group": "8be133a0.16cbf",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 580,
        "y": 120,
        "wires": [
            [
                "7015c454.ef6b4c"
            ]
        ]
    },
    {
        "id": "8db231b3.00041",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 180,
        "wires": [
            [
                "78662fa6.94c02"
            ]
        ]
    },
    {
        "id": "d7d4dd30.bf7a2",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 220,
        "wires": [
            [
                "7a00ba90.20ce74"
            ]
        ]
    },
    {
        "id": "bb091873.33ef58",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 260,
        "wires": [
            [
                "b759a495.4d20e8"
            ]
        ]
    },
    {
        "id": "5bc7790d.60c5f8",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 300,
        "wires": [
            [
                "8b376e52.17d38"
            ]
        ]
    },
    {
        "id": "79d39521.b67fdc",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 340,
        "wires": [
            [
                "8ad3756d.f06ff8"
            ]
        ]
    },
    {
        "id": "9537dcb6.06d99",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 380,
        "wires": [
            [
                "4f1daa9e.a44534"
            ]
        ]
    },
    {
        "id": "6a484734.260158",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 420,
        "wires": [
            [
                "ad4999f.2974968"
            ]
        ]
    },
    {
        "id": "cc7b88b0.8ded58",
        "type": "delay",
        "z": "1845960d.82fd2a",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1460,
        "y": 460,
        "wires": [
            [
                "64532e43.d02c1"
            ]
        ]
    },
    {
        "id": "8d4ead3e.7c3a6",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = 100;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1450,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "78662fa6.94c02",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb0scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1610,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "7a00ba90.20ce74",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb0scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "b759a495.4d20e8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb1scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8b376e52.17d38",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb1scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "8ad3756d.f06ff8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb2scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "4f1daa9e.a44534",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb2scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "ad4999f.2974968",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb3scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "64532e43.d02c1",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = parseFloat(msg.payload) * global.get('mb3scale');\nif (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1610,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "3e438538.fbde9a",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"ullimit\", msg.payload);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "6479ace5.21aaa4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"ollimit\", msg.payload);",
        "outputs": 1,
        "noerr": 0,
        "x": 820,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "7015c454.ef6b4c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"minfreq\", msg.payload);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "10d6ee0a.644232",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"maxfreq\", msg.payload);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "81e905c2.d256e8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a0hihi\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "52ab4d87.d73294",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a0lolo\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "6f18c579.46b04c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a1hihi\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "fb3f8b8d.1cfbd8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a1lolo\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "c0f4baa9.e68828",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a2hihi\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "2bbe6421.bed33c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a2lolo\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "b49fd8bf.f64758",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a3hihi\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "7207bbda.da8a34",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "if (parseInt(msg.payload) < 65535) {msg.payload = msg.payload;} \nelse {msg.payload = 65535;}\nglobal.set(\"a3lolo\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 770,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "d6f6ca4b.e02bf8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a0name');\nmsg.topic = aname;\nmsg.payload =global.get(\"a0hihi\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 560,
        "wires": [
            [
                "2a777bc5.677df4"
            ]
        ]
    },
    {
        "id": "3f5a2d79.780472",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a0name');\nmsg.topic = aname + \" Lo Lo Limit\";\nmsg.payload =global.get(\"a0lolo\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 600,
        "wires": [
            [
                "592390b6.3c40f"
            ]
        ]
    },
    {
        "id": "82cf12d7.44336",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a1name');\nmsg.topic = aname + \" HI HI Limit\";\nmsg.payload =global.get(\"a1hihi\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 640,
        "wires": [
            [
                "20082641.fee1ba"
            ]
        ]
    },
    {
        "id": "89a77c68.da92d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a1name');\nmsg.topic = aname + \" Lo Lo Limit\";\nmsg.payload =global.get(\"a1lolo\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 680,
        "wires": [
            [
                "db596ac2.609718"
            ]
        ]
    },
    {
        "id": "4e58528b.121aec",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a2name');\nmsg.topic = aname + \" HI HI Limit\";\nmsg.payload =global.get(\"a2hihi\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 720,
        "wires": [
            [
                "3ac34295.e22fce"
            ]
        ]
    },
    {
        "id": "e99c605c.dcbe4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a2name');\nmsg.topic = aname + \" Lo Lo Limit\";\nmsg.payload =global.get(\"a2lolo\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 760,
        "wires": [
            [
                "b158eb27.8d7a98"
            ]
        ]
    },
    {
        "id": "8370fa49.e5c588",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a3name');\nmsg.topic = aname + \" HI HI Limit\";\nmsg.payload =global.get(\"a3hihi\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 800,
        "wires": [
            [
                "c10836ae.0e1e98"
            ]
        ]
    },
    {
        "id": "1c316d7.5db0093",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var aname = global.get('a3name');\nmsg.topic = aname + \" Lo Lo Limit\";\nmsg.payload =global.get(\"a3lolo\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 840,
        "wires": [
            [
                "635fa5bf.ae68fc"
            ]
        ]
    },
    {
        "id": "8cf9aa02.47dc98",
        "type": "inject",
        "z": "1845960d.82fd2a",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "2",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 1540,
        "wires": [
            [
                "57f9c07d.06b1c",
                "56cd7b1c.442c64",
                "d88c47b3.996c68",
                "b0ae5c7e.2da12",
                "e8354300.46a4a",
                "3928d2c4.2e9abe",
                "be7afedf.0f943",
                "ed3030d4.d78e6",
                "26464b83.fd3594",
                "262ffc81.051c04",
                "2fdfe37.13ba61c",
                "ce619063.9f9e1",
                "342a383e.499508",
                "4ab9acd9.3f9da4",
                "f2840f44.43605",
                "df05a4c7.cc6e98",
                "8df5c769.7ec638",
                "674cd6dd.3b5bf8",
                "77531957.e2e498",
                "41aa9a1c.a92fc4",
                "f2b87588.9122d8",
                "6cf08d77.b79ac4",
                "94c24eac.18254",
                "982b8df1.99518",
                "460d0d1.6fec5f4",
                "65f386e9.c31aa8",
                "71808bf0.731064",
                "101e00d4.0f62df",
                "ecb711f1.9b769",
                "84d53a4b419a349b",
                "6c907bb7d8769ab5",
                "fec0d1f68db1384d",
                "d377620d202eaee6"
            ]
        ]
    },
    {
        "id": "57f9c07d.06b1c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a0name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1540,
        "wires": [
            [
                "b9bdb104.10a31"
            ]
        ]
    },
    {
        "id": "56cd7b1c.442c64",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a1name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1580,
        "wires": [
            [
                "770e25d8.c2a12c"
            ]
        ]
    },
    {
        "id": "d88c47b3.996c68",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a2name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1620,
        "wires": [
            [
                "43d5371b.89b3c8"
            ]
        ]
    },
    {
        "id": "b0ae5c7e.2da12",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a3name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 1660,
        "wires": [
            [
                "7ee0d294.f8d37c"
            ]
        ]
    },
    {
        "id": "e8354300.46a4a",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var val = global.get('i1nc');\nif (val){msg.payload = true;}else{msg.payload = false;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1700,
        "wires": [
            [
                "1f236977.5fa387"
            ]
        ]
    },
    {
        "id": "3928d2c4.2e9abe",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var val = global.get('i2nc');\nif (val){msg.payload = true;}else{msg.payload = false;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1740,
        "wires": [
            [
                "ae5a0361.74c79"
            ]
        ]
    },
    {
        "id": "be7afedf.0f943",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var val = global.get('i3nc');\nif (val){msg.payload = true;}else{msg.payload = false;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1780,
        "wires": [
            [
                "b5e0f313.4dfc2"
            ]
        ]
    },
    {
        "id": "ed3030d4.d78e6",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var val = global.get('i4nc');\nif (val){msg.payload = true;}else{msg.payload = false;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1820,
        "wires": [
            [
                "8eb8bd2a.75c89"
            ]
        ]
    },
    {
        "id": "26464b83.fd3594",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i0name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 630,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "262ffc81.051c04",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i1name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 1420,
        "wires": [
            [
                "a87f64.c67490a"
            ]
        ]
    },
    {
        "id": "2fdfe37.13ba61c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i2name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 630,
        "y": 1460,
        "wires": [
            [
                "3caf774f.899398"
            ]
        ]
    },
    {
        "id": "ce619063.9f9e1",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i3name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 1500,
        "wires": [
            [
                "ef125fa6.3b80a"
            ]
        ]
    },
    {
        "id": "342a383e.499508",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i4name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 630,
        "y": 1540,
        "wires": [
            [
                "1986a195.5e3a8e"
            ]
        ]
    },
    {
        "id": "4ab9acd9.3f9da4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('o2name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 1580,
        "wires": [
            [
                "9917e561.6385d8"
            ]
        ]
    },
    {
        "id": "a87f64.c67490a",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Input 1 Name",
        "tooltip": "",
        "group": "89077c44.4a81c",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 860,
        "y": 1400,
        "wires": [
            [
                "99d662c1.60cda"
            ]
        ]
    },
    {
        "id": "3caf774f.899398",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Input 2 Name",
        "tooltip": "",
        "group": "ff960a8f.e8f448",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 860,
        "y": 1440,
        "wires": [
            [
                "ef07928.7cd8f7"
            ]
        ]
    },
    {
        "id": "ef125fa6.3b80a",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Input 3 Name",
        "tooltip": "",
        "group": "16b163eb.dd92bc",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 860,
        "y": 1480,
        "wires": [
            [
                "9c213416.72a788"
            ]
        ]
    },
    {
        "id": "1986a195.5e3a8e",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Input 4 Name",
        "tooltip": "",
        "group": "1d6f4c90.182763",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 860,
        "y": 1520,
        "wires": [
            [
                "4131bda8.8041f4"
            ]
        ]
    },
    {
        "id": "99d662c1.60cda",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i1name', name);\nnode.status(name)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "ef07928.7cd8f7",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i2name', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1030,
        "y": 1440,
        "wires": [
            []
        ]
    },
    {
        "id": "9c213416.72a788",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i3name', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1020,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "4131bda8.8041f4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i4name', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1020,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "718e0759.cc32d8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('o2name', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "1f236977.5fa387",
        "type": "ui_switch",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "NC",
        "tooltip": "",
        "group": "89077c44.4a81c",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 870,
        "y": 1680,
        "wires": [
            [
                "6297ef7d.5f8b8"
            ]
        ]
    },
    {
        "id": "ae5a0361.74c79",
        "type": "ui_switch",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "NC",
        "tooltip": "",
        "group": "ff960a8f.e8f448",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 870,
        "y": 1720,
        "wires": [
            [
                "45df434f.f963fc"
            ]
        ]
    },
    {
        "id": "b5e0f313.4dfc2",
        "type": "ui_switch",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "NC",
        "tooltip": "",
        "group": "16b163eb.dd92bc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 870,
        "y": 1760,
        "wires": [
            [
                "b8023bf4.1539d8"
            ]
        ]
    },
    {
        "id": "8eb8bd2a.75c89",
        "type": "ui_switch",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "NC",
        "tooltip": "",
        "group": "1d6f4c90.182763",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 870,
        "y": 1800,
        "wires": [
            [
                "db15e2ce.7d6cb"
            ]
        ]
    },
    {
        "id": "f2840f44.43605",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var val = global.get('i5nc');\nif (val){msg.payload = true;}else{msg.payload = false;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1860,
        "wires": [
            []
        ]
    },
    {
        "id": "6297ef7d.5f8b8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i1nc', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 1680,
        "wires": [
            []
        ]
    },
    {
        "id": "45df434f.f963fc",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i2nc', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 1720,
        "wires": [
            []
        ]
    },
    {
        "id": "b8023bf4.1539d8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i3nc', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1050,
        "y": 1760,
        "wires": [
            []
        ]
    },
    {
        "id": "db15e2ce.7d6cb",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i4nc', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1060,
        "y": 1800,
        "wires": [
            []
        ]
    },
    {
        "id": "bb45abb0.e940b8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i5nc', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "df05a4c7.cc6e98",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i1sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1900,
        "wires": [
            [
                "60d8e3a7.bb121c"
            ]
        ]
    },
    {
        "id": "50400b30.077e64",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i1sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1070,
        "y": 1900,
        "wires": [
            []
        ]
    },
    {
        "id": "c39fa6d5.78ee88",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1270,
        "y": 440,
        "wires": [
            [
                "aa44fbe9.1979e8"
            ]
        ]
    },
    {
        "id": "aa44fbe9.1979e8",
        "type": "serial out",
        "z": "1845960d.82fd2a",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 1290,
        "y": 500,
        "wires": []
    },
    {
        "id": "3a73c819.245298",
        "type": "inject",
        "z": "1845960d.82fd2a",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1000,
        "y": 780,
        "wires": [
            [
                "a9892e67.4d0ea"
            ]
        ]
    },
    {
        "id": "a9892e67.4d0ea",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a1name', name);\nmsg.payload = \"page0.tA1.txt=\\\"\"+ name +\"\\\"\" ;//\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1160,
        "y": 720,
        "wires": [
            [
                "c39fa6d5.78ee88"
            ]
        ]
    },
    {
        "id": "8df5c769.7ec638",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a1sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 2100,
        "wires": [
            [
                "fea290b7.4c1e3"
            ]
        ]
    },
    {
        "id": "6cf08d77.b79ac4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i2sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1940,
        "wires": [
            [
                "5a4c7857.ac33d8"
            ]
        ]
    },
    {
        "id": "94c24eac.18254",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i3sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 1980,
        "wires": [
            [
                "64139ad5.d978f4"
            ]
        ]
    },
    {
        "id": "982b8df1.99518",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i4sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 290,
        "y": 2020,
        "wires": [
            [
                "c61a7ac8.3d8868"
            ]
        ]
    },
    {
        "id": "460d0d1.6fec5f4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a0sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 2060,
        "wires": [
            [
                "c13bb17b.8775a"
            ]
        ]
    },
    {
        "id": "65f386e9.c31aa8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a2sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 2140,
        "wires": [
            [
                "18a3c49d.12057b"
            ]
        ]
    },
    {
        "id": "71808bf0.731064",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a3sd');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 2180,
        "wires": [
            [
                "643c131f.a93a1c"
            ]
        ]
    },
    {
        "id": "ecb711f1.9b769",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('o3chdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 2220,
        "wires": [
            [
                "c25064aa.b1d8f8"
            ]
        ]
    },
    {
        "id": "60d8e3a7.bb121c",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "89077c44.4a81c",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 1900,
        "wires": [
            [
                "50400b30.077e64"
            ]
        ]
    },
    {
        "id": "18a3c49d.12057b",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 2160,
        "wires": [
            [
                "77fd16f9.f70818"
            ]
        ]
    },
    {
        "id": "643c131f.a93a1c",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 2200,
        "wires": [
            [
                "5bd5af27.33b44"
            ]
        ]
    },
    {
        "id": "c13bb17b.8775a",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 2080,
        "wires": [
            [
                "27a5d88a.e64848"
            ]
        ]
    },
    {
        "id": "fea290b7.4c1e3",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 2120,
        "wires": [
            [
                "bf6f1970.603888"
            ]
        ]
    },
    {
        "id": "27a5d88a.e64848",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a0sd', name);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1090,
        "y": 2080,
        "wires": [
            []
        ]
    },
    {
        "id": "2ac8231f.fa42ac",
        "type": "inject",
        "z": "1845960d.82fd2a",
        "name": "",
        "props": [
            {
                "p": "payload",
                "v": "",
                "vt": "date"
            },
            {
                "p": "topic",
                "v": "",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 120,
        "wires": [
            [
                "d6f6ca4b.e02bf8",
                "3f5a2d79.780472",
                "82cf12d7.44336",
                "89a77c68.da92d",
                "4e58528b.121aec",
                "e99c605c.dcbe4",
                "8370fa49.e5c588",
                "1c316d7.5db0093",
                "c20d3e13.7fe9c",
                "9fe6238d.dcf7d",
                "78ba1626.cca7f8",
                "c7201298.02c72",
                "8ec0dd50.83c41",
                "95bc69a.9e27198",
                "a82769a3.41ec78",
                "d66752a22c4625ef",
                "c7ad2e4b87538ce6",
                "966734df3ef218da",
                "10e912f98a89b080",
                "0dc36817dbb4d9e3"
            ]
        ]
    },
    {
        "id": "1819c31a.75384d",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "A0 Min Scale",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 630,
        "y": 1060,
        "wires": [
            [
                "7a77314c.babbe"
            ]
        ]
    },
    {
        "id": "3a1cd877.d6f608",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "A1 Min Scale",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 630,
        "y": 1100,
        "wires": [
            [
                "d9d174a7.e0e108"
            ]
        ]
    },
    {
        "id": "eb49b853.a98818",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "A2 Min Scale",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 630,
        "y": 1140,
        "wires": [
            [
                "88936942.ea0db8"
            ]
        ]
    },
    {
        "id": "f246e9c3.2e1cf8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "A3 Min Scale",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 630,
        "y": 1180,
        "wires": [
            [
                "4342c824.beb7b8"
            ]
        ]
    },
    {
        "id": "7a77314c.babbe",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a0min', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 800,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "d9d174a7.e0e108",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a1min', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 790,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "88936942.ea0db8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a2min', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 800,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "4342c824.beb7b8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a3min', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "674cd6dd.3b5bf8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a0min');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1060,
        "wires": [
            [
                "1819c31a.75384d"
            ]
        ]
    },
    {
        "id": "77531957.e2e498",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a1min');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 1100,
        "wires": [
            [
                "3a1cd877.d6f608"
            ]
        ]
    },
    {
        "id": "41aa9a1c.a92fc4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a2min');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 470,
        "y": 1140,
        "wires": [
            [
                "eb49b853.a98818"
            ]
        ]
    },
    {
        "id": "f2b87588.9122d8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a3min');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 1180,
        "wires": [
            [
                "f246e9c3.2e1cf8"
            ]
        ]
    },
    {
        "id": "5a4c7857.ac33d8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "ff960a8f.e8f448",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 1940,
        "wires": [
            [
                "dabdcbb.db23038"
            ]
        ]
    },
    {
        "id": "64139ad5.d978f4",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "16b163eb.dd92bc",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 890,
        "y": 1980,
        "wires": [
            [
                "10594cef.6e0163"
            ]
        ]
    },
    {
        "id": "c61a7ac8.3d8868",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Start-Up Delay Sec",
        "tooltip": "",
        "group": "1d6f4c90.182763",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 890,
        "y": 2020,
        "wires": [
            [
                "a981d769.3d11a8"
            ]
        ]
    },
    {
        "id": "dabdcbb.db23038",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i2sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 1940,
        "wires": [
            []
        ]
    },
    {
        "id": "10594cef.6e0163",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i3sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 1980,
        "wires": [
            []
        ]
    },
    {
        "id": "a981d769.3d11a8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i4sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1080,
        "y": 2020,
        "wires": [
            []
        ]
    },
    {
        "id": "bf6f1970.603888",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a1sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1090,
        "y": 2120,
        "wires": [
            []
        ]
    },
    {
        "id": "77fd16f9.f70818",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a2sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1090,
        "y": 2160,
        "wires": [
            []
        ]
    },
    {
        "id": "5bd5af27.33b44",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a3sd', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 2200,
        "wires": [
            []
        ]
    },
    {
        "id": "9c1ca382.e8eca",
        "type": "comment",
        "z": "1845960d.82fd2a",
        "name": "Analogs",
        "info": "Analogs",
        "x": 1220,
        "y": 2120,
        "wires": []
    },
    {
        "id": "4bf813bc.3f6e8c",
        "type": "comment",
        "z": "1845960d.82fd2a",
        "name": "Inputs",
        "info": "",
        "x": 950,
        "y": 1320,
        "wires": []
    },
    {
        "id": "c20d3e13.7fe9c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"ullimit\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 40,
        "wires": [
            [
                "64d2fab1.01ed14"
            ]
        ]
    },
    {
        "id": "9fe6238d.dcf7d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"ollimit\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 80,
        "wires": [
            [
                "18b342a0.a8b27d"
            ]
        ]
    },
    {
        "id": "78ba1626.cca7f8",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"minfreq\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 120,
        "wires": [
            [
                "152b520.ac8eaae"
            ]
        ]
    },
    {
        "id": "c7201298.02c72",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"maxfreq\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 160,
        "wires": [
            [
                "7ac6945d.d9c45c"
            ]
        ]
    },
    {
        "id": "8ec0dd50.83c41",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"ulsd\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 200,
        "wires": [
            [
                "95bfc66f.5543f8"
            ]
        ]
    },
    {
        "id": "95bc69a.9e27198",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"olsd\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 240,
        "wires": [
            [
                "91c50c80.83d2"
            ]
        ]
    },
    {
        "id": "95bfc66f.5543f8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "UnderLoad Start Delay Sec",
        "tooltip": "",
        "group": "c84c9662.9b92b8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 620,
        "y": 200,
        "wires": [
            [
                "7e0c9ef5.6e9f6"
            ]
        ]
    },
    {
        "id": "91c50c80.83d2",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Overload Start Delay Sec",
        "tooltip": "",
        "group": "c84c9662.9b92b8",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 600,
        "y": 240,
        "wires": [
            [
                "67a73102.3510e"
            ]
        ]
    },
    {
        "id": "7e0c9ef5.6e9f6",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"ulsd\", msg.payload);",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "67a73102.3510e",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"olsd\", msg.payload);",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "a82769a3.41ec78",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"rev\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 280,
        "wires": [
            [
                "8efc2335.05eb8"
            ]
        ]
    },
    {
        "id": "8efc2335.05eb8",
        "type": "ui_switch",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "VFD Reverse",
        "tooltip": "",
        "group": "60a73cbd.a8d754",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 560,
        "y": 280,
        "wires": [
            [
                "eea6435.fcb0ac"
            ]
        ]
    },
    {
        "id": "eea6435.fcb0ac",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"rev\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "9917e561.6385d8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Output O2 Name",
        "tooltip": "",
        "group": "c59adf5a.9e87a",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 830,
        "y": 1560,
        "wires": [
            [
                "718e0759.cc32d8"
            ]
        ]
    },
    {
        "id": "101e00d4.0f62df",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('o3name');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1620,
        "wires": [
            [
                "a02b2bbd.bed5a8"
            ]
        ]
    },
    {
        "id": "a02b2bbd.bed5a8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Output O3 Name",
        "tooltip": "",
        "group": "c59adf5a.9e87a",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 830,
        "y": 1600,
        "wires": [
            [
                "10d4a2cb.f2f63d"
            ]
        ]
    },
    {
        "id": "10d4a2cb.f2f63d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('o3name', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 1620,
        "wires": [
            []
        ]
    },
    {
        "id": "c25064aa.b1d8f8",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "O3 Seconds On Before Pump",
        "tooltip": "",
        "group": "c59adf5a.9e87a",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 930,
        "y": 2240,
        "wires": [
            [
                "26423a2b.e835e6"
            ]
        ]
    },
    {
        "id": "26423a2b.e835e6",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('o3chdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 2240,
        "wires": [
            []
        ]
    },
    {
        "id": "d66752a22c4625ef",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"maxrestarts\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 400,
        "wires": [
            [
                "148253c525ab326e"
            ]
        ]
    },
    {
        "id": "ec36d01a440cd303",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"maxrestarts\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "148253c525ab326e",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Max Restarts",
        "tooltip": "",
        "group": "43269810.9fcd98",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 560,
        "y": 400,
        "wires": [
            [
                "ec36d01a440cd303"
            ]
        ]
    },
    {
        "id": "d377620d202eaee6",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('units0');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1220,
        "wires": [
            [
                "c4795445e158385c"
            ]
        ]
    },
    {
        "id": "fec0d1f68db1384d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('units1');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1260,
        "wires": [
            [
                "b503f32840455578"
            ]
        ]
    },
    {
        "id": "6c907bb7d8769ab5",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('units2');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1300,
        "wires": [
            [
                "938e66697f32497b"
            ]
        ]
    },
    {
        "id": "84d53a4b419a349b",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('units3');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1340,
        "wires": [
            [
                "4d67a288bf90fbaf"
            ]
        ]
    },
    {
        "id": "c4795445e158385c",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Units",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 610,
        "y": 1220,
        "wires": [
            [
                "ce143134da175914"
            ]
        ]
    },
    {
        "id": "b503f32840455578",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Units",
        "tooltip": "",
        "group": "47aa9896.cb8738",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 610,
        "y": 1260,
        "wires": [
            [
                "fd2d42637c0aa888"
            ]
        ]
    },
    {
        "id": "938e66697f32497b",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Units",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 610,
        "y": 1300,
        "wires": [
            [
                "abdc1649897e87bd"
            ]
        ]
    },
    {
        "id": "4d67a288bf90fbaf",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Units",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 610,
        "y": 1340,
        "wires": [
            [
                "15a02fde15f85c90"
            ]
        ]
    },
    {
        "id": "ce143134da175914",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('units0', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "fd2d42637c0aa888",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('units1', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "abdc1649897e87bd",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('units2', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "15a02fde15f85c90",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('units3', name);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "c7ad2e4b87538ce6",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "fb7e302864f8b390",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "e0e27fba9e798d5c",
        "type": "comment",
        "z": "1845960d.82fd2a",
        "name": "Add RPM",
        "info": "",
        "x": 550,
        "y": 440,
        "wires": []
    },
    {
        "id": "966734df3ef218da",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"backspintime\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 480,
        "wires": [
            [
                "b13bd67cb664041f"
            ]
        ]
    },
    {
        "id": "e9aafb44dab7306c",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"backspintime\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "b13bd67cb664041f",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Backspin Time Min",
        "tooltip": "",
        "group": "60a73cbd.a8d754",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 580,
        "y": 480,
        "wires": [
            [
                "e9aafb44dab7306c"
            ]
        ]
    },
    {
        "id": "10e912f98a89b080",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"oltripdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 320,
        "wires": [
            [
                "4ae2d3e747248e04"
            ]
        ]
    },
    {
        "id": "0dc36817dbb4d9e3",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload =global.get(\"ultripdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 360,
        "wires": [
            [
                "59ddea58297025cf"
            ]
        ]
    },
    {
        "id": "cd3327c8173e52f1",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"oltripdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "2e90f094ddd7014d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "global.set(\"ultripdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "4ae2d3e747248e04",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "OL Trip Delay Seconds",
        "tooltip": "",
        "group": "c84c9662.9b92b8",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 590,
        "y": 320,
        "wires": [
            [
                "cd3327c8173e52f1"
            ]
        ]
    },
    {
        "id": "59ddea58297025cf",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "UL Trip Delay Seconds",
        "tooltip": "",
        "group": "c84c9662.9b92b8",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 590,
        "y": 360,
        "wires": [
            [
                "2e90f094ddd7014d"
            ]
        ]
    },
    {
        "id": "1c3b9bcd2d58e1af",
        "type": "inject",
        "z": "1845960d.82fd2a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 130,
        "y": 2500,
        "wires": [
            [
                "df1e53f14136d533",
                "69b82724bef884ab",
                "64ec0de121d2d23d",
                "06bb0603d2125f3a",
                "866d3d6305abd436",
                "ab874142b904a4b4",
                "ce705dbc310a57d0",
                "2c9da6703845b51f"
            ]
        ]
    },
    {
        "id": "df1e53f14136d533",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i1tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2400,
        "wires": [
            [
                "230dcd706c366a00"
            ]
        ]
    },
    {
        "id": "f970b38b5ebd5f7f",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i1tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 2400,
        "wires": [
            []
        ]
    },
    {
        "id": "69b82724bef884ab",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i2tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2440,
        "wires": [
            [
                "84c588a6da16c883"
            ]
        ]
    },
    {
        "id": "64ec0de121d2d23d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i3tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2480,
        "wires": [
            [
                "ab2174ab08f62487"
            ]
        ]
    },
    {
        "id": "06bb0603d2125f3a",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('i4tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2520,
        "wires": [
            [
                "f70c4fb3da23bfc0"
            ]
        ]
    },
    {
        "id": "866d3d6305abd436",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a0tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2640,
        "wires": [
            [
                "8b7bc94b3ab28145"
            ]
        ]
    },
    {
        "id": "ab874142b904a4b4",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a1tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2680,
        "wires": [
            [
                "1f111fce9295ac02"
            ]
        ]
    },
    {
        "id": "ce705dbc310a57d0",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a2tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2720,
        "wires": [
            [
                "c9441628c94b64cf"
            ]
        ]
    },
    {
        "id": "2c9da6703845b51f",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "msg.payload = global.get('a3tripdelay');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2760,
        "wires": [
            [
                "5da983cbd7116d3f"
            ]
        ]
    },
    {
        "id": "98d4d28d3098769a",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i2tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2440,
        "wires": [
            []
        ]
    },
    {
        "id": "6a121088202c1c1a",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i3tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2480,
        "wires": [
            []
        ]
    },
    {
        "id": "06fdee355fe0b678",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('i4tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2520,
        "wires": [
            []
        ]
    },
    {
        "id": "d07f21e440690256",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a0tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2640,
        "wires": [
            []
        ]
    },
    {
        "id": "0aa91fdeb865d0b2",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a1tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2680,
        "wires": [
            []
        ]
    },
    {
        "id": "505d7e111578bc0d",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a2tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2720,
        "wires": [
            []
        ]
    },
    {
        "id": "79a59f5e62cf8a40",
        "type": "function",
        "z": "1845960d.82fd2a",
        "name": "",
        "func": "var name;\nname = msg.payload;\nglobal.set('a3tripdelay', name);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 2760,
        "wires": [
            []
        ]
    },
    {
        "id": "230dcd706c366a00",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "89077c44.4a81c",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 520,
        "y": 2400,
        "wires": [
            [
                "f970b38b5ebd5f7f"
            ]
        ]
    },
    {
        "id": "84c588a6da16c883",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "ff960a8f.e8f448",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2440,
        "wires": [
            [
                "98d4d28d3098769a"
            ]
        ]
    },
    {
        "id": "ab2174ab08f62487",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "16b163eb.dd92bc",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2480,
        "wires": [
            [
                "6a121088202c1c1a"
            ]
        ]
    },
    {
        "id": "f70c4fb3da23bfc0",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "1d6f4c90.182763",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2520,
        "wires": [
            [
                "06fdee355fe0b678"
            ]
        ]
    },
    {
        "id": "8b7bc94b3ab28145",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "76ecb970.d80768",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2640,
        "wires": [
            [
                "d07f21e440690256"
            ]
        ]
    },
    {
        "id": "1f111fce9295ac02",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "Trip Delay Seconds",
        "group": "47aa9896.cb8738",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2680,
        "wires": [
            [
                "0aa91fdeb865d0b2"
            ]
        ]
    },
    {
        "id": "c9441628c94b64cf",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "7fd8eb85.68bbf4",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2720,
        "wires": [
            [
                "505d7e111578bc0d"
            ]
        ]
    },
    {
        "id": "5da983cbd7116d3f",
        "type": "ui_text_input",
        "z": "1845960d.82fd2a",
        "name": "",
        "label": "Trip Delay Seconds",
        "tooltip": "",
        "group": "6b314ea2.961e9",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 530,
        "y": 2760,
        "wires": [
            [
                "79a59f5e62cf8a40"
            ]
        ]
    },
    {
        "id": "37513ee9.7bf692",
        "type": "inject",
        "z": "2a060dac.22fa72",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "f7f5a639.856058",
                "238606e.26eb1fa",
                "c22585ab.a683f8",
                "a1c15898.b91878",
                "34ebc20f.b1ecbe",
                "b57c6e33.696b2",
                "5f55fee5.02c9c",
                "703a1334.b7b3ac",
                "f38c95e3.dbe818",
                "46ab6da7.8298a4",
                "8ab7b2876f882e48"
            ]
        ]
    },
    {
        "id": "ffded52d.07b698",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "\nvar restartdelay;\nvar restart;\nvar vfdrun = global.get(\"vfdrun\");\nrestart = global.get(\"restart\");\nrestartdelay = global.get(\"restarttime\")* 60000;\nnode.status(restartdelay + \" \" +restart + \" \" +vfdrun);\nif (restartdelay > 0 && restart == 1 && vfdrun == 0){ //global.set(\"restart\", 0);\nmsg.delay = restartdelay;\n\nreturn msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 700,
        "wires": [
            [
                "aa46a6c6.743088"
            ]
        ]
    },
    {
        "id": "a64176f2.022f18",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} I1 Restart Delay Min",
        "tooltip": "",
        "group": "d5967a57.2a2138",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 80,
        "wires": [
            [
                "1bd9d962.0b0807"
            ]
        ]
    },
    {
        "id": "f7f5a639.856058",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"i1name\");\nmsg.payload = global.get(\"i1restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 80,
        "wires": [
            [
                "a64176f2.022f18"
            ]
        ]
    },
    {
        "id": "1bd9d962.0b0807",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"i1restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3645da6d.580e16",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var perm = global.get(\"perm\");\n\nif (msg.payload == 1){\nif (perm){global.set(\"vfdrun\", 1)}}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "2e93197.4980de6",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} I2 Restart Delay Min",
        "tooltip": "",
        "group": "d5967a57.2a2138",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 120,
        "wires": [
            [
                "c2485d85.6fcfc"
            ]
        ]
    },
    {
        "id": "238606e.26eb1fa",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"i2name\");\nmsg.payload = global.get(\"i2restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 120,
        "wires": [
            [
                "2e93197.4980de6"
            ]
        ]
    },
    {
        "id": "c2485d85.6fcfc",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"i2restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "4583ebab.6b3cf4",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} I3 Restart Delay Min",
        "tooltip": "",
        "group": "d5967a57.2a2138",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 160,
        "wires": [
            [
                "3dbe9174.f3ba8e"
            ]
        ]
    },
    {
        "id": "c22585ab.a683f8",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"i3name\");\nmsg.payload = global.get(\"i3restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 160,
        "wires": [
            [
                "4583ebab.6b3cf4"
            ]
        ]
    },
    {
        "id": "3dbe9174.f3ba8e",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"i3restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "25bed559.5b2f0a",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} I4 Restart Delay Min",
        "tooltip": "",
        "group": "d5967a57.2a2138",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 200,
        "wires": [
            [
                "3604b0f.3ba965"
            ]
        ]
    },
    {
        "id": "a1c15898.b91878",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"i4name\");\nmsg.payload = global.get(\"i4restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 200,
        "wires": [
            [
                "25bed559.5b2f0a"
            ]
        ]
    },
    {
        "id": "3604b0f.3ba965",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"i4restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "c8a29e59.dd092",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Inputs",
        "info": "",
        "x": 550,
        "y": 40,
        "wires": []
    },
    {
        "id": "c690c545.14a698",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Analogs",
        "info": "",
        "x": 560,
        "y": 260,
        "wires": []
    },
    {
        "id": "efc84966.1142d8",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Power Fail",
        "info": "",
        "x": 600,
        "y": 860,
        "wires": []
    },
    {
        "id": "16784cc4.5a98e3",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.payload = global.get(\"pfrestartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 920,
        "wires": [
            [
                "294ac655.b4ddda"
            ]
        ]
    },
    {
        "id": "2294d7f9.0e6bf8",
        "type": "inject",
        "z": "2a060dac.22fa72",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "5",
        "topic": "",
        "payloadType": "date",
        "x": 210,
        "y": 920,
        "wires": [
            [
                "16784cc4.5a98e3",
                "c9b5b560.d38be8"
            ]
        ]
    },
    {
        "id": "c9b5b560.d38be8",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var restartdelay;\nrestartdelay = global.get(\"pfrestartdelay\")* 60000;\n global.set(\"restarttime\",restartdelay/60000);\nif (restartdelay > 0){global.set(\"restart\", 1);\nmsg.delay = restartdelay;\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 960,
        "wires": [
            [
                "aa46a6c6.743088"
            ]
        ]
    },
    {
        "id": "294ac655.b4ddda",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "Power Fail Restart Delay Min",
        "tooltip": "",
        "group": "43269810.9fcd98",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 780,
        "y": 920,
        "wires": [
            [
                "2d3e9b73.509814"
            ]
        ]
    },
    {
        "id": "2d3e9b73.509814",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"pfrestartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "aa46a6c6.743088",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var restart = global.get(\"restart\");\nvar reset = global.get(\"reset\");\nvar restartcnt = global.get(\"restartcnt\");\nvar maxrestarts = global.get(\"maxrestarts\");\nmsg.payload = 1;\nif (reset) {msg.reset = true; msg.flush =true; global.set(\"restart\", 0); msg.payload = 0; \nreturn msg;}\nif (restartcnt >= maxrestarts) {global.set(\"restart\",0);}\nif (restart == 1 &&  restartcnt < maxrestarts){\nreturn msg;\n    }",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 700,
        "wires": [
            [
                "af70cbda.522cd8"
            ]
        ]
    },
    {
        "id": "9920c49.328bd38",
        "type": "delay",
        "z": "2a060dac.22fa72",
        "name": "",
        "pauseType": "delay",
        "timeout": "3",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 640,
        "wires": [
            [
                "3645da6d.580e16"
            ]
        ]
    },
    {
        "id": "18e4be9f.1e5fc1",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "if (msg.payload ==1){\nglobal.set(\"restart\", 0);\nglobal.set(\"reset\", true);}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 660,
        "wires": [
            [
                "201e08c3.f83178",
                "9920c49.328bd38"
            ]
        ]
    },
    {
        "id": "2c61b237.d422ae",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "Restarting",
        "func": "\n\ntxt =  msg.payload;\nmsg.payload = \"page0.tAQ.txt=\\\"\"+ txt +\"\\\"\"; \n    return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 1120,
        "wires": [
            [
                "237264a7.f52aec"
            ]
        ]
    },
    {
        "id": "237264a7.f52aec",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 1120,
        "wires": [
            [
                "a53d1554.b84b68"
            ]
        ]
    },
    {
        "id": "a53d1554.b84b68",
        "type": "serial out",
        "z": "2a060dac.22fa72",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 1570,
        "y": 1040,
        "wires": []
    },
    {
        "id": "201e08c3.f83178",
        "type": "delay",
        "z": "2a060dac.22fa72",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 700,
        "wires": [
            [
                "39ccd923.571066"
            ]
        ]
    },
    {
        "id": "39ccd923.571066",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "restart",
        "func": "//global.set(\"reset\", false);\n\n\nnode.status(msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "4205b88a.cec178",
        "type": "inject",
        "z": "2a060dac.22fa72",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 230,
        "y": 720,
        "wires": [
            [
                "ffded52d.07b698",
                "5bfeb896.a05998",
                "d565f47c.2ff298",
                "e80f40ce.06903",
                "fec18415855eb438",
                "3d5ff914abac1b9c"
            ]
        ]
    },
    {
        "id": "34ebc20f.b1ecbe",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"a0name\");\nmsg.payload = global.get(\"a0restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 400,
        "y": 300,
        "wires": [
            [
                "47d6dd1c.665d94"
            ]
        ]
    },
    {
        "id": "b57c6e33.696b2",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"a1name\");\nmsg.payload = global.get(\"a1restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 400,
        "y": 340,
        "wires": [
            [
                "42841dce.757a64"
            ]
        ]
    },
    {
        "id": "5f55fee5.02c9c",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"a2name\");\nmsg.payload = global.get(\"a2restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 380,
        "wires": [
            [
                "3d344584.5fb9aa"
            ]
        ]
    },
    {
        "id": "703a1334.b7b3ac",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.topic = global.get(\"a3name\");\nmsg.payload = global.get(\"a3restartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 410,
        "y": 420,
        "wires": [
            [
                "34017e77.dcbfa2"
            ]
        ]
    },
    {
        "id": "47d6dd1c.665d94",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} A0 Restart Delay Time Min",
        "tooltip": "",
        "group": "42c2da5a.7ff5c4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 300,
        "wires": [
            [
                "58a67063.db8f5"
            ]
        ]
    },
    {
        "id": "42841dce.757a64",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} A1 Restart Delay Time Min",
        "tooltip": "",
        "group": "42c2da5a.7ff5c4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 340,
        "wires": [
            [
                "212e258.70fccda"
            ]
        ]
    },
    {
        "id": "3d344584.5fb9aa",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} A2 Restart Delay Time Min",
        "tooltip": "",
        "group": "42c2da5a.7ff5c4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 380,
        "wires": [
            [
                "133f60c1.2e350f"
            ]
        ]
    },
    {
        "id": "34017e77.dcbfa2",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "{{msg.topic}} A3 Restart Delay Time Min",
        "tooltip": "",
        "group": "42c2da5a.7ff5c4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 570,
        "y": 420,
        "wires": [
            [
                "4a575ab7.ab4a04"
            ]
        ]
    },
    {
        "id": "58a67063.db8f5",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"a0restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 830,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "212e258.70fccda",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"a1restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 830,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "133f60c1.2e350f",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"a2restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 830,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "4a575ab7.ab4a04",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"a3restartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 830,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "b3a950b0.e9cb1",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Restarting",
        "info": "",
        "x": 1180,
        "y": 600,
        "wires": []
    },
    {
        "id": "ab1ea5bc.693a18",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "OL Restart Delay Time Min",
        "tooltip": "",
        "group": "43269810.9fcd98",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 620,
        "y": 460,
        "wires": [
            [
                "ca0226fe.810648"
            ]
        ]
    },
    {
        "id": "8f32abdc.73cfe8",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "UL Restart Delay Time Min",
        "tooltip": "",
        "group": "43269810.9fcd98",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 620,
        "y": 500,
        "wires": [
            [
                "8928f7eb.def508"
            ]
        ]
    },
    {
        "id": "f38c95e3.dbe818",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "\nmsg.payload = global.get(\"olrestartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 400,
        "y": 460,
        "wires": [
            [
                "ab1ea5bc.693a18"
            ]
        ]
    },
    {
        "id": "46ab6da7.8298a4",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "\nmsg.payload = global.get(\"ulrestartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 500,
        "wires": [
            [
                "8f32abdc.73cfe8"
            ]
        ]
    },
    {
        "id": "ca0226fe.810648",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"olrestartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "8928f7eb.def508",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"ulrestartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "af70cbda.522cd8",
        "type": "trigger",
        "z": "2a060dac.22fa72",
        "name": "",
        "op1": "0",
        "op2": "1",
        "op1type": "num",
        "op2type": "num",
        "duration": "50",
        "extend": false,
        "overrideDelay": true,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 2,
        "x": 770,
        "y": 700,
        "wires": [
            [
                "66e474dc.34d59c"
            ],
            [
                "14be8df7.535db2",
                "18e4be9f.1e5fc1"
            ]
        ]
    },
    {
        "id": "14be8df7.535db2",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "\nvar restartcount = global.get(\"restartcnt\");\nrestartcount = restartcount +1;\nglobal.set(\"restartcnt\", restartcount);\nmsg.payload = restartcount;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 800,
        "wires": [
            [
                "8d685988.4abe28",
                "e07be9bb06fe0750"
            ]
        ]
    },
    {
        "id": "8d685988.4abe28",
        "type": "ui_text",
        "z": "2a060dac.22fa72",
        "group": "8d058cd6.60efd",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Restart Count",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "x": 1300,
        "y": 800,
        "wires": []
    },
    {
        "id": "5bfeb896.a05998",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\n\nmsg.delay = 300000; \nif (vfdrun == 1){msg.payload =1;  \n    }else {msg.payload = 0;}\n    node.status(msg.payload); \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 1020,
        "wires": [
            [
                "db21e17e.0fe31"
            ]
        ]
    },
    {
        "id": "db21e17e.0fe31",
        "type": "trigger",
        "z": "2a060dac.22fa72",
        "name": "",
        "op1": "0",
        "op2": "1",
        "op1type": "num",
        "op2type": "num",
        "duration": "1",
        "extend": false,
        "overrideDelay": true,
        "units": "min",
        "reset": "0",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 2,
        "x": 850,
        "y": 1140,
        "wires": [
            [],
            [
                "f5ccc6fc.4f6738"
            ]
        ]
    },
    {
        "id": "f5ccc6fc.4f6738",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "if(msg.payload == 1){\nglobal.set(\"restartcnt\", 0);}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1040,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "ea54e88b.270668",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Reset Restart Count",
        "info": "",
        "x": 790,
        "y": 980,
        "wires": []
    },
    {
        "id": "ce834a74.a84068",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Restart and Count Check",
        "info": "",
        "x": 530,
        "y": 660,
        "wires": []
    },
    {
        "id": "31727db8.1dc372",
        "type": "inject",
        "z": "2a060dac.22fa72",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1120,
        "wires": [
            [
                "fd3e4623.e76688"
            ]
        ]
    },
    {
        "id": "fd3e4623.e76688",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "msg.reset = false;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1120,
        "wires": [
            [
                "db21e17e.0fe31"
            ]
        ]
    },
    {
        "id": "d565f47c.2ff298",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var restartcount = global.get(\"restartcnt\");\nmsg.payload = restartcount;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 860,
        "wires": [
            [
                "8d685988.4abe28"
            ]
        ]
    },
    {
        "id": "4c11b69d.b664f",
        "type": "countdown",
        "z": "2a060dac.22fa72",
        "name": "",
        "topic": "",
        "payloadTimerStart": "true",
        "payloadTimerStartType": "bool",
        "payloadTimerStop": "false",
        "payloadTimerStopType": "bool",
        "timer": "4711",
        "resetWhileRunning": false,
        "setTimeToNewWhileRunning": true,
        "startCountdownOnControlMessage": true,
        "minuteCounter": false,
        "x": 850,
        "y": 1260,
        "wires": [
            [
                "3d3f9257.b787c6"
            ],
            [
                "180b3c10.ab8824"
            ]
        ]
    },
    {
        "id": "3d3f9257.b787c6",
        "type": "debug",
        "z": "2a060dac.22fa72",
        "name": "",
        "active": true,
        "tosidebar": false,
        "console": false,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 1090,
        "y": 1260,
        "wires": []
    },
    {
        "id": "180b3c10.ab8824",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var restart = global.get(\"restart\");\n\nvar timeleft = msg.payload;\nif (restart == 1){\nmsg.color = \"red\";\nmsg.payload = \"Restarting \" + timeleft;\nreturn msg;\n    }\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 1320,
        "wires": [
            [
                "2620532f0e468031"
            ]
        ]
    },
    {
        "id": "66e474dc.34d59c",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var restartdelay;\n\nif (msg.payload == 0){\n\nrestartdelay = global.get(\"restarttime\")* 60;\n    \n    msg.topic = \"control\";\n    msg.payload = restartdelay;\n    return msg;}\n    ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1240,
        "wires": [
            [
                "4c11b69d.b664f"
            ]
        ]
    },
    {
        "id": "e80f40ce.06903",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var restart = global.get(\"restart\");\nvar reset = global.get(\"reset\");\nvar alm = global.get(\"alarm\");\nmsg.payload = \" \"\nnode.status(reset);\n\nif (reset == 1){\nmsg.color = \"green\";\nmsg.payload = \"Resetting\";\nnode.status(reset);\n   return msg;  }\n   \n   if (reset == 0 && restart == 0){\nmsg.color = \"green\";\nmsg.payload = \"\";\nif (alm && restart == 0) {msg.payload = global.get(\"lastalm\");\n   msg.color = \"red\";}\n   return msg;  }\n \n\n    \n    ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1400,
        "wires": [
            [
                "2620532f0e468031"
            ]
        ]
    },
    {
        "id": "1125b089.ecba6f",
        "type": "inject",
        "z": "2a060dac.22fa72",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1260,
        "wires": [
            [
                "66e474dc.34d59c"
            ]
        ]
    },
    {
        "id": "e07be9bb06fe0750",
        "type": "link out",
        "z": "2a060dac.22fa72",
        "name": "",
        "links": [
            "fb81669a0f5f018e"
        ],
        "x": 1295,
        "y": 880,
        "wires": []
    },
    {
        "id": "21c47f970fb8059c",
        "type": "ui_template",
        "z": "2a060dac.22fa72",
        "d": true,
        "group": "fd4cbea3.6101d",
        "name": "",
        "order": 8,
        "width": 0,
        "height": 0,
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1090,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "2620532f0e468031",
        "type": "ui_text",
        "z": "2a060dac.22fa72",
        "group": "fd4cbea3.6101d",
        "order": 9,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "",
        "format": "<font color= {{msg.color}} > {{msg.payload}} </font>",
        "layout": "row-center",
        "x": 890,
        "y": 1400,
        "wires": []
    },
    {
        "id": "fec18415855eb438",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var reset = global.get(\"reset\");\nif (reset) {msg.payload = \"cancel\";msg.topic = \"control\";return msg; }\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1280,
        "wires": [
            [
                "4c11b69d.b664f"
            ]
        ]
    },
    {
        "id": "29a42d7fe25a276d",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "restart time on home",
        "info": "",
        "x": 910,
        "y": 1440,
        "wires": []
    },
    {
        "id": "4aebf2131c633020",
        "type": "comment",
        "z": "2a060dac.22fa72",
        "name": "Status on Home Screen",
        "info": "",
        "x": 670,
        "y": 1360,
        "wires": []
    },
    {
        "id": "3d5ff914abac1b9c",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "var powerfail = global.get(\"powerfail\");\nif (powerfail) {return msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 820,
        "wires": [
            [
                "c9b5b560.d38be8"
            ]
        ]
    },
    {
        "id": "8ab7b2876f882e48",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "\nmsg.payload = global.get(\"vfdrestartdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 540,
        "wires": [
            [
                "8e99f3dc1cc19220"
            ]
        ]
    },
    {
        "id": "bdc1692e74643641",
        "type": "function",
        "z": "2a060dac.22fa72",
        "name": "",
        "func": "global.set(\"vfdrestartdelay\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "8e99f3dc1cc19220",
        "type": "ui_text_input",
        "z": "2a060dac.22fa72",
        "name": "",
        "label": "VFD Fault Restart Delay Min ",
        "tooltip": "",
        "group": "43269810.9fcd98",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 620,
        "y": 540,
        "wires": [
            [
                "bdc1692e74643641"
            ]
        ]
    },
    {
        "id": "38d06437.f5944c",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "Run",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "run",
        "payloadType": "str",
        "x": 270,
        "y": 140,
        "wires": [
            [
                "63858e95.3b29c"
            ]
        ]
    },
    {
        "id": "72c639ee.face38",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "Stop",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "stop",
        "payloadType": "str",
        "x": 270,
        "y": 180,
        "wires": [
            [
                "63858e95.3b29c"
            ]
        ]
    },
    {
        "id": "5b0cf422.da0cdc",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "Reset",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "reset",
        "payloadType": "str",
        "x": 270,
        "y": 100,
        "wires": [
            [
                "63858e95.3b29c"
            ]
        ]
    },
    {
        "id": "63858e95.3b29c",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "",
        "func": "if (msg.payload == \"reset\") {\n    global.set(\"counter\",0);\n}\nif (msg.payload == \"run\"){\n    flow.set(\"status\", \"run\");\n}\nif (msg.payload == \"stop\"){\n    flow.set(\"status\", \"stop\");\n}\nflow.set(\"status\",msg.payload);\nnode.status = flow.get(\"status\")",
        "outputs": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 160,
        "wires": []
    },
    {
        "id": "584136c2.385f18",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 190,
        "y": 260,
        "wires": [
            [
                "6ee9ecaa.eba824"
            ]
        ]
    },
    {
        "id": "6ee9ecaa.eba824",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "",
        "func": "\nvar status = flow.get(\"status\");\nvar count  = global.get(\"counter\");\n\nif (status === \"run\"){\n    count = count + 1;\n}\nnode.status(count);\nglobal.set(\"counter\",count);\nmsg.payload = count;\n\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 260,
        "wires": [
            [
                "baf2e2c0.6215b"
            ]
        ]
    },
    {
        "id": "307f07f.8b8c1f8",
        "type": "bar-chart-data",
        "z": "80125eca.4c773",
        "name": "bar-chart-data",
        "x_interval": "days",
        "x_size": "5",
        "unit": "Hours",
        "precision": "1",
        "is_meter_reading": "True",
        "agg_by": "sum",
        "x": 520,
        "y": 380,
        "wires": [
            [
                "3e6bc8b7.f4bc88",
                "11edb254.d31a6e"
            ]
        ]
    },
    {
        "id": "11edb254.d31a6e",
        "type": "ui_chart",
        "z": "80125eca.4c773",
        "name": "",
        "group": "820af12a.cbee8",
        "order": 5,
        "width": "6",
        "height": "4",
        "label": "Day Run Hours",
        "chartType": "bar",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "24",
        "removeOlder": "30",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": true,
        "colors": [
            "#31f648",
            "#31f648",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 720,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "3e6bc8b7.f4bc88",
        "type": "persist in",
        "z": "80125eca.4c773",
        "name": "hrs",
        "storageNode": "e0e7ea5c.056af8",
        "x": 690,
        "y": 440,
        "wires": []
    },
    {
        "id": "8343e961.cbf7e8",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "sensor",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 190,
        "y": 420,
        "wires": [
            [
                "307f07f.8b8c1f8"
            ]
        ]
    },
    {
        "id": "29a85329.d6b03c",
        "type": "persist out",
        "z": "80125eca.4c773",
        "name": "hrs",
        "storageNode": "e0e7ea5c.056af8",
        "x": 310,
        "y": 460,
        "wires": [
            [
                "307f07f.8b8c1f8"
            ]
        ]
    },
    {
        "id": "baf2e2c0.6215b",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "",
        "func": "var val;\nval = msg.payload/60;\nmsg.payload = val.toFixed(2);\nmsg.topic = \"Run_Hours\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 260,
        "wires": [
            [
                "4712dff4.dfde5",
                "307f07f.8b8c1f8",
                "560683ce.6d2adc"
            ]
        ]
    },
    {
        "id": "4712dff4.dfde5",
        "type": "ui_text",
        "z": "80125eca.4c773",
        "group": "174a891f.229837",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Run Time Hours",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 900,
        "y": 240,
        "wires": []
    },
    {
        "id": "e4b472bc.f1571",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "loadcount",
        "func": "var count = global.get(\"counter\");\nvar hours;\n\nhours = count/60;\nmsg.payload = hours.toFixed(2);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 20,
        "wires": [
            [
                "4712dff4.dfde5",
                "560683ce.6d2adc"
            ]
        ]
    },
    {
        "id": "cff25074.9941c",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 20,
        "wires": [
            [
                "e4b472bc.f1571"
            ]
        ]
    },
    {
        "id": "a0f91df5.25659",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "",
        "func": "var status = global.get(\"vfdrun\");\nif (status == 1) {msg.payload = \"run\"}\nif (status == 0) {msg.payload = \"stop\"}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 60,
        "wires": [
            [
                "63858e95.3b29c"
            ]
        ]
    },
    {
        "id": "f291698f.e14e98",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 60,
        "wires": [
            [
                "a0f91df5.25659"
            ]
        ]
    },
    {
        "id": "10f657dc.c8e228",
        "type": "inject",
        "z": "80125eca.4c773",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "clear",
        "payloadType": "str",
        "x": 190,
        "y": 380,
        "wires": [
            [
                "307f07f.8b8c1f8"
            ]
        ]
    },
    {
        "id": "9fc949e8.e78438",
        "type": "ui_button",
        "z": "80125eca.4c773",
        "name": "",
        "group": "60a73cbd.a8d754",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reset Run Hours",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "0",
        "payloadType": "num",
        "topic": "",
        "x": 190,
        "y": 680,
        "wires": [
            [
                "691436381361afaf"
            ]
        ]
    },
    {
        "id": "b4dac8ee.63cd48",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "",
        "func": "global.set(\"counter\", 0);\nmsg.payload = \"clear\";\nmsg.topic = \"Run_Hours\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 580,
        "wires": [
            [
                "307f07f.8b8c1f8",
                "ab5270dc.34754"
            ]
        ]
    },
    {
        "id": "91d7fac7.61f1d8",
        "type": "function",
        "z": "80125eca.4c773",
        "name": "",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 520,
        "wires": [
            [
                "4712dff4.dfde5",
                "560683ce.6d2adc"
            ]
        ]
    },
    {
        "id": "560683ce.6d2adc",
        "type": "ui_text",
        "z": "80125eca.4c773",
        "group": "60a73cbd.a8d754",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Run Time Hours",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 920,
        "y": 160,
        "wires": []
    },
    {
        "id": "ab5270dc.34754",
        "type": "delay",
        "z": "80125eca.4c773",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 640,
        "y": 580,
        "wires": [
            [
                "307f07f.8b8c1f8",
                "91d7fac7.61f1d8"
            ]
        ]
    },
    {
        "id": "610299e752b0a3aa",
        "type": "link out",
        "z": "80125eca.4c773",
        "name": "",
        "links": [
            "54f132937a7ac730"
        ],
        "x": 955,
        "y": 680,
        "wires": []
    },
    {
        "id": "691436381361afaf",
        "type": "change",
        "z": "80125eca.4c773",
        "name": "Set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Reset Confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Are you sure you want to reset run hours?",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 680,
        "wires": [
            [
                "61613e65d3bdc394"
            ]
        ]
    },
    {
        "id": "61613e65d3bdc394",
        "type": "ui_toast",
        "z": "80125eca.4c773",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "topic": "",
        "name": "Confirmation",
        "x": 630,
        "y": 680,
        "wires": [
            [
                "e2d34bbc0d4ad38b"
            ]
        ]
    },
    {
        "id": "e2d34bbc0d4ad38b",
        "type": "switch",
        "z": "80125eca.4c773",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 830,
        "y": 680,
        "wires": [
            [
                "610299e752b0a3aa",
                "b4dac8ee.63cd48"
            ]
        ]
    },
    {
        "id": "5191e711.6af5a8",
        "type": "inject",
        "z": "43fdf02d.e3fcf",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 80,
        "wires": [
            [
                "a85526f7.dc0118",
                "75633bce.60c394",
                "b1850a51.62fad8",
                "26ce049192606892",
                "a798095e.61b168",
                "75d91b2a1d3fbd77",
                "7dd1711df5fa9913"
            ]
        ]
    },
    {
        "id": "f10817e2.347238",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "101b22fc.2eafed",
        "name": "",
        "order": 0,
        "width": "5",
        "height": "6",
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 560,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "a85526f7.dc0118",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "Analog Notes",
        "func": "msg.payload = \"Analog Scale - Set to max value on sensor 20ma <br></br> Analog Min Scale - Value at 4ma on sensor output <br></br> Startup-Delay - Delay time until trip is activated after motor starts. <br></br>Restart Delay - Delay in minutes unitl the motor will try to restart after a trip. 0 turns off restart.\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 60,
        "wires": [
            [
                "f10817e2.347238"
            ]
        ]
    },
    {
        "id": "75633bce.60c394",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "PID Notes",
        "func": "msg.payload = \"Invert On -The higher the PV Higher the Output. Fill Tank  <br></br>\" +\n\"Invert Off -. The lower the PV Higher the Output. Empty Tank <br></br>\" +\n\"Start and Stop setpoints set to 0 disables automatic starting and stopping.\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 100,
        "wires": [
            [
                "ecc665a4.f90ae8"
            ]
        ]
    },
    {
        "id": "ecc665a4.f90ae8",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "4179233a.d1fa4c",
        "name": "",
        "order": 0,
        "width": "5",
        "height": "4",
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 560,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "faa53f4.5193bc",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "9cb69f1e.f93a5",
        "name": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 560,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "b1850a51.62fad8",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "xformer",
        "func": "msg.payload = \"Transformer Input and Outpuut Must be 1 if not used.  <br></br>\" \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 140,
        "wires": [
            [
                "faa53f4.5193bc"
            ]
        ]
    },
    {
        "id": "c4445a066899add0",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "10fc04e9972349f2",
        "name": "",
        "order": 8,
        "width": "6",
        "height": "2",
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 560,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "26ce049192606892",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "Start Input Wiring",
        "func": "msg.payload = \"Removing Start input does not stop VFD. <br></br>\" \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 180,
        "wires": [
            [
                "c4445a066899add0"
            ]
        ]
    },
    {
        "id": "a798095e.61b168",
        "type": "template",
        "z": "43fdf02d.e3fcf",
        "name": "Modbus List Condensed",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Future, (List May Change),,,,\nREGISTER,DESCRIPTION,IntorFloat,SCALE\n40001,Fault Code,Integer,1,\n40002,Spare,Integer,1,\n40003,Frequency Output Hz,Integer ,10,\n40004,Spare,Integer,1,\n40005,DC Bus Voltage,Integer,1,\n40006,Process Variable,Float,,\n40007,,,,\n40008,Analog 0,Float,,\n40009,,,,\n40010,Analog 1,Float,,\n40011,,,,\n40012,Analog 2,Float,,\n40013,,,,\n40014,Analog 3,Float,,\n40015,,,,\n40016,Motor Amps,Float,,\n40017,,,,\n40018,Motor HP,Integer,1,\n40019,Motor Volts,Integer,1,\n40020,Motor RPM,Integer,1,\n40021,Load RPM,Integer,1,\n40022,Load Torque,Integer,1,\n40023,Panel Temp,Integer,1,\n40024,Run Hours,Integer,1,\n40025,Spare,,,,\n40026,Spare,,,,\n40027,Spare,1,,\n40028,Spare,1,,\n40029,,,,\n40030,,,,\n40031,,,,\n40032,,,,\n40033,,,,\n40034,PID Setpoint,Float,,\n40035,,,,\n40036,Frequency Setpoint,Float,,\n40037,,,,\n40038,,,,\n40039,,,,\n40100,VFD Status Word,Integer,,\n40101,Remote Write Code,Integer,,,,,\n40102,Remote Write Command,, \n40103,Remote Write Setpoint,Float,,,,,\n40104,,,,",
        "output": "str",
        "x": 270,
        "y": 400,
        "wires": [
            [
                "6c20ed1a.5d415c"
            ]
        ]
    },
    {
        "id": "6c20ed1a.5d415c",
        "type": "csv",
        "z": "43fdf02d.e3fcf",
        "name": "",
        "sep": ",",
        "hdrin": true,
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": true,
        "include_null_values": "",
        "x": 470,
        "y": 400,
        "wires": [
            [
                "89bab695.cdd048"
            ]
        ]
    },
    {
        "id": "89bab695.cdd048",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "",
        "func": "var html = '<table style=\"width:100%\"><tr>';\nObject.keys(msg.payload[0]).forEach((part) => {\n    html += '<th>'+part+'</th>'\n})\nhtml += '</tr>';\nmsg.payload.forEach((part) => {\n    html += '<tr>';\n    Object.values(part).forEach((bits) => {\n       html += '<td>'+bits+'</td>'\n    })\n    html+= '</tr>';\n})\nmsg.payload = html+'</table';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 400,
        "wires": [
            [
                "dc879725.5e20d"
            ]
        ]
    },
    {
        "id": "dc879725.5e20d",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "96d9fb439d7ae721",
        "name": "Modbus Server Addresses ",
        "order": 1,
        "width": "9",
        "height": "15",
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 830,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "75d91b2a1d3fbd77",
        "type": "template",
        "z": "43fdf02d.e3fcf",
        "name": "Fault Codes",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "No., Description\n1, Power Fail,\n2,Enable,\n3,VFD Fault,\n4,Modbus Comm Loss,\n5,A0 HIHI,\n6,A0 LOLO,\n7,A1 HIHI,\n8,A1 LOLO,\n9,A2 HIHI,\n10,A2 LOLO,\n11,A3 HIHI,\n12,A3 LOLO,\n13,VFD Fault,\n14,Motor Overload,\n15,Motor Underload,\n16,Min. Frequency,\n17,Spare,\n18,Controller Issue,\n19,DI 1 Tripped,\n20,DI 2 Tripped,\n21,DI 3 Tripped,\n22,DI 4 Tripped,\n23,DI 5 Tripped,\n24,DI 6 Tripped,\n25,DI 7 Tripped,\n26,DI 8 Tripped,\n27,Temperature HIHI,\n28,PID Fault,\n29,Restarts Limit, \n30,VFD Parameter Error,\n31,RunTime Hours Limit,",
        "output": "str",
        "x": 270,
        "y": 460,
        "wires": [
            [
                "68bad9ae268a344a"
            ]
        ]
    },
    {
        "id": "68bad9ae268a344a",
        "type": "csv",
        "z": "43fdf02d.e3fcf",
        "name": "",
        "sep": ",",
        "hdrin": true,
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": "",
        "include_null_values": "",
        "x": 470,
        "y": 460,
        "wires": [
            [
                "46b0edb67a1131cf"
            ]
        ]
    },
    {
        "id": "46b0edb67a1131cf",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "",
        "func": "var html = '<table style=\"width:100%\"><tr>';\nObject.keys(msg.payload[0]).forEach((part) => {\n    html += '<th>'+part+'</th>'\n})\nhtml += '</tr>';\nmsg.payload.forEach((part) => {\n    html += '<tr>';\n    Object.values(part).forEach((bits) => {\n       html += '<td>'+bits+'</td>'\n    })\n    html+= '</tr>';\n})\nmsg.payload = html+'</table';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 460,
        "wires": [
            [
                "b902ae47c367f605"
            ]
        ]
    },
    {
        "id": "b902ae47c367f605",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "ab680df9548a3460",
        "name": "FaultCodes",
        "order": 1,
        "width": "6",
        "height": "15",
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 810,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "e6469da755686de5",
        "type": "template",
        "z": "43fdf02d.e3fcf",
        "name": "Modbus old List",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "Future, (List May Change),,\nREGISTER,DESCRIPTION,SCALE,\n40001,Fault Code,10,\n40002,Torque Real ft-lbs,10,\n40003,Frequency Output Hz,10,\n40004,VFD Output Amps,10,\n40005,VFD Output Volts,10,\n40006,DC Bus Voltage,1,\n40007,Process Variable,100,\n40008,Analog 0,100 >500 10,\n40009,Analog 1,100 >500 10,\n40010,Analog 2,100 >500 10,\n40011,Analog 3,100 >500 10,\n40012,Spare,10,\n40013,Motor HP,10,\n40014,Motor Volts,10,\n40015,Motor RPM,10,\n40016,Load RPM,10,\n40017,Load Torque,10,\n40018,Panel Temp,10,\n40019,VFD Heat Sink Temperature,10/100 >500 10,\n40020,Spare,,\n40021,Spare,,\n40022,Run Hours,1,\n40023,Spare,1,\n40024,Motor Amps,10,\n40025,Spare, Temperature, \n40026,Spare, Pressure, \n40027,Spare,1,\n40028,Flow Accum,1,\n40029,VFD Status Word,,\n40030,Spare,,\n40031,VFD Latest Alarm,,\n40032,Spare,,\n40033,PID Setpoint,,\n40034,Frequency Setpoint,1,\n40035,Max Frequency,1,\n40036,Min Frequency,1,\n40037,PID Start SP,1,\n40038,PID Sleep SP,1,\n40039,Base Frequency,1,\n40040,Base Frequency Volts,1,\n40041,Accel Time,1,\n40042,Deccel Time,1,\n40043,Carrier Frequency,1,\n40044,Max Output Voltage,1,\n40045,Decel Mode,1,\n40046,Backspin Time Min,1,\n40047,VFD Control Mode,1,\n40048,Current Limit Amps,1,\n40049,MTR UL SP,1,\n40050,MTR UL Trip Delay,1,\n40051,MTR UL ReStart Delay min,1,\n40052,MTR UL Restarts,1,\n40053,MTR OL Restarts,1,\n40054,MTR UL Start Delay min,1,\n40055,MTR OL Start Delay min,1,\n40056,MTR OL SP,1,\n40057,MTR OL Trip Delay,1,\n40058,MTR OL ReStart Delay min,1,\n40059,Power Fail Restart Time min,1,\n40060,Min Freq Trip Time,1,\n40061,Min Freq Restart Time min,1,\n40062,VFD Fault Restart Time min,1,\n40063,Torque Limit,1,\n40064,Torque Boost,1,\n40065,Name Plate Hp,1,\n40066,Name Plate Volts,1,\n40067,Name Plate Amps,1,\n40068,Nameplate RPM,1,\n40069,Start Frequency,1,\n40070,Start Freq. Hold Time,1,\n40071,Alarm Logging On,1,\n40072,Software Version,100,\n40073,Parameter Write Control Word, ,\n40074,PID Process Variable,1,\n40075,P,1,\n40076,I ,1,\n40077,Spare,1,\n40078,PID On,1,\n40079,PID Invert,1,\n40080,PID Setpoint,1,\n40081,Input 1 Trip Delay Sec,1,\n40082,Input 1 Restart Time Min,1,\n40083,Input 2 Trip Delay Sec,1,\n40084,Input 2 Restart Time Min,1,\n40085,Input 3 Trip Delay Sec,1,\n40086,Input 3 Restart Time Min,1,\n40087,Spare,1,\n40088,Input 7 Restart Time Min,1,\n40089,Gear Ratio,1,\n40090,Lead Length ft,1,\n40091,Lead Size,1,\n40092,Xformer In Volts,1,\n40093,Xformer Out Volts,1,\n40094,Analog In 0 4ma,1,\n40095,Analog In 0 20ma,1,\n40096,Analog In 0 Low Low Limit,1,\n40097,Analog In 0 HiHI Limit,1,\n40098,Analog In 1 4ma,1,\n40099,Analog In 1 20ma,1,\n40100,Analog In 1 Low Low Limit,1,\n40101,Analog In 1 HiHI Limit,1,\n40102,Analog In 2 4ma,1,\n40103,Analog In 2 20ma,1,\n40104,Analog In 2 Low Low Limit,1,\n40105,Analog In 2 HiHI Limit,1,\n40106,Analog In 3 4ma,1,\n40107,Analog In 3 20ma,1,\n40108,Analog In 3 Low Low Limit,1,\n40109,Analog In 3 HiHI Limit,1,\n40110,Spare,1,\n40111,Temperature HIHI Limit,1,\n40112,A0 Start Delay,1,\n40113,A1 Start Delay,1,\n40114,A2 Start Delay,1,\n40115,A3 Start Delay,1,\n",
        "output": "str",
        "x": 280,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "7dd1711df5fa9913",
        "type": "function",
        "z": "43fdf02d.e3fcf",
        "name": "alarms",
        "func": "msg.payload = \"After 50 Alarms shown they are automatically archived to file.\" \n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 240,
        "wires": [
            [
                "7abddc60841b7b02"
            ]
        ]
    },
    {
        "id": "7abddc60841b7b02",
        "type": "ui_template",
        "z": "43fdf02d.e3fcf",
        "group": "8d058cd6.60efd",
        "name": "",
        "order": 9,
        "width": 0,
        "height": 0,
        "format": "<div ng-bind-html=\"msg.payload\"></div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 540,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "8d3c38f0cab9f071",
        "type": "modbus-server",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "logEnabled": false,
        "hostname": "0.0.0.0",
        "serverPort": 10502,
        "responseDelay": 100,
        "delayUnit": "ms",
        "coilsBufferSize": "0",
        "holdingBufferSize": "200",
        "inputBufferSize": "0",
        "discreteBufferSize": "0",
        "showErrors": false,
        "x": 520,
        "y": 140,
        "wires": [
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "c32ca0eea8c53e77",
        "type": "inject",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 140,
        "y": 140,
        "wires": [
            [
                "fb0b894ab3575bd7"
            ]
        ]
    },
    {
        "id": "fb0b894ab3575bd7",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "func": "msg.payload = 1;\nmsg.payload = { 'value': msg.payload, 'register': 'holding', 'address': 0 , 'disableMsgOutput' : 0 };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 140,
        "wires": [
            [
                "8d3c38f0cab9f071"
            ]
        ]
    },
    {
        "id": "08eb1a2b5c79664a",
        "type": "modbus-read",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "",
        "dataType": "HoldingRegister",
        "adr": "100",
        "quantity": "12",
        "rate": "1",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "74f8c9459f08ec01",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 170,
        "y": 360,
        "wires": [
            [
                "802e248e552bfd1b",
                "ecc005d7f39239ab",
                "b90d588af844be2f",
                "b661f53d31eab74a"
            ],
            []
        ]
    },
    {
        "id": "802e248e552bfd1b",
        "type": "modbus-response",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "registerShowMax": "12",
        "x": 430,
        "y": 240,
        "wires": []
    },
    {
        "id": "ecc005d7f39239ab",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "SplitArray",
        "func": "\nvar msg12 = msg.payload.map(function (p) {\n    return {payload: p};\n});\nreturn msg12;",
        "outputs": 5,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 360,
        "wires": [
            [],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "b5ac208295624e8d",
        "type": "inject",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 190,
        "y": 640,
        "wires": [
            [
                "bfbe333af373a5c4"
            ]
        ]
    },
    {
        "id": "bfbe333af373a5c4",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "func": "var mbdata = [];\nvar alm; \nmbdata[0] =888;\nfunction numberTo16lb(num) {\nvar buffer = new ArrayBuffer(4);\n  var intView = new Uint16Array(buffer);\n  var floatView = new Float32Array(buffer);\n  floatView[0] = num;\n  return [intView[1]];\n}\nfunction numberTo16hb(num) {\n  var buffer = new ArrayBuffer(4);\n  var intView = new Uint16Array(buffer);\n  var floatView = new Float32Array(buffer);\n  floatView[0] = num;\n  return [intView[0]];\n}\nif (global.get(\"alarm\")) {alm = 1;} else{alm = 0;}\nmbdata[1] =alm;\nmbdata[2] =0;\nmbdata[3] =0;\nmbdata[4] =0;\nmbdata[5] =0;\nmbdata[6] =0;\nmbdata[7] =0;\n//mbdata[8] =Math.round(global.get(\"a0\")*10);\n//mbdata[9] =Math.round(global.get(\"a1\")*10);\nmbdata[8] = numberTo16lb(global.get(\"a0\"));\nmbdata[9] = numberTo16hb(global.get(\"a0\"));\nnode.status(mbdata[8] + \" \" + mbdata[9]);\nmbdata[10] =numberTo16lb(global.get(\"a1\"));//Math.round(global.get(\"a2\")*10);\nmbdata[11] =numberTo16hb(global.get(\"a1\"));//Math.round(global.get(\"a3\")*10);\nmbdata[12] =numberTo16lb(global.get(\"a2\"));\nmbdata[13] =numberTo16hb(global.get(\"a2\"));\nmbdata[14] =numberTo16lb(global.get(\"a3\"));\nmbdata[15] =numberTo16hb(global.get(\"a3\"));\nmbdata[16] =0;\nmbdata[17] =0;\nmbdata[18] =0;\nmbdata[19] =0;\nmbdata[20] =0;\nmbdata[21] =0;\nmbdata[22] =0;\nmbdata[23] =0;\nmbdata[24] =0;\nmbdata[25] =0;\nmbdata[26] =0;\nmbdata[27] =0;\nmbdata[28] =0;\nmbdata[29] =0; //global.get(\"vfdrun\");\nmbdata[30] =mbdata[30];\nmbdata[31] =mbdata[31];\nmbdata[32] =mbdata[32];\nmbdata[33] =mbdata[33];\nmbdata[34] =numberTo16lb(global.get(\"pidsp\"));\nmbdata[35] =numberTo16hb(global.get(\"pidsp\"));\nmbdata[36] =numberTo16lb(global.get(\"freqsp\"));\nmbdata[37] =numberTo16hb(global.get(\"freqsp\"));\nmsg.payload = mbdata;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "eff4a395295454ae",
        "type": "comment",
        "z": "dbad3acf.04a0f8",
        "name": "Send Data to MB server not complete",
        "info": "",
        "x": 250,
        "y": 600,
        "wires": []
    },
    {
        "id": "60d7b4a5495e4966",
        "type": "comment",
        "z": "dbad3acf.04a0f8",
        "name": "MBServer",
        "info": "",
        "x": 230,
        "y": 80,
        "wires": []
    },
    {
        "id": "93202d0824cf9af0",
        "type": "comment",
        "z": "dbad3acf.04a0f8",
        "name": "ReadData From MBServer",
        "info": "",
        "x": 170,
        "y": 240,
        "wires": []
    },
    {
        "id": "1783666fdbebd913",
        "type": "inject",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 200,
        "y": 560,
        "wires": [
            [
                "c65803b0c84b41ee"
            ]
        ]
    },
    {
        "id": "c65803b0c84b41ee",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "initial mbdata",
        "func": "var mbdata = [];\nvar i;\nfor (i = 0; i < 38; i++) {\n  mbdata[i] = 0;\n}\nglobal.set(\"mbdata\", mbdata);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "b90d588af844be2f",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "func": "var code = msg.payload[0];\nvar cmd = msg.payload[1];\n\nif (code == 999) {msg.payload = 1}else {msg.payload = 0;}\nif (cmd == 4) {global.set(\"reset\", 1);}\nif (cmd == 1) {global.set(\"vfdrun\", 1);}\nif (cmd == 2) {global.set(\"vfdrun\", 0);}\n\nmsg.payload = [0,0,0,0];\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 460,
        "wires": [
            [
                "3e4f5dd6d6f4c25c"
            ]
        ]
    },
    {
        "id": "b661f53d31eab74a",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "Setpoint //102",
        "func": "var pidsp;\nvar freqsp; \nvar mbdata = [];\nmbdata[0] = msg.payload[3];\nmbdata[1] = msg.payload[2];\nmsg.payload = mbdata;\n\nnode.status(mbdata[0]+ \" \" + mbdata[1]);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 260,
        "wires": [
            [
                "19b98dd0c46af09e"
            ]
        ]
    },
    {
        "id": "3f58aacda0a0e7aa",
        "type": "debug",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1010,
        "y": 540,
        "wires": []
    },
    {
        "id": "19b98dd0c46af09e",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "Convert to float",
        "func": "var val;\nlet pay = msg.payload;\n\nconst buf = Buffer.allocUnsafe(4);\nbuf.writeUInt16BE(pay[0],2);\nbuf.writeUInt16BE(pay[1],0);\n\nval = buf.readFloatBE(0);\n\nmsg.payload = val.toFixed(2);\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "08350b65750aebdb",
        "type": "function",
        "z": "dbad3acf.04a0f8",
        "name": "Float to 16int",
        "func": "var val = msg.payload;\nval = 3.14;\nfunction float32ToUint16(value) {\n  var buffer = new ArrayBuffer(4);\n  var intView = new Uint16Array(buffer);\n  var floatView = new Float32Array(buffer);\n\n  floatView[0] = value;\n  return [intView[0], intView[1]];\n}  \n\nnode.status(hb + \" \" +  lb); \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 540,
        "wires": [
            [
                "3f58aacda0a0e7aa"
            ]
        ]
    },
    {
        "id": "ba9e81028ec57bf1",
        "type": "inject",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 650,
        "y": 540,
        "wires": [
            [
                "08350b65750aebdb"
            ]
        ]
    },
    {
        "id": "ec48104517dd908b",
        "type": "debug",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 720,
        "wires": []
    },
    {
        "id": "a5612d66d7bb4e97",
        "type": "modbus-read",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "unitid": "0",
        "dataType": "HoldingRegister",
        "adr": "0",
        "quantity": "38",
        "rate": "2",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "74f8c9459f08ec01",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 810,
        "y": 140,
        "wires": [
            [
                "af47c23c4852601c"
            ],
            []
        ]
    },
    {
        "id": "af47c23c4852601c",
        "type": "modbus-response",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "registerShowMax": "38",
        "x": 730,
        "y": 40,
        "wires": []
    },
    {
        "id": "3e4f5dd6d6f4c25c",
        "type": "delay",
        "z": "dbad3acf.04a0f8",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 720,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "c97acf76febbed0a",
        "type": "comment",
        "z": "dbad3acf.04a0f8",
        "name": "Remote Write Register ie SP",
        "info": "",
        "x": 790,
        "y": 220,
        "wires": []
    },
    {
        "id": "bab41359f80f8909",
        "type": "comment",
        "z": "dbad3acf.04a0f8",
        "name": "Remote  CMD register /100",
        "info": "",
        "x": 490,
        "y": 420,
        "wires": []
    },
    {
        "id": "482f250b.e51efc",
        "type": "ui_text_input",
        "z": "5b155b99.af2f24",
        "name": "",
        "label": "Transformer Input Volts",
        "tooltip": "",
        "group": "9cb69f1e.f93a5",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 490,
        "y": 100,
        "wires": [
            [
                "fab190e.14b207"
            ]
        ]
    },
    {
        "id": "3482447d.fa3dec",
        "type": "ui_text_input",
        "z": "5b155b99.af2f24",
        "name": "",
        "label": "Transformer Output Volts",
        "tooltip": "",
        "group": "9cb69f1e.f93a5",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 490,
        "y": 140,
        "wires": [
            [
                "9005142a.8865d8"
            ]
        ]
    },
    {
        "id": "dbd593eb.1626",
        "type": "ui_text_input",
        "z": "5b155b99.af2f24",
        "name": "",
        "label": "Gear Ratio",
        "tooltip": "",
        "group": "60a73cbd.a8d754",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 450,
        "y": 540,
        "wires": [
            [
                "7e9802e1.cbdc8c"
            ]
        ]
    },
    {
        "id": "9912adb6.91c99",
        "type": "comment",
        "z": "5b155b99.af2f24",
        "name": "sub-pump",
        "info": "",
        "x": 390,
        "y": 60,
        "wires": []
    },
    {
        "id": "49b7a678.51ccc8",
        "type": "comment",
        "z": "5b155b99.af2f24",
        "name": "h-pump/charge pump",
        "info": "",
        "x": 420,
        "y": 300,
        "wires": []
    },
    {
        "id": "56c1ede8.e71244",
        "type": "comment",
        "z": "5b155b99.af2f24",
        "name": "pc-pump",
        "info": "",
        "x": 390,
        "y": 500,
        "wires": []
    },
    {
        "id": "186d703a.15851",
        "type": "function",
        "z": "5b155b99.af2f24",
        "name": "",
        "func": "msg.payload =global.get(\"xin\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 120,
        "wires": [
            [
                "482f250b.e51efc"
            ]
        ]
    },
    {
        "id": "39b09f9.fbb936",
        "type": "function",
        "z": "5b155b99.af2f24",
        "name": "",
        "func": "msg.payload =global.get(\"xout\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 160,
        "wires": [
            [
                "3482447d.fa3dec"
            ]
        ]
    },
    {
        "id": "fab190e.14b207",
        "type": "function",
        "z": "5b155b99.af2f24",
        "name": "",
        "func": "global.set(\"xin\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "9005142a.8865d8",
        "type": "function",
        "z": "5b155b99.af2f24",
        "name": "",
        "func": "global.set(\"xout\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "cf68f13c.a09d7",
        "type": "function",
        "z": "5b155b99.af2f24",
        "name": "",
        "func": "msg.payload =global.get(\"gearratio\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 210,
        "y": 560,
        "wires": [
            [
                "dbd593eb.1626"
            ]
        ]
    },
    {
        "id": "7e9802e1.cbdc8c",
        "type": "function",
        "z": "5b155b99.af2f24",
        "name": "",
        "func": "global.set(\"gearratio\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "6fd2b844.141178",
        "type": "inject",
        "z": "5b155b99.af2f24",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 100,
        "wires": [
            [
                "186d703a.15851",
                "39b09f9.fbb936",
                "cf68f13c.a09d7"
            ]
        ]
    },
    {
        "id": "047918f2df3a1109",
        "type": "comment",
        "z": "849be798.0c4868",
        "name": "Wire Size",
        "info": "0-500000    500mcm\n1-400000    400mcm\n2-300000    300mcm \n3-211600    0000\n4-167780`   000\n5-133056    00\n6-105518    0\n7-83680     1\n8-66361     2\n9-52627     3\n10-41735    4\n11-26248    6\n12-16507    8\n13-10382    10\n14-6529     12\n15-4106     14\n\n\nvoltagedrop=length(ft)*amps*22.317/cmils",
        "x": 420,
        "y": 60,
        "wires": []
    },
    {
        "id": "b987f373fec85c68",
        "type": "ui_dropdown",
        "z": "849be798.0c4868",
        "name": "",
        "label": "Wire Size",
        "tooltip": "",
        "place": "Select option",
        "group": "60a73cbd.a8d754",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "500 MCM",
                "value": "500000",
                "type": "str"
            },
            {
                "label": "400 MCM",
                "value": "400000",
                "type": "str"
            },
            {
                "label": "300 MCM",
                "value": "300000",
                "type": "str"
            },
            {
                "label": "0000 Gauge",
                "value": "211600",
                "type": "str"
            },
            {
                "label": "000 Gauge",
                "value": "167780",
                "type": "str"
            },
            {
                "label": "00 Guage",
                "value": "133056",
                "type": "str"
            },
            {
                "label": "0 Gauge",
                "value": "105518",
                "type": "str"
            },
            {
                "label": "1 Guage",
                "value": "83680",
                "type": "str"
            },
            {
                "label": "2 Guage",
                "value": "66361",
                "type": "str"
            },
            {
                "label": "3 Guage",
                "value": "52627",
                "type": "str"
            },
            {
                "label": "4 Guage",
                "value": "41735",
                "type": "str"
            },
            {
                "label": "6 Guage",
                "value": "26248",
                "type": "str"
            },
            {
                "label": "8 Guage",
                "value": "16507",
                "type": "str"
            },
            {
                "label": "10 Guage",
                "value": "10382",
                "type": "str"
            },
            {
                "label": "12 Guage",
                "value": "6529",
                "type": "str"
            },
            {
                "label": "14Guage",
                "value": "4106",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 420,
        "y": 120,
        "wires": [
            [
                "5400b0a99f6619de"
            ]
        ]
    },
    {
        "id": "5400b0a99f6619de",
        "type": "function",
        "z": "849be798.0c4868",
        "name": "voltagedrop",
        "func": "\nvar voltagedrop;\nvar len = global.get(\"wirelen\");\nvar npamps = global.get(\"npamps\");\nvar mcm = msg.payload;\nglobal.set(\"wiremcm\", msg.payload);\n\nvoltagedrop = len*npamps*22.317/mcm;\nmsg.payload = voltagedrop.toFixed(2);\nnode.status(voltagedrop);\nglobal.set(\"voltagedrop\", voltagedrop.toFixed(2));\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 120,
        "wires": [
            [
                "4b4167ed5fc64c0a"
            ]
        ]
    },
    {
        "id": "6d892eaaab8587a0",
        "type": "inject",
        "z": "849be798.0c4868",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "1c29a0b96d9ef7a6",
                "3405e2f9e48da916"
            ]
        ]
    },
    {
        "id": "1c29a0b96d9ef7a6",
        "type": "function",
        "z": "849be798.0c4868",
        "name": "",
        "func": "msg.payload = global.get(\"wiremcm\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 140,
        "wires": [
            [
                "b987f373fec85c68"
            ]
        ]
    },
    {
        "id": "388145c7a0e2e02d",
        "type": "ui_text_input",
        "z": "849be798.0c4868",
        "name": "",
        "label": "Wire Length(ft)",
        "tooltip": "",
        "group": "60a73cbd.a8d754",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 440,
        "y": 180,
        "wires": [
            [
                "92a93b56b9887b94",
                "1c29a0b96d9ef7a6"
            ]
        ]
    },
    {
        "id": "3405e2f9e48da916",
        "type": "function",
        "z": "849be798.0c4868",
        "name": "",
        "func": "msg.payload = global.get(\"wirelen\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 240,
        "y": 180,
        "wires": [
            [
                "388145c7a0e2e02d"
            ]
        ]
    },
    {
        "id": "92a93b56b9887b94",
        "type": "function",
        "z": "849be798.0c4868",
        "name": "",
        "func": "global.set(\"wirelen\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "4b4167ed5fc64c0a",
        "type": "ui_text",
        "z": "849be798.0c4868",
        "group": "60a73cbd.a8d754",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Voltage Drop@FLA",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 820,
        "y": 120,
        "wires": []
    },
    {
        "id": "45c13121.731ac",
        "type": "inject",
        "z": "d505f30f.8dea9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 60,
        "wires": [
            [
                "9ecef99e.ea8528",
                "334c99a2.4a4f86"
            ]
        ]
    },
    {
        "id": "6aa08a14.cb60d4",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "\nif(msg.payload) {msg.payload = 1;}else {msg.payload = 0;}\nglobal.set(\"o2state\", msg.payload);\nnode.status(msg.payload);\nmsg.topic =global.get(\"o2name\");\nmsg.return;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 80,
        "wires": [
            [
                "f5cbd49c.5ffde8"
            ]
        ]
    },
    {
        "id": "526f7936.2e12",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "Toggle State",
        "func": "var last_state = context.get(\"state\") || false;\nvar state = last_state  // start the same\n\n// Usually we pass through the message and keep the state\n// When pressed, send the opposite of the state\nstate = msg.payload == \"PRESS\" ? !state : msg.payload;\n\n// If the state hasnt changed, stop the sequence here.\n// This matches the normal ui switch behavior\nif (state == last_state) \n    return null;\n\ncontext.set(\"state\", state);\nmsg.payload = state\n\n// Use the new local state (will update when round-tripped)\nmsg.txt = state ? global.get(\"o2name\") +\" On\" : global.get(\"o2name\") +\" Off\";\nmsg.color = state ? \"default\" : \"grey\";\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 60,
        "wires": [
            [
                "95654861.3f8658",
                "6aa08a14.cb60d4"
            ]
        ]
    },
    {
        "id": "95654861.3f8658",
        "type": "ui_button",
        "z": "d505f30f.8dea9",
        "name": "Toggle Switch",
        "group": "fd4cbea3.6101d",
        "order": 15,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "{{msg.txt}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{msg.color}}",
        "className": "",
        "icon": "",
        "payload": "PRESS",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 500,
        "y": 120,
        "wires": [
            [
                "526f7936.2e12",
                "3bb1d81d4ce45863"
            ]
        ]
    },
    {
        "id": "9ecef99e.ea8528",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "msg.payload = global.get(\"o2state\");\nvar name = global.get(\"o2name\");\nmsg.topic = name;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 180,
        "wires": [
            [
                "f5cbd49c.5ffde8"
            ]
        ]
    },
    {
        "id": "f9505f4.aeccea",
        "type": "comment",
        "z": "d505f30f.8dea9",
        "name": "Charge Pump O0.3",
        "info": "",
        "x": 900,
        "y": 260,
        "wires": []
    },
    {
        "id": "334c99a2.4a4f86",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar name = global.get(\"o3name\");\nif (vfdrun == 1) {msg.payload =1;} else {msg.payload = 0;}\nmsg.topic = name;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 260,
        "wires": [
            [
                "552fd80c.0b1638"
            ]
        ]
    },
    {
        "id": "df44b109.63baa",
        "type": "inject",
        "z": "d505f30f.8dea9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 120,
        "wires": [
            [
                "4dd43891.7689a8"
            ]
        ]
    },
    {
        "id": "4dd43891.7689a8",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "var state = global.get(\"o2state\");\nvar name = global.get(\"o2name\");\n\nif (state ==1) {msg.txt = name + \" On\"; msg.color = \"default\";}\nelse{msg.txt = name + \" Off\"; msg.color = \"grey\";\n    \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 120,
        "y": 180,
        "wires": [
            [
                "95654861.3f8658"
            ]
        ]
    },
    {
        "id": "f5cbd49c.5ffde8",
        "type": "ui_led",
        "z": "d505f30f.8dea9",
        "order": 3,
        "group": "1a6aa557.3ee09b",
        "width": 0,
        "height": 0,
        "label": "O 0.2 {{msg.topic}}",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "O 0.2",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "552fd80c.0b1638",
        "type": "ui_led",
        "z": "d505f30f.8dea9",
        "order": 4,
        "group": "1a6aa557.3ee09b",
        "width": 0,
        "height": 0,
        "label": "O 0.3 {{msg.topic}}",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "O 0.3",
        "x": 870,
        "y": 360,
        "wires": []
    },
    {
        "id": "3bb1d81d4ce45863",
        "type": "link out",
        "z": "d505f30f.8dea9",
        "name": "",
        "links": [
            "091942a99024cbc1"
        ],
        "x": 855,
        "y": 160,
        "wires": []
    },
    {
        "id": "05aced7cfbe00d7b",
        "type": "comment",
        "z": "d505f30f.8dea9",
        "name": "Output 0.4",
        "info": "",
        "x": 880,
        "y": 460,
        "wires": []
    },
    {
        "id": "8f1b8ef87121b01a",
        "type": "delay",
        "z": "d505f30f.8dea9",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 700,
        "y": 580,
        "wires": [
            [
                "44880353757ba5af"
            ]
        ]
    },
    {
        "id": "277b3ddbc6fe63fa",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "output on",
        "func": "var o4sel = global.get(\"o4sel\");\nvar o4ondelay = global.get(\"o4ondelay\") * 1000;\nif (o4sel == 0){\nif (msg.payload == 1){\nmsg.delay = o4ondelay;\nmsg.payload = 1;\nreturn msg;}}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 600,
        "wires": [
            [
                "8f1b8ef87121b01a",
                "227c5e8a7c795577",
                "9e7c40a1d6b87957"
            ]
        ]
    },
    {
        "id": "dee41761f0daa5cd",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "output off",
        "func": "var o4sel = global.get(\"o4sel\");\nvar o4offdelay = global.get(\"o4ffdelay\") * 1000;\nif (o4sel == 0){\nif (msg.payload == 0){\nmsg.delay = o4offdelay;\nmsg.payload = 0;\nreturn msg;}}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 640,
        "wires": [
            [
                "f03b5ba75b81b4ee",
                "227c5e8a7c795577"
            ]
        ]
    },
    {
        "id": "f03b5ba75b81b4ee",
        "type": "delay",
        "z": "d505f30f.8dea9",
        "name": "",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 700,
        "y": 620,
        "wires": [
            [
                "44880353757ba5af"
            ]
        ]
    },
    {
        "id": "31fae8b76392a239",
        "type": "ui_dropdown",
        "z": "d505f30f.8dea9",
        "name": "",
        "label": "Output 0.4",
        "tooltip": "",
        "place": "Select option",
        "group": "c59adf5a.9e87a",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "Input 1.0",
                "value": 0,
                "type": "num"
            },
            {
                "label": "VFD Running",
                "value": 1,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "",
        "topicType": "str",
        "className": "",
        "x": 450,
        "y": 540,
        "wires": [
            [
                "a01cf630d174aae6"
            ]
        ]
    },
    {
        "id": "c1045f5b736e0a59",
        "type": "inject",
        "z": "d505f30f.8dea9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 120,
        "y": 540,
        "wires": [
            [
                "4b7d6dcd124ad7b2",
                "7b0f758f4f0507b1",
                "9aa40f723db40fe6"
            ]
        ]
    },
    {
        "id": "4b7d6dcd124ad7b2",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "msg.payload = global.get(\"o4sel\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 540,
        "wires": [
            [
                "31fae8b76392a239"
            ]
        ]
    },
    {
        "id": "a01cf630d174aae6",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "global.set(\"o4sel\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "c3e18f169b3ebd45",
        "type": "comment",
        "z": "d505f30f.8dea9",
        "name": "Input 1.0",
        "info": "",
        "x": 100,
        "y": 580,
        "wires": []
    },
    {
        "id": "edeb72fd431551e9",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "var o4sel = global.get(\"o4sel\");\nvar vfdrun = global.get(\"vfdrun\");\nvar o4ondelay = global.get(\"o4ondelay\") * 1000;\nif (o4sel == 1){\nif (vfdrun == 1){\nmsg.delay = o4ondelay;\nmsg.payload = 1;\nreturn msg;}}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 680,
        "wires": [
            [
                "8f1b8ef87121b01a"
            ]
        ]
    },
    {
        "id": "91e3b7db57aab2be",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "var o4sel = global.get(\"o4sel\");\nvar vfdrun = global.get(\"vfdrun\");\nvar o4offdelay = global.get(\"o4ffdelay\") * 1000;\nif (o4sel == 1){\nif (vfdrun == 0){\nmsg.delay = o4offdelay;\nmsg.payload = 0;\nreturn msg;}}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 720,
        "wires": [
            [
                "8f1b8ef87121b01a"
            ]
        ]
    },
    {
        "id": "cc927f4a7e80b277",
        "type": "inject",
        "z": "d505f30f.8dea9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 180,
        "y": 720,
        "wires": [
            [
                "edeb72fd431551e9",
                "91e3b7db57aab2be"
            ]
        ]
    },
    {
        "id": "9aa40f723db40fe6",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "msg.payload = global.get(\"o4offdelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 500,
        "wires": [
            [
                "c2ed460b8b0571d9"
            ]
        ]
    },
    {
        "id": "7b0f758f4f0507b1",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "msg.payload = global.get(\"o4ondelay\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 460,
        "wires": [
            [
                "5178f0356bf12888"
            ]
        ]
    },
    {
        "id": "5178f0356bf12888",
        "type": "ui_text_input",
        "z": "d505f30f.8dea9",
        "name": "",
        "label": "O0.4 On Delay Seconds",
        "tooltip": "",
        "group": "c59adf5a.9e87a",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 500,
        "y": 460,
        "wires": [
            [
                "4fa9f7242136cc9f"
            ]
        ]
    },
    {
        "id": "c2ed460b8b0571d9",
        "type": "ui_text_input",
        "z": "d505f30f.8dea9",
        "name": "",
        "label": "O0.4 Off Delay Seconds",
        "tooltip": "",
        "group": "c59adf5a.9e87a",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "sendOnBlur": true,
        "className": "",
        "topicType": "str",
        "x": 490,
        "y": 500,
        "wires": [
            [
                "ec0f078c20a3875d"
            ]
        ]
    },
    {
        "id": "4fa9f7242136cc9f",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "global.set(\"o4ondelay\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "ec0f078c20a3875d",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "global.set(\"o4offdelay\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "44880353757ba5af",
        "type": "ui_led",
        "z": "d505f30f.8dea9",
        "order": 5,
        "group": "1a6aa557.3ee09b",
        "width": 0,
        "height": 0,
        "label": "O 0.4 Programmable Output",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "O0.4",
        "x": 890,
        "y": 600,
        "wires": []
    },
    {
        "id": "e0e7b4e39adce452",
        "type": "link out",
        "z": "d505f30f.8dea9",
        "name": "",
        "links": [
            "88e6e29c558162c4"
        ],
        "x": 795,
        "y": 680,
        "wires": []
    },
    {
        "id": "227c5e8a7c795577",
        "type": "function",
        "z": "d505f30f.8dea9",
        "name": "",
        "func": "if (msg.payload ==1 ){msg.payload = \"Input 5 On\"\nreturn msg;}\nif (msg.payload ==9 ){msg.payload = \"Input 5 Off\"\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 680,
        "wires": [
            [
                "e0e7b4e39adce452"
            ]
        ]
    },
    {
        "id": "9e7c40a1d6b87957",
        "type": "ui_led",
        "z": "d505f30f.8dea9",
        "order": 8,
        "group": "78d354f0.509a4c",
        "width": 0,
        "height": 0,
        "label": "Input 1.0",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "I1.0 led",
        "x": 410,
        "y": 780,
        "wires": []
    },
    {
        "id": "d8fe390a.24b108",
        "type": "bit-sixteen",
        "z": "6157092d.8b7638",
        "name": "",
        "x": 450,
        "y": 220,
        "wires": [
            [
                "47b6b1ff.2ef2"
            ],
            [
                "141b5da3.639cd2"
            ],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [
                "885adf9a.e7f08"
            ],
            [],
            [],
            [],
            []
        ]
    },
    {
        "id": "829652c1.654d1",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var ctxt;\nvar fwd = flow.get('fwd');\nvar rev = flow.get('rev');\nctxt = \"\";\n\nif (fwd === true) {ctxt = \"Running Forward\";}\nif (rev === true) {ctxt = \"Running Rev\";}\nif (fwd === false && rev === false) {\n    ctxt = \"Stopped\";   }\nmsg.payload = ctxt;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "47b6b1ff.2ef2",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "RunFWD",
        "func": "var fwd;\n\nfwd = msg.payload;\nmsg.payload = {\"fwd\":fwd};\nflow.set('fwd', fwd);\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "141b5da3.639cd2",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "RunRev",
        "func": "var rev;\nrev = msg.payload;\nmsg.payload = {\"rev\":rev};\nflow.set('rev', rev);\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 160,
        "wires": [
            [
                "829652c1.654d1"
            ]
        ]
    },
    {
        "id": "93ac4580.6f53c8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "VFD Cmd",
        "func": "//run command\nvar vfdrun = global.get(\"vfdrun\");\nif (vfdrun === 1) {msg.payload = 1;\nmsg.color = \"green\";} else{msg.payload =0;msg.color = \"red\";}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2040,
        "wires": [
            [
                "b487d048.141ef"
            ]
        ]
    },
    {
        "id": "8091011a.99e38",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 2040,
        "wires": [
            [
                "93ac4580.6f53c8"
            ]
        ]
    },
    {
        "id": "c5f3d9b6.df6bf8",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "status mega 45004",
        "info": "",
        "x": 430,
        "y": 80,
        "wires": []
    },
    {
        "id": "885adf9a.e7f08",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "vfdfault",
        "func": "var text;\nif (msg.payload == 0) {global.set(\"vfdfault\", 0), flow.set(\"vfdflt\",false)}\nif (msg.payload == 1) {global.set(\"vfdfault\", msg.payload);}\nif (msg.payload == 1) {text = \"VFD Fault\"; msg.payload = 1; msg.payload = msg.payload + \" \" + text; \nreturn msg;}\n\n\nnode.status(msg.payload);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 280,
        "wires": [
            [
                "10ad1f74880b06b1"
            ]
        ]
    },
    {
        "id": "bfae47e4.4f2028",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "fault",
        "info": "",
        "x": 650,
        "y": 240,
        "wires": []
    },
    {
        "id": "a28fe32b.54312",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "Registers Mega",
        "info": "fwd := 1;\nrev := 2;\nrst :=8;\n\nCmd\" := 45001;\nCmd_Freq_SP\" := 45002;\nOutput Freq\" := 45003;\nVFD_Status\" := 45004;\nDC Bus\" := 45005;\nOutput Amps\" := 45006;\nOutput Volts\" := 45007;\nTemperature\" := 45008;\nCapacity\" := 45009;\nVFD_Fault_Code\" := 45010;\nFreq  Ref\" := 45011;\nAccel\" := 45012;\nDecel\" := 45013;\nBase_freq\" := 45014;\nBase_volts\" := 45015;\nTorque_Boost\" := 45016;\nCarrier_Freq\" := 45017;\nDecel_Mode\" := 45018;\nVFD_Mode\" := 45019; //F42 0, 5\nMtr_Poles\" := 45020;\nMtr_KW'\" := 45021; //P02  HP IF P99=1\nMTR_Amps\" := 45022;\nAuto Tune 45023\nMTR_Volts\" := 45024;\nTorque_Limit\" := 45025;\nStarting_Freq\" := 45026;\nStarting_Freq time\" := ;\nVFD_Comm_Mode := 45027;\n",
        "x": 120,
        "y": 900,
        "wires": []
    },
    {
        "id": "f81124a2.1d2118",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Split",
        "func": "var msg12 = msg.payload.map(function (p) {\n    return {payload: p};\n});\nreturn msg12;",
        "outputs": 30,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 920,
        "wires": [
            [
                "f09120f3.c2df5"
            ],
            [
                "d55496a9.62c808"
            ],
            [
                "9dfe6370.d9919"
            ],
            [
                "17b4febf.24a921",
                "d8fe390a.24b108"
            ],
            [
                "bb90d463.f88838"
            ],
            [
                "7cfb7da2.410704"
            ],
            [
                "d5efb225.3300e"
            ],
            [
                "e00e9a92.53f4b8"
            ],
            [
                "a5eac720.71ffe8"
            ],
            [
                "ecc03d3b.5a573"
            ],
            [
                "d4894923.05e348"
            ],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [],
            [
                "171c4a95.1eb515"
            ]
        ]
    },
    {
        "id": "7159f8d3.53fe68",
        "type": "ui_chart",
        "z": "6157092d.8b7638",
        "name": "",
        "group": "820af12a.cbee8",
        "order": 2,
        "width": "0",
        "height": "0",
        "label": "Frequency Out",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": "3",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1160,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "f09120f3.c2df5",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "cmd",
        "func": "var num = Number(msg.payload);\nvar t =num;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "d55496a9.62c808",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "cmd freq sp",
        "func": "var num = Number(msg.payload);\nvar t =num;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "9dfe6370.d9919",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Freq Out",
        "func": "var num = Number(msg.payload);\nvar t =Math.round(num)/100;\nmsg.payload = t;\nflow.set(\"freqout\", t);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 620,
        "wires": [
            [
                "14122d0f.ff9e03",
                "6803a0a2.3e0e1",
                "4b12c7f1.3425a8",
                "dac077484dda3e55",
                "7c9bf428.69991c"
            ]
        ]
    },
    {
        "id": "17b4febf.24a921",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Status",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 590,
        "y": 660,
        "wires": [
            [
                "88b4378d.97c858"
            ]
        ]
    },
    {
        "id": "bb90d463.f88838",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "DC Bus",
        "func": "var num = Number(msg.payload);\nvar t =num;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 700,
        "wires": [
            [
                "a800e711.601cf8"
            ]
        ]
    },
    {
        "id": "7cfb7da2.410704",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Amps",
        "func": "\nvar num = Number(msg.payload);\nvar cap = global.get(\"capacity\");\nvar mult;\nvar amps;\n\n\nif (cap<=3000){mult = 100;}\nif (cap>3000){mult = 10;}\namps = msg.payload/mult;\nflow.set(\"amps\", amps.toFixed(2));\nmsg.payload = amps.toFixed(2);\nnode.status(msg.payload);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 740,
        "wires": [
            [
                "5a3603cc.eef9ac",
                "3248fafc.e48656"
            ]
        ]
    },
    {
        "id": "d5efb225.3300e",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Volts",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 780,
        "wires": [
            [
                "3b9b5be1.3d03f4",
                "60a7fc39.569984"
            ]
        ]
    },
    {
        "id": "e00e9a92.53f4b8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Temperature",
        "func": "var num = Number(msg.payload);\nvar t =num;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 820,
        "wires": [
            [
                "1b1fa24f.b385ae"
            ]
        ]
    },
    {
        "id": "a5eac720.71ffe8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Capacity",
        "func": "var num = Number(msg.payload);\nvar t =num;\nmsg.payload = t;\nglobal.set(\"capacity\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 860,
        "wires": [
            [
                "98f21721.100b98"
            ]
        ]
    },
    {
        "id": "d4894923.05e348",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Ref Freq",
        "func": "var num = Number(msg.payload);\nvar t =num/100;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 940,
        "wires": [
            []
        ]
    },
    {
        "id": "ecc03d3b.5a573",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Fault Code",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 900,
        "wires": [
            [
                "8a99081e.4468a8"
            ]
        ]
    },
    {
        "id": "1b1fa24f.b385ae",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "VFD Temperature",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 830,
        "y": 820,
        "wires": []
    },
    {
        "id": "3b9b5be1.3d03f4",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Volts",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 750,
        "y": 780,
        "wires": []
    },
    {
        "id": "a800e711.601cf8",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "DC Bus",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 760,
        "y": 700,
        "wires": []
    },
    {
        "id": "14122d0f.ff9e03",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Frequency Output Hz",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "x": 920,
        "y": 540,
        "wires": []
    },
    {
        "id": "5a3603cc.eef9ac",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Amps",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 830,
        "y": 740,
        "wires": []
    },
    {
        "id": "88b4378d.97c858",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 0,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "VFD Status",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 770,
        "y": 660,
        "wires": []
    },
    {
        "id": "bc4b3add.d684b8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Accel",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 980,
        "wires": [
            [
                "4c449788.08d728"
            ]
        ]
    },
    {
        "id": "c6c9a9e4.a6b418",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Decel",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 1020,
        "wires": [
            [
                "b791b0c6.9722a"
            ]
        ]
    },
    {
        "id": "6ec9d029.2832f",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Base Freq",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1060,
        "wires": [
            [
                "9b5f9ac1.7a20e8"
            ]
        ]
    },
    {
        "id": "e8206280.587e4",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Base Volts",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1100,
        "wires": [
            [
                "468004d5.55f11c"
            ]
        ]
    },
    {
        "id": "266750a.1ca35b",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Torqu Boost",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1140,
        "wires": [
            [
                "f5eab250.749ac"
            ]
        ]
    },
    {
        "id": "6d54cd0e.b80a74",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Carrier",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 1180,
        "wires": [
            [
                "9bb08052.192e3"
            ]
        ]
    },
    {
        "id": "7da59c25.b081a4",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Decel Mode",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1220,
        "wires": [
            [
                "5b3cfa6b.72c1c4"
            ]
        ]
    },
    {
        "id": "ef7985ff.223fd8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "VFD Mode",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1260,
        "wires": [
            [
                "3a410ff6.5fea2"
            ]
        ]
    },
    {
        "id": "fa124cd1.a2266",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Poles",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "c15b23a8.a064f",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "NP kw/hp",
        "func": "var num = Number(msg.payload);\nvar cap = global.get(\"capacity\");\nvar mult;\n\nif (cap<=3000){mult = 100;}\nif (cap>3000){mult = 10;}\nif (cap>60000){msg.payload = msg.payload - 60000; mult= 1;}\nmsg.payload = msg.payload/mult;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1340,
        "wires": [
            [
                "9278c5e6.7788c8"
            ]
        ]
    },
    {
        "id": "fce0d18f.5665f",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "NP Amps",
        "func": "var num = Number(msg.payload);\nvar cap = global.get(\"capacity\");\nvar mult;\n\nif (cap<=3000){mult = 100;}\nif (cap>3000){mult = 10;}\n\nmsg.payload = msg.payload/mult;\nnode.status(msg.payload);\nflow.set(\"npamps\", msg.payload);\nvar xin =global.get(\"xin\");\nvar xout =global.get(\"xout\");\nvar ratio = xin/xout;\nif (xin <= 1) {msg.payload = msg.payload*ratio;}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 1380,
        "wires": [
            [
                "18341b75.8f7915"
            ]
        ]
    },
    {
        "id": "4fce84e5.9b01bc",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Tune",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 650,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "c2e52ce3.d35ae",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "NP Volts",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1460,
        "wires": [
            [
                "301f5931.1d6ed6"
            ]
        ]
    },
    {
        "id": "42bcab9f.ebcdc4",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Torque Limit",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 1520,
        "wires": [
            [
                "9e00116c.b88e6"
            ]
        ]
    },
    {
        "id": "1fba2740.a806c9",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Start Freq",
        "func": "var num = Number(msg.payload);\nvar t =num/10;\nmsg.payload = t;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1560,
        "wires": [
            [
                "7be093fc.2dd51c"
            ]
        ]
    },
    {
        "id": "171c4a95.1eb515",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Comm Mode",
        "func": "var num = Number(msg.payload);\nvar t =num/1;\nmsg.payload = t;\nif (t > 1){msg.payload = \"Remote\";}else {msg.payload = \"Local\";}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1620,
        "wires": [
            [
                "a3a993d2.19762",
                "c90f901dfcac3be0"
            ]
        ]
    },
    {
        "id": "98f21721.100b98",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "VFD Capacity",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 820,
        "y": 860,
        "wires": []
    },
    {
        "id": "4c449788.08d728",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Accel",
        "tooltip": "",
        "group": "8da15814.9bc108",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 830,
        "y": 980,
        "wires": [
            [
                "e403966.f8db668"
            ]
        ]
    },
    {
        "id": "b791b0c6.9722a",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Decel",
        "tooltip": "",
        "group": "8da15814.9bc108",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 830,
        "y": 1020,
        "wires": [
            [
                "8b6b2519.377d78"
            ]
        ]
    },
    {
        "id": "9b5f9ac1.7a20e8",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Base Frequency HZ",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 880,
        "y": 1060,
        "wires": [
            [
                "3628cf2b.a0b9f"
            ]
        ]
    },
    {
        "id": "468004d5.55f11c",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Base Volts",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 850,
        "y": 1100,
        "wires": [
            [
                "49319557.b98e4c"
            ]
        ]
    },
    {
        "id": "f5eab250.749ac",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Torque Boost",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 850,
        "y": 1140,
        "wires": [
            [
                "99f3a8d9.038448"
            ]
        ]
    },
    {
        "id": "9bb08052.192e3",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Carrier Frequency Hz",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 880,
        "y": 1180,
        "wires": [
            [
                "7b431300.af2e5c"
            ]
        ]
    },
    {
        "id": "5b3cfa6b.72c1c4",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Decel Mode",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 870,
        "y": 1220,
        "wires": [
            [
                "8efe7ae1.50d398"
            ]
        ]
    },
    {
        "id": "3a410ff6.5fea2",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "VFD Mode",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "text",
        "delay": 300,
        "topic": "",
        "x": 850,
        "y": 1260,
        "wires": [
            [
                "75a82cd2.08b924"
            ]
        ]
    },
    {
        "id": "9278c5e6.7788c8",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Horse Power",
        "tooltip": "",
        "group": "9cb69f1e.f93a5",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 870,
        "y": 1340,
        "wires": [
            [
                "8b39c06e.9f934"
            ]
        ]
    },
    {
        "id": "301f5931.1d6ed6",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Volts",
        "tooltip": "",
        "group": "9cb69f1e.f93a5",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 870,
        "y": 1480,
        "wires": [
            [
                "2a022a67.0b6a76"
            ]
        ]
    },
    {
        "id": "18341b75.8f7915",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Amps",
        "tooltip": "",
        "group": "9cb69f1e.f93a5",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 870,
        "y": 1380,
        "wires": [
            [
                "962ed2bc.64333",
                "f9d5857a274b057b"
            ]
        ]
    },
    {
        "id": "9e00116c.b88e6",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Torque Limit",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 890,
        "y": 1520,
        "wires": [
            [
                "e1d1ac3a.af0a2"
            ]
        ]
    },
    {
        "id": "7be093fc.2dd51c",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Start Frequency",
        "tooltip": "",
        "group": "65689aa9.81c164",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 900,
        "y": 1560,
        "wires": [
            [
                "f8c93cbe.077ae"
            ]
        ]
    },
    {
        "id": "3bf2e1bc.e8309e",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var num = Number(msg.payload);\nvar t =num;\nmsg.payload ={\n    \"max\": t,\n    \"ymax\": t\n};\nglobal.set(\"ampsscale\", msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 970,
        "y": 720,
        "wires": [
            [
                "fd2e557a.7ae018"
            ]
        ]
    },
    {
        "id": "fd2e557a.7ae018",
        "type": "change",
        "z": "6157092d.8b7638",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "ui_control",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "caf6ae18.89fc6",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Motor Amps Max Scale",
        "tooltip": "",
        "group": "a3b0d87a.5e4698",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 1030,
        "y": 680,
        "wires": [
            [
                "3bf2e1bc.e8309e"
            ]
        ]
    },
    {
        "id": "4e8864f3.52802c",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "msg.payload = global.get('ampsscale');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1070,
        "y": 620,
        "wires": [
            [
                "caf6ae18.89fc6"
            ]
        ]
    },
    {
        "id": "8a99081e.4468a8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var text;\nswitch(msg.payload){\ncase 0:\ttext = \"No Fault \t\"; break;\ncase 1:\ttext = \"Overcurrent (during acceleration)\t\";break;\ncase 2:\ttext = \"Overcurrent (during deceleration)\t\"; break;\ncase 3\t:\ttext = \"Overcurrent (during constant speed operation)\t\"; break;\ncase 5\t:\ttext = \"Ground fault \t\"; break;\ncase 6\t:\ttext = \"Overvoltage (during acceleration)\t\"; break;\ncase 7\t:\ttext = \"Overvoltage (during deceleration)\t\"; break;\ncase 8\t:\ttext = \"Overvoltage (during constant speed operation or stopping)\t\"; break;\ncase 10\t:\ttext = \"Undervoltage \t\"; break;\ncase 11\t:\ttext = \"Input phase loss \t\"; break;\ncase 14\t:\ttext = \"Fuse blown \t\"; break;\ncase 16\t:\ttext = \"Charging circuit fault \t\"; break;\ncase 17\t:\ttext = \"Heat sink overheat \t\"; break;\ncase 18\t:\ttext = \"External alarm \t\"; break;\ncase 19\t:\ttext = \"Internal air overheat \t\"; break;\ncase 20\t:\ttext = \"Motor protection (PtC/NtC thermistor)\t\"; break;\ncase 22\t:\ttext = \"Braking resistor overheat \t\"; break;\ncase 23\t:\ttext = \"Motor overload \t\"; break;\ncase 24\t:\ttext = \"Motor overload motor 2 \t\"; break;\ncase 25\t:\ttext = \"Inverter overload \t\"; break;\ncase 27\t:\ttext = \"Over speed protection \t\"; break;\ncase 28\t:\ttext = \"PG disconnection\t\"; break;\ncase 29\t:\ttext = \"NtC disconnection error\t\"; break;\ncase 31\t:\ttext = \"Memory error\t\"; break;\ncase 32\t:\ttext = \"Keypad communications error\t\"; break;\ncase 33\t:\ttext = \"CPU error\t\"; break;\ncase 34\t:\ttext = \"Option communications error\t\"; break;\ncase 35\t:\ttext = \"Option error (Ethernet)\t\"; break;\ncase 36\t:\ttext = \"Run operation error\t\"; break;\ncase 37\t:\ttext = \"tuning error\t\"; break;\ncase 38\t:\ttext = \"RS-485 communications error (communications port1)\t\"; break;\ncase 44\t:\ttext = \"Motor overload motor 3\t\"; break;\ncase 45\t:\ttext = \"Motor overload motor 4\t\"; break;\ncase 46\t:\ttext = \"Output phase loss\t\"; break;\ncase 47\t:\ttext = \"Following error excessive speed deviation\t\"; break;\ncase 51\t:\ttext = \"Data save error on insufficient voltage\t\"; break;\ncase 53\t:\ttext = \"RS-485 communications error (Option/Communications port 2)\t\"; break;\ncase 54\t:\ttext = \"Hardware error\t\"; break;\ncase 57\t:\ttext = \"EN circuit error\t\"; break;\ncase 58\t:\ttext = \"PID feedback disconnection detected\t\"; break;\ncase 59\t:\ttext = \"DB transistor trouble\t\"; break;\ncase 100:\ttext = \"DC fan lock detected\t\"; break;\ncase 101:\ttext = \"Motor overload warning \t\"; break;\ncase 102:\ttext = \"Cooling fin overheat warning\t\"; break;\ncase 103:\ttext = \"Life warning \t\"; break;\ncase 104:\ttext = \"Command loss \t\"; break;\ncase 105:\ttext = \"PID warning output \t\"; break;\ncase 106:\ttext = \"Low torque detected\t\"; break;\ncase 107:\ttext = \"thermistor detected (PtC)\t\"; break;\ncase 108:\ttext = \"Machine life (accumulated operation hours)\t\"; break;\ncase 109:\ttext = \"Machine life (No. of starting times)\t\"; break;\ncase 254:\ttext = \"Simulated\t\"; break;}\nmsg.payload = msg.payload + \" \" + text;\nglobal.set(\"vfdfaulttext\", msg.payload);\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 800,
        "wires": [
            [
                "e97df399.99322"
            ]
        ]
    },
    {
        "id": "c4411a00.dbe868",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "Convert Fault to Text",
        "info": "",
        "x": 1090,
        "y": 760,
        "wires": []
    },
    {
        "id": "4d40d207.e48dac",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "\nvar amps;\nvar vfdrun = global.get(\"vfdrun\");\nvar olalm =global.get(\"olalm\");\nvar ollimit =global.get(\"ollimit\");\nvar ulalm =global.get(\"ulalm\");\nvar ullimit =global.get(\"ullimit\");\nvar ulrestartdelay = global.get(\"ulrestartdelay\");\nvar olrestartdelay = global.get(\"olrestartdelay\");\n\n\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\namps = msg.payload;\nif (amps > ollimit && vfdrun == 1 && olalm == 0){msg.payload = date + \", \" + \"Motor Overload\"; \n global.set(\"olalm\", 1); node.status(msg.payload);\nif (olrestartdelay> 0) {global.set(\"restarttime\", olrestartdelay); global.set(\"restart\", 1);}\n\nreturn msg;}\nif (amps < ullimit && vfdrun == 1 && ulalm ==0){msg.payload = date + \", \" + \"Motor Underload\"; \nglobal.set(\"ulalm\", 1);node.status(msg.payload)\nif (ulrestartdelay> 0) {global.set(\"restarttime\", ulrestartdelay); global.set(\"restart\", 1);}\nreturn msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1720,
        "y": 820,
        "wires": [
            [
                "0250872a75c406f0",
                "24e9687b.6bdb88",
                "d09cc272.eb8e7",
                "e6f91db3.b8f28"
            ]
        ]
    },
    {
        "id": "81bc1ad5.7b3918",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "format output",
        "func": "var str = msg.payload;\nvar buf = [];\n\nfor (var i=0, l = str.length; i < l; i++) {\n    var ascii = str.charCodeAt(i);\n    buf.push(ascii);\n}\nbuf.push(255);\nbuf.push(255);\nbuf.push(255);\n\nmsg.payload = new Buffer(buf);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1930,
        "y": 1100,
        "wires": [
            [
                "14b57624.1b624a"
            ]
        ]
    },
    {
        "id": "14b57624.1b624a",
        "type": "serial out",
        "z": "6157092d.8b7638",
        "name": "HMI",
        "serial": "3331e171.1a052e",
        "x": 1950,
        "y": 1160,
        "wires": []
    },
    {
        "id": "cd2bcb79.621458",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Alarm State",
        "func": "if (msg.payload === 0){\n  msg.payload = \"page0.t3.txt=\\\"\"+ \" \" +\"\\\"\" ;//  \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1710,
        "y": 980,
        "wires": [
            [
                "81bc1ad5.7b3918"
            ]
        ]
    },
    {
        "id": "24e9687b.6bdb88",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "",
        "pauseType": "delay",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1530,
        "y": 900,
        "wires": [
            [
                "cd2bcb79.621458"
            ]
        ]
    },
    {
        "id": "d09cc272.eb8e7",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1530,
        "y": 940,
        "wires": [
            [
                "ff1bfe16.dd402"
            ]
        ]
    },
    {
        "id": "ff1bfe16.dd402",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "OL/UL",
        "func": "\n\ntxt = msg.payload;\nmsg.payload = \"page0.tAQ.txt=\\\"\"+ txt +\"\\\"\"; \n    return msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1690,
        "y": 1020,
        "wires": [
            [
                "81bc1ad5.7b3918"
            ]
        ]
    },
    {
        "id": "c02d09df.941778",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "\nif (msg.payload == 1 ){\n   \n    \n    var color = 63488;\n    msg.payload =  \"page0.nACO0.bco=\"+ color +\"\";\n}else\n{color = 0;\n  msg.payload =  \"page0.nACO0.bco=\"+ color +\"\";  \n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 1060,
        "wires": [
            [
                "81bc1ad5.7b3918"
            ]
        ]
    },
    {
        "id": "e6f91db3.b8f28",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "",
        "pauseType": "delay",
        "timeout": "150",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 1530,
        "y": 980,
        "wires": [
            [
                "c02d09df.941778"
            ]
        ]
    },
    {
        "id": "479ffcc3.5057f4",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var amps;\nvar vfdrun = global.get(\"vfdrun\");\nvar olsd =flow.get(\"olsd\");\nvar ollimit =global.get(\"ollimit\");\nvar ulsd =flow.get(\"ulsd\");\nvar ullimit =global.get(\"ullimit\");\nvar msg2 = msg;\nvar oltripdelay = global.get(\"oltripdelay\") * 1000;\nvar ultripdelay = global.get(\"ultripdelay\") * 1000;\nnode.status(oltripdelay & \" \" & olsd);\n\nnode.status(olsd);\namps = msg.payload;\nif (amps > ollimit && vfdrun == 1 && olsd == 1){\n msg.delay = oltripdelay; \nreturn [msg, null];}\n\nif (amps < ullimit && vfdrun == 1 && ulsd == 1){\n msg.delay = ultripdelay;node.status(msg2.delay);\nreturn [null, msg2];}\n\nif (amps> ullimit && amps < ollimit) {msg.reset = 1; msg2.reset == 1; return [msg, msg2];}\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 860,
        "wires": [
            [
                "191c042717ce4936"
            ],
            [
                "3a4361842e07db78"
            ]
        ]
    },
    {
        "id": "ad4c781e.1776f8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var msg12 = msg.payload.map(function (p) {\n    return {payload: p};\n});\nreturn msg12;",
        "outputs": 16,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 1280,
        "wires": [
            [
                "bc4b3add.d684b8"
            ],
            [
                "c6c9a9e4.a6b418"
            ],
            [
                "6ec9d029.2832f"
            ],
            [
                "e8206280.587e4"
            ],
            [
                "266750a.1ca35b"
            ],
            [
                "6d54cd0e.b80a74"
            ],
            [
                "7da59c25.b081a4"
            ],
            [
                "ef7985ff.223fd8"
            ],
            [
                "fa124cd1.a2266"
            ],
            [
                "c15b23a8.a064f"
            ],
            [
                "fce0d18f.5665f"
            ],
            [
                "4fce84e5.9b01bc"
            ],
            [
                "c2e52ce3.d35ae"
            ],
            [
                "42bcab9f.ebcdc4"
            ],
            [
                "1fba2740.a806c9"
            ],
            [
                "171c4a95.1eb515"
            ]
        ]
    },
    {
        "id": "3248fafc.e48656",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var xin = global.get(\"xin\");\nvar xout = global.get(\"xout\");\nvar ratio = xin/xout;\nvar mtramps;\nmsg.payload = msg.payload * ratio;\nmsg.topic = \"Motor Amps\";\nmtramps = msg.payload;\nmsg.payload = mtramps.toFixed(2);\nflow.set(\"mtramps\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 780,
        "wires": [
            [
                "4e8864f3.52802c",
                "9ce5ce3e0aa62c6d",
                "479ffcc3.5057f4"
            ]
        ]
    },
    {
        "id": "a3a993d2.19762",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 7,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Comm Mode",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 900,
        "y": 1620,
        "wires": []
    },
    {
        "id": "86152ab9.801988",
        "type": "ui_text_input",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Motor RPM",
        "tooltip": "",
        "group": "9cb69f1e.f93a5",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "number",
        "delay": 300,
        "topic": "",
        "x": 870,
        "y": 1300,
        "wires": [
            [
                "2872024a.e837fe"
            ]
        ]
    },
    {
        "id": "e97df399.99322",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "e37ca713.a882d8",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Last Fault",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1240,
        "y": 800,
        "wires": []
    },
    {
        "id": "7c9bf428.69991c",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "RPM",
        "func": "var slip = flow.get(\"slip\");\nvar amps = flow.get(\"amps\");\nvar npamps = flow.get(\"npamps\");\nvar loadratio = amps/npamps;\nvar actualslip = slip*loadratio;\nvar nprpm = global.get(\"nprpm\");\nvar rpm;\nvar poles = flow.get(\"poles\");\nvar freq = msg.payload;\nif(loadratio<0.5){actualslip = 0;}\nrpm = freq*120/poles;\nrpm = rpm - actualslip*nprpm;\nflow.set(\"rpm\", rpm);\nmsg.payload = rpm.toFixed(0);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 420,
        "wires": [
            [
                "71e1a5c8.9def8c",
                "b14f0a52.da64e8"
            ]
        ]
    },
    {
        "id": "71e1a5c8.9def8c",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "434ceb53.5206e4",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Motor RPM",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1060,
        "y": 420,
        "wires": []
    },
    {
        "id": "2872024a.e837fe",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "RPM to Poles",
        "func": "var mtrrpm = msg.payload;\nvar poles;\nvar slip;\nglobal.set(\"nprpm\", mtrrpm);\nif (mtrrpm >= 2000){poles = 2;} // 3600\nif (mtrrpm < 2000) {poles = 4;}  //1800\nif (mtrrpm < 1300) {poles = 6;}  //1200\nif (mtrrpm < 1000) {poles = 8;}  //900\nif (poles == 2) {slip = (3600-mtrrpm)/3600;}\nif (poles == 4) {slip = (1800-mtrrpm)/1800;}\nif (poles == 6) {slip = (1200-mtrrpm)/1200;}\nif (poles == 8) {slip = (900-mtrrpm)/900;}\n\nflow.set(\"slip\", slip);\nflow.set(\"poles\", poles);\nmsg.payload = poles;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "2a7a26e8.a8e11a",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 1460,
        "wires": [
            [
                "8578310f.5ab12",
                "69f763474aa50c6e"
            ]
        ]
    },
    {
        "id": "8578310f.5ab12",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "msg.payload = global.get(\"nprpm\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1460,
        "wires": [
            [
                "86152ab9.801988"
            ]
        ]
    },
    {
        "id": "373ced31.461e02",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "Freq Sp to VFD",
        "info": "",
        "x": 290,
        "y": 1820,
        "wires": []
    },
    {
        "id": "219ce528.8f237a",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var pidon = global.get(\"pidon\");\nvar pidout = Number(global.get(\"pidout\"));\nvar sp = Number(global.get(\"freqsp\"));\nvar min = Number(global.get(\"minfreq\"));\nvar max = Number(global.get(\"maxfreq\"));\nif (pidon) {\n    sp = pidout/100*max;\n}\nif (sp>max){sp = max;}\nif (sp<min){sp = min;}\nsp =sp*100;\nmsg.payload = sp;\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 1880,
        "wires": [
            [
                "0d997b3d96b15778"
            ]
        ]
    },
    {
        "id": "b1a6014e.5a5e",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 1880,
        "wires": [
            [
                "219ce528.8f237a",
                "a3755866.fc7318"
            ]
        ]
    },
    {
        "id": "a3755866.fc7318",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nvar rev = global.get(\"rev\");\nvar reset = global.get(\"reset\");\nif (vfdrun ==1){\n    if (rev) {msg.payload = 2;}  else {msg.payload = 1;}\n}else {msg.payload = 0;}\n\nif(reset || reset == 1) {\n    flow.set(\"vfdflt\", false);\n    msg.payload = 8;}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 1980,
        "wires": [
            []
        ]
    },
    {
        "id": "8345d723.a9c8b8",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "VFD Command/Reset",
        "info": "",
        "x": 330,
        "y": 1940,
        "wires": []
    },
    {
        "id": "f37a49a6.a23368",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "434ceb53.5206e4",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Effective HP",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1010,
        "y": 1700,
        "wires": []
    },
    {
        "id": "a71917ae.a648f8",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 610,
        "y": 1700,
        "wires": [
            [
                "dbe5751f.301c98"
            ]
        ]
    },
    {
        "id": "dbe5751f.301c98",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "PowerFactor",
        "func": "var hp;\nvar amps = flow.get(\"mtramps\");\nvar voltagedrop = global.get(\"voltagedrop\");\nvar mtrvolts = flow.get(\"mtrvolts\") - voltagedrop;\nvar npamps = flow.get(\"npamps\");\nvar vfdrun = global.get(\"vfdrun\");\nvar pf = 0.85;\nvar perofload = amps/npamps;\nif (perofload > 0.5){pf =0.85;}else{\n    pf = perofload + 0.35;\n}\n\nhp = mtrvolts*amps *1.732*0.001340483*pf*0.95;\n\nmsg.payload = hp.toFixed(1);\nif (isNaN(hp)) {msg.payload=0;}\nnode.status(msg.payload + \" \" + pf);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 1700,
        "wires": [
            [
                "f37a49a6.a23368",
                "fef6d6a.4b84728"
            ]
        ]
    },
    {
        "id": "60a7fc39.569984",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "Mtr Volts",
        "func": "var xin = global.get(\"xin\");\nvar xout = global.get(\"xout\");\nvar mtramps = flow.get(\"mtramps\");\nvar ratio = xin/xout;\nvar voltagedrop;\nvar len = global.get(\"wirelen\");\nvar mcm = global.get(\"wiremcm\");\n\n\nvoltagedrop = len*mtramps*22.317/mcm;\nvar mtrvolts = msg.payload;\nmtrvolts = mtrvolts/ratio;\nmtrvolts = mtrvolts - voltagedrop.toFixed(1);\nmtrvolts  = mtrvolts.toFixed(1);\nmsg.payload = mtrvolts;\n\nflow.set(\"mtrvolts\", mtrvolts);\nmsg.payload = mtrvolts;\nnode.status(mtrvolts + \" \" +mtramps + \" \" + ratio + \" \" +  voltagedrop.toFixed(1) + \" \" +mcm)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 920,
        "wires": [
            [
                "dd7fdafa96e20341"
            ]
        ]
    },
    {
        "id": "fef6d6a.4b84728",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "mtr torque",
        "func": "var mtrtorq;\nvar loadrpm = flow.get(\"loadrpm\");\nvar mtrhp = msg.payload;\nvar gearratio = global.get(\"gearratio\");\nvar loadtorq = mtrhp*5252/(loadrpm)*gearratio;\nmsg.payload = loadtorq.toFixed(1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1740,
        "wires": [
            [
                "3ffd3adf.96ffc6"
            ]
        ]
    },
    {
        "id": "f8c93cbe.077ae",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi10",
        "func": "var num = Number(msg.payload);\nvar t =num*10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 1580,
        "wires": [
            []
        ]
    },
    {
        "id": "e1d1ac3a.af0a2",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi1",
        "func": "var num = Number(msg.payload);\nvar t =num*1;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 1520,
        "wires": [
            []
        ]
    },
    {
        "id": "2a022a67.0b6a76",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi1",
        "func": "var num = Number(msg.payload);\nvar t =num*1;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1480,
        "wires": [
            []
        ]
    },
    {
        "id": "962ed2bc.64333",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var cap = global.get(\"capacity\");\nvar mult;\nflow.set(\"npamps\", msg.payload);\nif (cap<=3000){mult = 100;}\nif (cap>3000){mult = 10;}\n\nmsg.payload = msg.payload*mult;\n\nvar xin =global.get(\"xin\");\nvar xout =global.get(\"xout\");\nvar ratio = xin/xout;\nif (xin <= 1) {msg.payload = msg.payload/ratio;}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "8b39c06e.9f934",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var cap = global.get(\"capacity\");\nvar mult;\n\nif (cap<=3000){mult = 100;}\nif (cap>3000){mult = 10;}\nif (cap>60000){msg.payload = msg.payload +60000; mult= 1;}\nmsg.payload = msg.payload*mult;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 1340,
        "wires": [
            []
        ]
    },
    {
        "id": "75a82cd2.08b924",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi1",
        "func": "var num = Number(msg.payload);\nvar t =num*1;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "8efe7ae1.50d398",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi1",
        "func": "var num = Number(msg.payload);\nvar t =num*1;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 1220,
        "wires": [
            []
        ]
    },
    {
        "id": "7b431300.af2e5c",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi1",
        "func": "var num = Number(msg.payload);\nvar t =num*1;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "99f3a8d9.038448",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi10",
        "func": "var num = Number(msg.payload);\nvar t =num*10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "49319557.b98e4c",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi",
        "func": "var num = Number(msg.payload);\nvar t =num*1;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "3628cf2b.a0b9f",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi10",
        "func": "var num = Number(msg.payload);\nvar t =num*10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "8b6b2519.377d78",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "multi10",
        "func": "var num = Number(msg.payload);\nvar t =num*10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "e403966.f8db668",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "mult10",
        "func": "var num = Number(msg.payload);\nvar t =num*10;\nmsg.payload = t;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 980,
        "wires": [
            []
        ]
    },
    {
        "id": "95e3521f.f0fad",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 120,
        "y": 840,
        "wires": [
            [
                "ecc03d3b.5a573"
            ]
        ]
    },
    {
        "id": "8573c5a.af47838",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "434ceb53.5206e4",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Load RPM",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1150,
        "y": 480,
        "wires": []
    },
    {
        "id": "b14f0a52.da64e8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "msg.payload = msg.payload/global.get(\"gearratio\");\nflow.set(\"loadrpm\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 460,
        "wires": [
            [
                "8573c5a.af47838"
            ]
        ]
    },
    {
        "id": "6803a0a2.3e0e1",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "",
        "pauseType": "rate",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "hour",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 900,
        "y": 600,
        "wires": [
            [
                "7159f8d3.53fe68"
            ]
        ]
    },
    {
        "id": "22739cc9.67e9f4",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "torque",
        "info": "",
        "x": 1130,
        "y": 1740,
        "wires": []
    },
    {
        "id": "3ffd3adf.96ffc6",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "434ceb53.5206e4",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Load Torque ft-lbs",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1030,
        "y": 1800,
        "wires": []
    },
    {
        "id": "9251a607.5109c",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 2180,
        "wires": [
            [
                "ec9e71e8.8842e"
            ]
        ]
    },
    {
        "id": "ec9e71e8.8842e",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "modify chart options",
        "func": "var a1scale = global.get(\"a1scale\");\n//let gridcolors = ['rgba(255, 160, 0, 0.3)']\nmsg.ui_control = {\n    options: {\n        legend: {\n            display: false\n        },\n        tooltips: {\n            enabled: false\n        },\n        scales: {\n            xAxes: [{\n                type: 'linear',\n                id: 'custom-x-axis',\n                position:'bottom',\n                padding:100,\n                gridLines:{\n                   // color:gridcolors,\n                  //  zeroLineColor:'rgba(123, 113, 113, 0.75)',\n                  //  tickMarkLength:7,\n                    drawTicks:false\n                },\n                ticks: {\n                   // fontColor:\"#ccc\",\n                    max: 60,\n                    min: 0,\n                    stepSize: 10\n                   \n                }\n            }],\n            yAxes: [{\n                id: 'custom-y-axis',\n                \n                gridLines:{\n                   // color:gridcolors,\n                 //   zeroLineColor:'rgba(123, 113, 113, 0.75)',\n                 //   tickMarkLength:5,\n                    drawTicks:false\n                },\n                ticks: {\n                   // fontColor:\"#ccc\",\n                    max: a1scale,\n                    min: 0,\n                    stepSize: 10\n                }\n            }]\n       }\n    }\n}\ndelete msg.payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 2180,
        "wires": [
            [
                "1c074fed.87a21"
            ]
        ]
    },
    {
        "id": "4b12c7f1.3425a8",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "data",
        "func": "var data = {};\nvar freqout = msg.payload;\nvar a1 = global.get(\"a1\");\n\nfreqout = freqout;\ndata.x = freqout;\ndata.y = a1;\n\n// var data = [\n//    {x:20,y:5},\n//    {x:25,y:12},\n//    {x:30,y:17},\n//    {x:35,y:25},\n//    {x:40,y:32},\n//    {x:45,y:47},\n//    {x:50,y:50},\n//    {x:55,y:50},\n //   {x:60,y:48}\n//];\nnode.status(freqout + \" \" + a1);\nmsg.payload = data;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 2140,
        "wires": [
            [
                "2fa4e624.e3390a"
            ]
        ]
    },
    {
        "id": "7cdddd29.83fe54",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "Flow vs HZ",
        "info": "",
        "x": 250,
        "y": 2120,
        "wires": []
    },
    {
        "id": "db92204a.92ba2",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 170,
        "y": 280,
        "wires": [
            [
                "885adf9a.e7f08"
            ]
        ]
    },
    {
        "id": "fc779c72.c04e7",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 180,
        "y": 320,
        "wires": [
            [
                "885adf9a.e7f08"
            ]
        ]
    },
    {
        "id": "16e651f6.43c3fe",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "460",
        "payloadType": "num",
        "x": 170,
        "y": 420,
        "wires": [
            [
                "ecc03d3b.5a573"
            ]
        ]
    },
    {
        "id": "1c074fed.87a21",
        "type": "ui_chart",
        "z": "6157092d.8b7638",
        "name": "",
        "group": "11470e18.a0a922",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "GPM vs HZ",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "100",
        "removeOlder": 1,
        "removeOlderPoints": "100",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 770,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "184f5672.4ff45a",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "10",
        "payloadType": "num",
        "x": 190,
        "y": 2280,
        "wires": [
            [
                "4b12c7f1.3425a8"
            ]
        ]
    },
    {
        "id": "2fa4e624.e3390a",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "data collection",
        "func": "//context.set('data', null)\nvar data = context.get('data') || []\n\nif(data.length == 0){\n    data.push(msg.payload)\n}\nelse{\n    var idx = data.findIndex( element => element.x == msg.payload.x)\n    if(idx == -1){\n        //x-axis value does not exist. create new datapoint\n        data.push(msg.payload)\n        // sort data as  x-axis values must be in linear order\n        data.sort((a, b) => a.x - b.x);\n    }\n    else{\n        //x-axis value exist. update y value for that datapoint\n        data[idx].y = msg.payload.y\n    }\n}\n\n\ncontext.set('data',data)\n\n\n\nmsg.payload = [{\n    \"series\": [\"A\"],\n    \"xAxisID\": 'custom-x-axis',\n    \"yAxisID\": 'custom-y-axis',\n    \"data\": [data],\n    \"labels\": [\"\"]\n}]\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 2140,
        "wires": [
            [
                "1c074fed.87a21"
            ]
        ]
    },
    {
        "id": "6f19b106.32364",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "random data",
        "func": "var data = {}\ndata.x= Math.floor(Math.random()*60)\ndata.y = ((Math.random()*40)-20) - (data.x*0.2)\n\nmsg.payload = data\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 170,
        "y": 2340,
        "wires": [
            []
        ]
    },
    {
        "id": "8b836dcd.b6c2f",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "",
        "info": "",
        "x": 150,
        "y": 2240,
        "wires": []
    },
    {
        "id": "b487d048.141ef",
        "type": "ui_led",
        "z": "6157092d.8b7638",
        "order": 10,
        "group": "fd4cbea3.6101d",
        "width": 0,
        "height": 0,
        "label": "VFD Run Command",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "vfd cmd",
        "x": 540,
        "y": 2040,
        "wires": []
    },
    {
        "id": "b385cf6759171669",
        "type": "ui_template",
        "z": "6157092d.8b7638",
        "group": "fd4cbea3.6101d",
        "name": "ampsfreq",
        "order": 11,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .table\n{\nwidth:300px;\nbackground:transparent!important; //color:transparent!important\nborder:1px white;\n//font-size:10px;\n}\n.main\n{\nheight:20px;\n\n}\n</style>\n<div class=\"main\">\n    <table class=\"table\">\n        <tr ng-repeat = \"payload in msg.payload\"><td ng-repeat =\"(key,value) in payload\">{{key}}: {{value}}</td></tr>\n\n    </table>\n    \n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 520,
        "y": 2400,
        "wires": [
            []
        ]
    },
    {
        "id": "807a9548310a467e",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 190,
        "y": 2420,
        "wires": [
            [
                "9ce5ce3e0aa62c6d"
            ]
        ]
    },
    {
        "id": "9ce5ce3e0aa62c6d",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var mtramps = flow.get(\"mtramps\");\nvar freqout = flow.get(\"freqout\");\nvar payload=[];\nvar obj={\"Motor Amps\":mtramps,\"Frequency\":freqout};\npayload.push(obj);\n//obj={\"Flow\":30,\"Eff.\":88};\n//payload.push(obj);\nmsg.payload=payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 2400,
        "wires": [
            [
                "b385cf6759171669"
            ]
        ]
    },
    {
        "id": "0250872a75c406f0",
        "type": "link out",
        "z": "6157092d.8b7638",
        "name": "vfdalarm",
        "links": [
            "e8d8b60f866991e9"
        ],
        "x": 1835,
        "y": 600,
        "wires": []
    },
    {
        "id": "f26d4fe76137f2ed",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 590,
        "y": 360,
        "wires": [
            [
                "885adf9a.e7f08"
            ]
        ]
    },
    {
        "id": "aa5037af15137221",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "OL Startup Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 510,
        "y": 2520,
        "wires": [
            [
                "f841db07bb6cafbf"
            ]
        ]
    },
    {
        "id": "12898e325c8919cb",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"olsd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"olsd\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2520,
        "wires": [
            [
                "aa5037af15137221"
            ]
        ]
    },
    {
        "id": "f841db07bb6cafbf",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "flow.set(\"olsd\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2520,
        "wires": [
            []
        ]
    },
    {
        "id": "0ec7688252e9ea47",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "ol ul Startup delays",
        "info": "",
        "x": 530,
        "y": 2480,
        "wires": []
    },
    {
        "id": "a6c6e52319cec866",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 2520,
        "wires": [
            [
                "12898e325c8919cb",
                "31864016cbb506da"
            ]
        ]
    },
    {
        "id": "8bea1acf63aa3569",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "UL Startup Delay",
        "pauseType": "delayv",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 510,
        "y": 2560,
        "wires": [
            [
                "4cac085331e15998"
            ]
        ]
    },
    {
        "id": "31864016cbb506da",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var vfdrun = global.get(\"vfdrun\");\nif (vfdrun == 1) {msg.payload = 1; \nmsg.delay = global.get(\"ulsd\") * 1000;\nreturn msg;}\n\nif (vfdrun == 0 ){\n    flow.set(\"ulsd\", 0);\n    \n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 2560,
        "wires": [
            [
                "8bea1acf63aa3569"
            ]
        ]
    },
    {
        "id": "4cac085331e15998",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "flow.set(\"ulsd\", 1);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2560,
        "wires": [
            []
        ]
    },
    {
        "id": "f483f50b890f67a7",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "motor amps freq on home",
        "info": "",
        "x": 440,
        "y": 2360,
        "wires": []
    },
    {
        "id": "dac077484dda3e55",
        "type": "link out",
        "z": "6157092d.8b7638",
        "name": "freqout",
        "links": [
            "6369afea5edb4f24"
        ],
        "x": 815,
        "y": 340,
        "wires": []
    },
    {
        "id": "69f763474aa50c6e",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "flow resets",
        "func": "flow.set(\"freqout\", 0);\nflow.set(\"amps\", 0);\nflow.set(\"mtramps\", 0);\nflow.set(\"loadrpm\", 0);\nflow.set(\"rpm\", 0);\nflow.set(\"tcperr\", false);\nflow.set(\"tcperrstored\", false);\nmsg.payload = \"No Comm\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1520,
        "wires": [
            [
                "a3a993d2.19762"
            ]
        ]
    },
    {
        "id": "f64ce8e500b378cb",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "powerup",
        "info": "",
        "x": 140,
        "y": 1420,
        "wires": []
    },
    {
        "id": "d87bd536f6d7b068",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "2000",
        "payloadType": "num",
        "x": 150,
        "y": 580,
        "wires": [
            [
                "a5eac720.71ffe8"
            ]
        ]
    },
    {
        "id": "299450e49f038fd1",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "add vfd restart here",
        "info": "",
        "x": 1110,
        "y": 240,
        "wires": []
    },
    {
        "id": "10ad1f74880b06b1",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var restartdelay;\nrestartdelay = global.get(\"vfdrestartdelay\")* 60000;\n global.set(\"restarttime\",restartdelay/60000);\nif (restartdelay > 0){global.set(\"restart\", 1);\n}\n\nvar date\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nvar flt = flow.get(\"vfdflt\");\nif (!flt){msg.payload = date + \", \" + global.get(\"vfdfaulttext\"); \nflow.set(\"vfdflt\", true); global.set(\"lastalm\", msg.payload); node.status(msg.payload);\nreturn msg;}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 280,
        "wires": [
            [
                "0250872a75c406f0"
            ]
        ]
    },
    {
        "id": "f9d5857a274b057b",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "global.set(\"npamps\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 1420,
        "wires": [
            []
        ]
    },
    {
        "id": "c0aeb77a8c802648",
        "type": "debug",
        "z": "6157092d.8b7638",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 2700,
        "wires": []
    },
    {
        "id": "5a26b32448e27062",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "tcperror",
        "func": "var tcperr = flow.get(\"tcperr\");\nnode.status(tcperr)\nif (!tcperr) {flow.set(\"tcperr\", true);\nnode.status(tcperr);\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n\nmsg.payload = date + \",\" + \" Modbus TCP Error\";\n\nreturn msg;\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 2700,
        "wires": [
            [
                "c0aeb77a8c802648",
                "a34511caf5deb06c"
            ]
        ]
    },
    {
        "id": "74299173533cf63f",
        "type": "catch",
        "z": "6157092d.8b7638",
        "name": "TCP error",
        "scope": [
            "d0b8d3d2.12bed"
        ],
        "uncaught": false,
        "x": 180,
        "y": 2820,
        "wires": [
            [
                "c0aeb77a8c802648"
            ]
        ]
    },
    {
        "id": "4d970b61fcda0ab8",
        "type": "comment",
        "z": "6157092d.8b7638",
        "name": "TCP Error to Inputs",
        "info": "",
        "x": 570,
        "y": 2660,
        "wires": []
    },
    {
        "id": "37d78749dbfeb383",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 400,
        "y": 2820,
        "wires": [
            []
        ]
    },
    {
        "id": "519b4c1ead76ee18",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "var tcperr = flow.get(\"tcperr\");\nvar tcperrstored = flow.get(\"tcperrstored\");\n\nnode.status(tcperr)\nif (tcperr && !tcperrstored) {flow.set(\"tcperrstored\", true);\ndate = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nnode.status(tcperr); \nmsg.payload = date + \",\" + \" Modbus TCP Error\";\nreturn msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 2760,
        "wires": [
            []
        ]
    },
    {
        "id": "a34511caf5deb06c",
        "type": "link out",
        "z": "6157092d.8b7638",
        "name": "tcperr",
        "links": [
            "a3a26eb4ee924f18"
        ],
        "x": 435,
        "y": 2660,
        "wires": []
    },
    {
        "id": "c90f901dfcac3be0",
        "type": "ui_led",
        "z": "6157092d.8b7638",
        "order": 7,
        "group": "ce23d109.da42a",
        "width": 0,
        "height": 0,
        "label": "TCP Comm Mode",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "0",
                "valueType": "num"
            },
            {
                "color": "#008000",
                "value": "1",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": false,
        "name": "TCP Comm Mode",
        "x": 1070,
        "y": 1640,
        "wires": []
    },
    {
        "id": "1ea8dbb761f3b2a1",
        "type": "ui_slider",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "Amps_Output_Test",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 17,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": 0,
        "max": "200",
        "step": "0.01",
        "className": "",
        "x": 120,
        "y": 760,
        "wires": [
            [
                "e18de3aa45e0c29f"
            ]
        ]
    },
    {
        "id": "e18de3aa45e0c29f",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "if (global.get(\"vfdrun\") == 1)\n{msg.payload = msg.payload*100;}\nelse {msg.payload = 0;}\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 150,
        "y": 800,
        "wires": [
            [
                "7cfb7da2.410704"
            ]
        ]
    },
    {
        "id": "07e6eb79640a087a",
        "type": "ui_slider",
        "z": "6157092d.8b7638",
        "name": "",
        "label": "VFD_Volts_Output_Test",
        "tooltip": "",
        "group": "fd4cbea3.6101d",
        "order": 18,
        "width": 0,
        "height": 0,
        "passthru": true,
        "outs": "all",
        "topic": "",
        "topicType": "str",
        "min": 0,
        "max": "480",
        "step": 1,
        "className": "",
        "x": 140,
        "y": 960,
        "wires": [
            [
                "ab86ba642f3e80a4"
            ]
        ]
    },
    {
        "id": "ab86ba642f3e80a4",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "if (global.get(\"vfdrun\") == 1) { msg.payload = msg.payload * 10; }\nelse { msg.payload = 0; }\nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 1000,
        "wires": [
            [
                "d5efb225.3300e"
            ]
        ]
    },
    {
        "id": "dd7fdafa96e20341",
        "type": "ui_text",
        "z": "6157092d.8b7638",
        "group": "434ceb53.5206e4",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "volts@mtr",
        "label": "Volts @ Motor",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 1280,
        "y": 900,
        "wires": []
    },
    {
        "id": "0d997b3d96b15778",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "msg.payload = msg.payload/100;\nvar maxfreq = global.get(\"maxfreq\");\nif(msg.payload > maxfreq){msg.payload = maxfreq;}\nvar minfreq = global.get(\"minfreq\");\nif(msg.payload < minfreq){msg.payload = minfreq;}\nmsg.payload = msg.payload*100\nif (global.get(\"vfdrun\") == 1) { msg.payload = msg.payload; }\nelse { msg.payload = 0; }\nif (global.get(\"pidon\")){msg.payload = global.get(\"pidout\")*0.6*100}\nmsg.payload = Math.round(msg.payload *10)/10\nif (global.get(\"vfdrun\") == 0) {msg.payload = 0};\nnode.status(msg.payload);\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 120,
        "y": 1320,
        "wires": [
            [
                "9dfe6370.d9919"
            ]
        ]
    },
    {
        "id": "36c7380208356b25",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "ol trip delay",
        "pauseType": "delayv",
        "timeout": "0",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1530,
        "y": 780,
        "wires": [
            [
                "4d40d207.e48dac"
            ]
        ]
    },
    {
        "id": "5f7477a57e0986d4",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "ul trip delay",
        "pauseType": "delayv",
        "timeout": "0",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1530,
        "y": 840,
        "wires": [
            [
                "4d40d207.e48dac"
            ]
        ]
    },
    {
        "id": "3a4361842e07db78",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "if (msg == null){}else{\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 840,
        "wires": [
            [
                "5f7477a57e0986d4"
            ]
        ]
    },
    {
        "id": "191c042717ce4936",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "if (msg == null){}else{node.status(msg.payload);\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1380,
        "y": 800,
        "wires": [
            [
                "36c7380208356b25"
            ]
        ]
    },
    {
        "id": "31c085d6ade480f3",
        "type": "ui_chart",
        "z": "6157092d.8b7638",
        "name": "",
        "group": "820af12a.cbee8",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Motor Amps",
        "chartType": "line",
        "legend": "false",
        "xformat": "auto",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "0",
        "ymax": "1000",
        "removeOlder": "2",
        "removeOlderPoints": "1000",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1590,
        "y": 660,
        "wires": [
            [
                "bd81a2a00fee4153"
            ]
        ]
    },
    {
        "id": "378b4d5a6ccf9b8b",
        "type": "delay",
        "z": "6157092d.8b7638",
        "name": "",
        "pauseType": "rate",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "10",
        "nbRateUnits": "1",
        "rateUnits": "minute",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "allowrate": true,
        "outputs": 1,
        "x": 1400,
        "y": 660,
        "wires": [
            [
                "31c085d6ade480f3"
            ]
        ]
    },
    {
        "id": "0fdded57817c45e9",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "msg.payload = flow.get(\"mtramps\");\nmsg.topic = \"Motor Amps\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1370,
        "y": 600,
        "wires": [
            [
                "378b4d5a6ccf9b8b"
            ]
        ]
    },
    {
        "id": "821c6d789c1982c5",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "2",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "date",
        "x": 1340,
        "y": 540,
        "wires": [
            [
                "0fdded57817c45e9",
                "548843e6915ffb27"
            ]
        ]
    },
    {
        "id": "548843e6915ffb27",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "",
        "func": "msg.payload = null;\nvar num = global.get(\"npamps\");\nvar hihi = Number(global.get(\"ollimit\"));\nvar lolo = Number(global.get(\"ullimit\"));\nvar min = global.get(\"a0min\");\n\nvar t =num;\nmsg.payload ={\n    \"min\": min,\n    \"max\": t,\n    \"ymax\": t+5,\n    \"ymin\": min,\n    \"seg1\": lolo,\n    \"seg2\": hihi\n};\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 480,
        "wires": [
            [
                "36ab65471c2922de"
            ]
        ]
    },
    {
        "id": "36ab65471c2922de",
        "type": "change",
        "z": "6157092d.8b7638",
        "name": "",
        "rules": [
            {
                "t": "move",
                "p": "payload",
                "pt": "msg",
                "to": "ui_control",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 480,
        "wires": [
            [
                "31c085d6ade480f3"
            ]
        ]
    },
    {
        "id": "bd81a2a00fee4153",
        "type": "persist in",
        "z": "6157092d.8b7638",
        "name": "amps",
        "storageNode": "3534251d8384025c",
        "x": 1620,
        "y": 720,
        "wires": []
    },
    {
        "id": "ec500e5b204c494e",
        "type": "persist out",
        "z": "6157092d.8b7638",
        "name": "amps",
        "storageNode": "3534251d8384025c",
        "x": 1360,
        "y": 720,
        "wires": [
            [
                "31c085d6ade480f3"
            ]
        ]
    },
    {
        "id": "eb2ea173848eb60e",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "520",
        "payloadType": "num",
        "x": 90,
        "y": 700,
        "wires": [
            [
                "a800e711.601cf8"
            ]
        ]
    },
    {
        "id": "8835b12364a6d7a8",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "69",
        "payloadType": "num",
        "x": 130,
        "y": 660,
        "wires": [
            [
                "1b1fa24f.b385ae"
            ]
        ]
    },
    {
        "id": "c6c2c8a893095cec",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 500,
        "wires": [
            [
                "5808a58df01d027d"
            ]
        ]
    },
    {
        "id": "5808a58df01d027d",
        "type": "function",
        "z": "6157092d.8b7638",
        "name": "function 3",
        "func": "if (global.get(\"vfdrun\") == 0) {\n    msg.payload = 0; return msg;\n }\n\nnode.status(msg.payload);\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 460,
        "wires": [
            [
                "d5efb225.3300e",
                "7cfb7da2.410704"
            ]
        ]
    },
    {
        "id": "74b46b0607136cc8",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "9b49d92bdc153f85",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "Demo",
        "payloadType": "str",
        "x": 190,
        "y": 560,
        "wires": [
            [
                "88b4378d.97c858"
            ]
        ]
    },
    {
        "id": "cb17d422e2da835b",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "35716a4ebbbc44ca",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 190,
        "y": 1700,
        "wires": [
            [
                "c90f901dfcac3be0"
            ]
        ]
    },
    {
        "id": "9fa982962017b8c1",
        "type": "inject",
        "z": "6157092d.8b7638",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 170,
        "y": 1740,
        "wires": [
            [
                "c90f901dfcac3be0"
            ]
        ]
    },
    {
        "id": "804a3297.4fd92",
        "type": "file in",
        "z": "453d3af3.ea4724",
        "name": "",
        "filename": "/data/docs/alms.csv",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 420,
        "y": 100,
        "wires": [
            [
                "d3eab888.22b2e8"
            ]
        ]
    },
    {
        "id": "e5538d37.2534b",
        "type": "ui_button",
        "z": "453d3af3.ea4724",
        "d": true,
        "name": "",
        "group": "8d058cd6.60efd",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Read Log",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 120,
        "y": 100,
        "wires": [
            [
                "804a3297.4fd92"
            ]
        ]
    },
    {
        "id": "8362ce3b.1c8d2",
        "type": "ui_template",
        "z": "453d3af3.ea4724",
        "group": "8d058cd6.60efd",
        "name": "",
        "order": 6,
        "width": "0",
        "height": "0",
        "format": "<style>\n    #mylog {\n        min-height: 300px;\n        padding: 0;\n        background-color: transparent!important;\n        white-space: pre;\n        color:var(--nr-dashboard-widgetTextColor);\n    }\n</style>\n<div layout=\"row\" layout-align=\"start center\">\n  <span flex>Date Time</span>\n  <span flex>Description</span>\n  \n</div>\n<div id=\"mylog\" ng-bind=\"msg.payload\" contenteditable=\"true\"></div>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1120,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "28e96686.0448ea",
        "type": "change",
        "z": "453d3af3.ea4724",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\\n",
                "fromt": "str",
                "to": "<br />",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 100,
        "wires": [
            [
                "8362ce3b.1c8d2"
            ]
        ]
    },
    {
        "id": "e64f7569.3560c8",
        "type": "csv",
        "z": "453d3af3.ea4724",
        "name": "",
        "sep": ",",
        "hdrin": false,
        "hdrout": "none",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "include_empty_strings": false,
        "include_null_values": false,
        "x": 590,
        "y": 300,
        "wires": [
            [
                "910b88d.4430078"
            ]
        ]
    },
    {
        "id": "910b88d.4430078",
        "type": "ui_template",
        "z": "453d3af3.ea4724",
        "group": "8d058cd6.60efd",
        "name": "CSS: ui-table",
        "order": 2,
        "width": "0",
        "height": "0",
        "format": "<style>\n\n  .tabulator{padding-left:2px;border:1px solid #000;background-color:#202529;font-size:17px}\n  \n  .tabulator .tabulator-header{border-bottom:0px solid #000;background-color:#202529}\n  .tabulator-col-content{background-color:#202529;height:37px}\n\n  .tabulator-row{min-height:31px;background-color:#181c1f}\n  .tabulator-row:nth-child(2n){background-color:#202529}\n\n  .tabulator-row .tabulator-cell{border-right:0px solid #888}\n  .tabulator .tabulator-header .tabulator-col{border-right:0px solid #aaa}\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 730,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "d3eab888.22b2e8",
        "type": "function",
        "z": "453d3af3.ea4724",
        "name": "",
        "func": "\nvar data = msg.payload;\ndata=data.toString().split('\\n');\nvar revdata= [];\nvar i;\nvar res=data.length;\nfor (let i = 1; i < res; i++) {revdata[res-i-1] = data[i-1]}\nmsg.payload = \"\";\nfor (let i = 0; i < res-1; i++) {msg.payload = msg.payload + revdata[i] + '\\n'}\n\nnode.status(res);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 100,
        "wires": [
            [
                "28e96686.0448ea",
                "39ba0e16.ebcbc2",
                "28ad48450fd23171"
            ]
        ]
    },
    {
        "id": "c6076dfe.52f3c",
        "type": "exec",
        "z": "453d3af3.ea4724",
        "command": "sudo rm -r /data/docs/alms.csv",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 510,
        "y": 420,
        "wires": [
            [
                "d8d6d504.f113f8"
            ],
            [
                "d8d6d504.f113f8"
            ],
            [
                "d8d6d504.f113f8"
            ]
        ]
    },
    {
        "id": "9cb560ef.d6c91",
        "type": "inject",
        "z": "453d3af3.ea4724",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 420,
        "wires": [
            [
                "c6076dfe.52f3c"
            ]
        ]
    },
    {
        "id": "d8d6d504.f113f8",
        "type": "debug",
        "z": "453d3af3.ea4724",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 850,
        "y": 420,
        "wires": []
    },
    {
        "id": "416b7c0a.d06c44",
        "type": "comment",
        "z": "453d3af3.ea4724",
        "name": "Delete Data File",
        "info": "",
        "x": 500,
        "y": 380,
        "wires": []
    },
    {
        "id": "f1c1a4d1.06c078",
        "type": "ui_button",
        "z": "453d3af3.ea4724",
        "d": true,
        "name": "",
        "group": "8d058cd6.60efd",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Delete Alarm Log",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 270,
        "y": 480,
        "wires": [
            [
                "c6076dfe.52f3c",
                "16df490.e8071b7",
                "f402ba8b.44c0a8"
            ]
        ]
    },
    {
        "id": "16df490.e8071b7",
        "type": "function",
        "z": "453d3af3.ea4724",
        "name": "",
        "func": "msg.payload = \" \";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 180,
        "wires": [
            [
                "8362ce3b.1c8d2"
            ]
        ]
    },
    {
        "id": "6ff1ad11.cb8a44",
        "type": "inject",
        "z": "453d3af3.ea4724",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 160,
        "wires": [
            [
                "804a3297.4fd92"
            ]
        ]
    },
    {
        "id": "f402ba8b.44c0a8",
        "type": "function",
        "z": "453d3af3.ea4724",
        "name": "",
        "func": "global.set(\"almcount\", 0);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "39ba0e16.ebcbc2",
        "type": "delay",
        "z": "453d3af3.ea4724",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 180,
        "y": 260,
        "wires": [
            [
                "70c3ae3c.d1585"
            ]
        ]
    },
    {
        "id": "70c3ae3c.d1585",
        "type": "function",
        "z": "453d3af3.ea4724",
        "name": "",
        "func": "msg.payload = 1;\nvar almcount = global.get(\"almcount\");\nif (almcount > 50){global.set(\"almcount\", 0);\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 280,
        "wires": [
            [
                "c6076dfe.52f3c",
                "16df490.e8071b7"
            ]
        ]
    },
    {
        "id": "6799536e.06887c",
        "type": "inject",
        "z": "453d3af3.ea4724",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 230,
        "y": 560,
        "wires": [
            [
                "62badb9.55c8324"
            ]
        ]
    },
    {
        "id": "62badb9.55c8324",
        "type": "function",
        "z": "453d3af3.ea4724",
        "name": "",
        "func": "var cnt = global.get(\"almcount\");\nmsg.payload = cnt;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 560,
        "wires": [
            [
                "bd3ca1a4.75348"
            ]
        ]
    },
    {
        "id": "bd3ca1a4.75348",
        "type": "ui_text",
        "z": "453d3af3.ea4724",
        "group": "8d058cd6.60efd",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Log Count",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "x": 670,
        "y": 540,
        "wires": []
    },
    {
        "id": "b7ae25d9.c3c358",
        "type": "comment",
        "z": "453d3af3.ea4724",
        "name": "Delete after 50 entries",
        "info": "",
        "x": 360,
        "y": 220,
        "wires": []
    },
    {
        "id": "a8c2985e.d23ad8",
        "type": "ui_template",
        "z": "453d3af3.ea4724",
        "group": "8d058cd6.60efd",
        "name": "ui_temlplate - present download links on dashboard",
        "order": 10,
        "width": 0,
        "height": 0,
        "format": "<script type=\"text/javascript\">\n\n</script>\n\n<style>\n.button { \n         background-color: transparent!important;\n         padding: 8px 16px;\n         display: inline-block;\n         text-decoration: none;\n         color: var(--nr-dashboard-widgetTextColor);\n         border-radius: 3px;\n}\n.button:hover{ background-color: #0066FF;}\n</style>\n\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\" >\n       <i class=\"material-icons\" >\n           <span style=\"color:{{msg.payload.perm}}\">get_app</span>\n           </i>\n           <a href=\"/alms.csv\" class=\"button \">Download Alarm Log</a>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 410,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "bd3910af.f7be9",
        "type": "comment",
        "z": "453d3af3.ea4724",
        "name": "Download File Change  IP",
        "info": "",
        "x": 340,
        "y": 640,
        "wires": []
    },
    {
        "id": "a1aedbc9153c46e6",
        "type": "function",
        "z": "453d3af3.ea4724",
        "name": "",
        "func": "var date;\nvar logcount = global.get(\"almcount\");\nif (logcount > 50){\n\ndate = new Date();\ndate = (date.getFullYear() + \"_\" + ('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2));\n\nmsg.filename = \"/data/docs/almslog\" + date + \".csv\";\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 240,
        "wires": [
            [
                "f854a6bf9406589b"
            ]
        ]
    },
    {
        "id": "f854a6bf9406589b",
        "type": "file",
        "z": "453d3af3.ea4724",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1110,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "28ad48450fd23171",
        "type": "delay",
        "z": "453d3af3.ea4724",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 790,
        "y": 240,
        "wires": [
            [
                "a1aedbc9153c46e6"
            ]
        ]
    },
    {
        "id": "61c43b0a736c049e",
        "type": "comment",
        "z": "453d3af3.ea4724",
        "name": "Create Old Logs",
        "info": "",
        "x": 870,
        "y": 200,
        "wires": []
    },
    {
        "id": "fbb0d15a9ae8cc8a",
        "type": "link in",
        "z": "453d3af3.ea4724",
        "name": "AlmLog",
        "links": [
            "b8c59ff05db4d998"
        ],
        "x": 155,
        "y": 40,
        "wires": [
            [
                "2e716841c40dd5cf"
            ]
        ]
    },
    {
        "id": "2e716841c40dd5cf",
        "type": "delay",
        "z": "453d3af3.ea4724",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 280,
        "y": 40,
        "wires": [
            [
                "804a3297.4fd92"
            ]
        ]
    },
    {
        "id": "acb85365.7ce97",
        "type": "file in",
        "z": "8f6b533a.841f4",
        "name": "",
        "filename": "/data/docs/startstoplog.csv",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 450,
        "y": 460,
        "wires": [
            [
                "f281c066.fcd96"
            ]
        ]
    },
    {
        "id": "2ec30aa5.685056",
        "type": "ui_button",
        "z": "8f6b533a.841f4",
        "d": true,
        "name": "",
        "group": "ec47f52b.c79ae8",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Read Log",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 100,
        "y": 460,
        "wires": [
            [
                "acb85365.7ce97"
            ]
        ]
    },
    {
        "id": "b505d13.4b3b63",
        "type": "ui_template",
        "z": "8f6b533a.841f4",
        "group": "ec47f52b.c79ae8",
        "name": "",
        "order": 6,
        "width": "0",
        "height": "0",
        "format": "<style>\n    #mylog {\n        min-height: 300px;\n        padding: 0;\n        background-color: transparent!important;\n        white-space: pre;\n        color:var(--nr-dashboard-widgetTextColor);\n    }\n</style>\n<div layout=\"row\" layout-align=\"start center\">\n  <span flex>Date Time</span>\n  <span flex>Description</span>\n  \n</div>\n<div id=\"mylog\" ng-bind=\"msg.payload\" contenteditable=\"true\"></div>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1100,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "d4201de3.92911",
        "type": "change",
        "z": "8f6b533a.841f4",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\\n",
                "fromt": "str",
                "to": "<br />",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 460,
        "wires": [
            [
                "b505d13.4b3b63"
            ]
        ]
    },
    {
        "id": "f281c066.fcd96",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "\nvar data = msg.payload;\ndata=data.toString().split('\\n');\nvar revdata= [];\nvar i;\nvar res=data.length;\nfor (let i = 1; i < res; i++) {revdata[res-i-1] = data[i-1]}\nmsg.payload = \"\";\nfor (let i = 0; i < res-1; i++) {msg.payload = msg.payload + revdata[i] + '\\n'}\n\nnode.status(res);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 460,
        "wires": [
            [
                "d4201de3.92911",
                "3a342341.24598c",
                "5b1dba7a7e8360d7"
            ]
        ]
    },
    {
        "id": "2190c2b6.31719e",
        "type": "exec",
        "z": "8f6b533a.841f4",
        "command": "sudo rm -r /data/docs/startstoplog.csv",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 570,
        "y": 720,
        "wires": [
            [
                "319866fb.b77a4a"
            ],
            [
                "319866fb.b77a4a"
            ],
            [
                "319866fb.b77a4a"
            ]
        ]
    },
    {
        "id": "6d7c0b7d.6d4444",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 720,
        "wires": [
            [
                "2190c2b6.31719e"
            ]
        ]
    },
    {
        "id": "319866fb.b77a4a",
        "type": "debug",
        "z": "8f6b533a.841f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 890,
        "y": 720,
        "wires": []
    },
    {
        "id": "7909984c.62adc8",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Delete Data File",
        "info": "",
        "x": 540,
        "y": 660,
        "wires": []
    },
    {
        "id": "3aa742e5.3288be",
        "type": "ui_button",
        "z": "8f6b533a.841f4",
        "d": true,
        "name": "",
        "group": "ec47f52b.c79ae8",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Delete Start/Stop Log",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 260,
        "y": 780,
        "wires": [
            [
                "2190c2b6.31719e",
                "c2ab4d02.48c19",
                "7f2d28b1.e1bfc8"
            ]
        ]
    },
    {
        "id": "c2ab4d02.48c19",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \" \";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 600,
        "wires": [
            [
                "b505d13.4b3b63"
            ]
        ]
    },
    {
        "id": "e536003a.8fb1d",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 540,
        "wires": [
            [
                "acb85365.7ce97"
            ]
        ]
    },
    {
        "id": "7f2d28b1.e1bfc8",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "global.set(\"sslogcnt\", 0);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "3a342341.24598c",
        "type": "delay",
        "z": "8f6b533a.841f4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 160,
        "y": 660,
        "wires": [
            [
                "ff924175.173dc"
            ]
        ]
    },
    {
        "id": "ff924175.173dc",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = 1;\nvar sslogcount = global.get(\"sslogcnt\");\nif (sslogcount > 50){global.set(\"sslogcnt\", 0);\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 660,
        "wires": [
            [
                "c2ab4d02.48c19",
                "2190c2b6.31719e"
            ]
        ]
    },
    {
        "id": "a52e5da.45b48a",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 820,
        "wires": [
            [
                "8d1b6ffd.910dc"
            ]
        ]
    },
    {
        "id": "8d1b6ffd.910dc",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "var cnt = global.get(\"sslogcnt\");\nmsg.payload = cnt;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 820,
        "wires": [
            [
                "4406db87.5a1d64"
            ]
        ]
    },
    {
        "id": "4406db87.5a1d64",
        "type": "ui_text",
        "z": "8f6b533a.841f4",
        "group": "ec47f52b.c79ae8",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Start/Stop Log Count",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "x": 600,
        "y": 820,
        "wires": []
    },
    {
        "id": "d3e53436.1de468",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Delete after 50 entries",
        "info": "",
        "x": 300,
        "y": 620,
        "wires": []
    },
    {
        "id": "5d78a995.d8a318",
        "type": "ui_template",
        "z": "8f6b533a.841f4",
        "group": "ec47f52b.c79ae8",
        "name": "ui_temlplate - present download links on dashboard",
        "order": 10,
        "width": 0,
        "height": 0,
        "format": "<script type=\"text/javascript\">\n\n</script>\n\n<style>\n.button { \n         background-color: transparent!important;\n         padding: 8px 16px;\n         display: inline-block;\n         text-decoration: none;\n         color: var(--nr-dashboard-widgetTextColor);\n         border-radius: 3px;\n}\n.button:hover{ background-color: #0066FF;}\n</style>\n\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\">\n       <i class=\"material-icons\" >\n           <span style=\"color:{{msg.payload.perm}}\">get_app</span>\n           </i>\n           <a href=\"/startstoplog.csv\" class=\"button \">Download Start/Stop Log</a>\n</md-button> \n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 450,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "dc9118a4.3cf398",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Download File Change  IP",
        "info": "",
        "x": 400,
        "y": 880,
        "wires": []
    },
    {
        "id": "774e7119.9fd46",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \"Start Pushbutton\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 20,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "d3d3c5f3.18ffa8",
        "type": "file",
        "z": "8f6b533a.841f4",
        "name": "",
        "filename": "/data/docs/startstoplog.csv",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "x": 1110,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "41b8395f.e27428",
        "type": "delay",
        "z": "8f6b533a.841f4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 620,
        "y": 540,
        "wires": [
            [
                "acb85365.7ce97"
            ]
        ]
    },
    {
        "id": "911534ddc06d0ec7",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Events",
        "info": "",
        "x": 270,
        "y": 1020,
        "wires": []
    },
    {
        "id": "11fef965fa1974c7",
        "type": "file in",
        "z": "8f6b533a.841f4",
        "name": "",
        "filename": "/data/docs/eventlog.csv",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 450,
        "y": 1280,
        "wires": [
            [
                "481a07491a9be73c"
            ]
        ]
    },
    {
        "id": "f8d76018f4dc542f",
        "type": "ui_button",
        "z": "8f6b533a.841f4",
        "d": true,
        "name": "",
        "group": "7598912555eb86ef",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Read Log",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 120,
        "y": 1280,
        "wires": [
            [
                "11fef965fa1974c7"
            ]
        ]
    },
    {
        "id": "e9957fa70bc356c5",
        "type": "ui_template",
        "z": "8f6b533a.841f4",
        "group": "7598912555eb86ef",
        "name": "",
        "order": 6,
        "width": "0",
        "height": "0",
        "format": "<style>\n    #mylog {\n        min-height: 300px;\n        padding: 0;\n        background-color: transparent!important;\n        white-space: pre;\n        color: var(--nr-dashboard-widgetTextColor);\n        \n    }\n</style>\n<div layout=\"row\" layout-align=\"start center\">\n  <span flex>Date Time</span>\n  <span flex>Description</span>\n  \n</div>\n<div id=\"mylog\" ng-bind=\"msg.payload\" contenteditable=\"true\"></div>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1120,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "d0c9f76a71970380",
        "type": "change",
        "z": "8f6b533a.841f4",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "\\n",
                "fromt": "str",
                "to": "<br />",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 1280,
        "wires": [
            [
                "e9957fa70bc356c5"
            ]
        ]
    },
    {
        "id": "b75d4a80e602a1f4",
        "type": "debug",
        "z": "8f6b533a.841f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 880,
        "y": 1360,
        "wires": []
    },
    {
        "id": "481a07491a9be73c",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "\nvar data = msg.payload;\ndata=data.toString().split('\\n');\nvar revdata= [];\nvar i;\nvar res=data.length;\nfor (let i = 1; i < res; i++) {revdata[res-i-1] = data[i-1]}\nmsg.payload = \"\";\nfor (let i = 0; i < res-1; i++) {msg.payload = msg.payload + revdata[i] + '\\n'}\n\nnode.status(res);\n//msg.payload = revdata;\n//msg.payload = msg.payload.replace('<br></br>', '/n');\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1280,
        "wires": [
            [
                "d0c9f76a71970380",
                "2153e5a1da9f381e",
                "94cd24495c5a2853"
            ]
        ]
    },
    {
        "id": "7a6fed515f7390b4",
        "type": "exec",
        "z": "8f6b533a.841f4",
        "command": "sudo rm -r /data/docs/eventlog.csv",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 580,
        "y": 1560,
        "wires": [
            [
                "8ab32acdc0b5d31a"
            ],
            [
                "8ab32acdc0b5d31a"
            ],
            [
                "8ab32acdc0b5d31a"
            ]
        ]
    },
    {
        "id": "d7e24e94743648d5",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 320,
        "y": 1560,
        "wires": [
            [
                "7a6fed515f7390b4"
            ]
        ]
    },
    {
        "id": "8ab32acdc0b5d31a",
        "type": "debug",
        "z": "8f6b533a.841f4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 910,
        "y": 1560,
        "wires": []
    },
    {
        "id": "37877d6644b85cc4",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Delete Data File",
        "info": "",
        "x": 560,
        "y": 1500,
        "wires": []
    },
    {
        "id": "782b89086798d4b5",
        "type": "ui_button",
        "z": "8f6b533a.841f4",
        "d": true,
        "name": "",
        "group": "7598912555eb86ef",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Delete Event Log",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 270,
        "y": 1620,
        "wires": [
            [
                "7a6fed515f7390b4",
                "88d7464475af06f9",
                "853c8e50722781db"
            ]
        ]
    },
    {
        "id": "88d7464475af06f9",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \" \";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 1360,
        "wires": [
            [
                "e9957fa70bc356c5"
            ]
        ]
    },
    {
        "id": "c972fc44e894b1f5",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 1340,
        "wires": [
            [
                "11fef965fa1974c7"
            ]
        ]
    },
    {
        "id": "853c8e50722781db",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "global.set(\"eventcnt\", 0);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1640,
        "wires": [
            []
        ]
    },
    {
        "id": "2153e5a1da9f381e",
        "type": "delay",
        "z": "8f6b533a.841f4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 180,
        "y": 1440,
        "wires": [
            [
                "d0e4f80a088f6980"
            ]
        ]
    },
    {
        "id": "d0e4f80a088f6980",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = 1;\nvar logcount = global.get(\"eventcnt\");\nif (logcount > 50){global.set(\"eventcnt\", 0);\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1440,
        "wires": [
            [
                "7a6fed515f7390b4",
                "88d7464475af06f9"
            ]
        ]
    },
    {
        "id": "4eb220cc8acaf1b3",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 1700,
        "wires": [
            [
                "88470795d14f081f"
            ]
        ]
    },
    {
        "id": "88470795d14f081f",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "var cnt = global.get(\"eventcnt\");\nmsg.payload = cnt;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 1700,
        "wires": [
            [
                "833245d7f687dd4b"
            ]
        ]
    },
    {
        "id": "833245d7f687dd4b",
        "type": "ui_text",
        "z": "8f6b533a.841f4",
        "group": "7598912555eb86ef",
        "order": 8,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Event Log Count",
        "format": "{{msg.payload}}",
        "layout": "row-left",
        "x": 750,
        "y": 1680,
        "wires": []
    },
    {
        "id": "1b22cacc9834c972",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Delete after 50 entries",
        "info": "",
        "x": 360,
        "y": 1400,
        "wires": []
    },
    {
        "id": "1e49bdf3c485633b",
        "type": "ui_template",
        "z": "8f6b533a.841f4",
        "group": "7598912555eb86ef",
        "name": "ui_temlplate - present download links on dashboard",
        "order": 10,
        "width": 0,
        "height": 0,
        "format": "<script type=\"text/javascript\">\n\n</script>\n\n<style>\n.button { \n         background-color: transparent!important;\n         padding: 8px 16px;\n         display: inline-block;\n         text-decoration: none;\n         color: var(--nr-dashboard-widgetTextColor);\n         border-radius: 3px;\n}\n.button:hover{ background-color: #0066FF;}\n</style>\n\n<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:transparent!important\" >\n       <i class=\"material-icons\" >\n           <span style=\"color:{{msg.payload.perm}}\">get_app</span>\n           </i>\n           <a href=\"/eventlog.csv\" class=\"button \">Download Event Log</a>\n</md-button> \n\n",
        "storeOutMessages": false,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 480,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "174af49afd970b0e",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \"Reset Pushbutton\";  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1040,
        "wires": [
            [
                "c7b8c86754e17287",
                "4a955bdf07796aa2"
            ]
        ]
    },
    {
        "id": "a28c73b50310c3c4",
        "type": "file",
        "z": "8f6b533a.841f4",
        "name": "",
        "filename": "/data/docs/eventlog.csv",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "x": 1160,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "c7b8c86754e17287",
        "type": "delay",
        "z": "8f6b533a.841f4",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 770,
        "y": 1140,
        "wires": [
            [
                "11fef965fa1974c7"
            ]
        ]
    },
    {
        "id": "909839f7b6f806c5",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "Reset",
        "links": [
            "ef1da7c3f7fc19a3"
        ],
        "x": 415,
        "y": 1040,
        "wires": [
            [
                "174af49afd970b0e"
            ]
        ]
    },
    {
        "id": "091942a99024cbc1",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "Output_2",
        "links": [
            "3bb1d81d4ce45863"
        ],
        "x": 415,
        "y": 1080,
        "wires": [
            [
                "ce567389c0939567"
            ]
        ]
    },
    {
        "id": "ce567389c0939567",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "var name = global.get(\"o2name\");\nmsg.payload = name + \" Pushbutton\";  \nnode.status(msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1080,
        "wires": [
            [
                "4a955bdf07796aa2",
                "c7b8c86754e17287"
            ]
        ]
    },
    {
        "id": "4a955bdf07796aa2",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "\nvar logcnt =global.get(\"eventcnt\");\nvar date = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\n msg.payload = date + \", \" + msg.payload;  \n\nlogcnt = logcnt + 1;\nglobal.set(\"eventcnt\", logcnt);\nnode.status(msg.payload +  logcnt);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 1060,
        "wires": [
            [
                "a28c73b50310c3c4"
            ]
        ]
    },
    {
        "id": "3f9e1c3b68be8de0",
        "type": "inject",
        "z": "8f6b533a.841f4",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 1080,
        "wires": [
            [
                "ce567389c0939567"
            ]
        ]
    },
    {
        "id": "1c5c4737abab203f",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "var date = new Date();\ndate = (('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2) + '-' + date.getFullYear() + ' ' + ('00' + date.getHours()).slice(-2) + ':' + ('00' + date.getMinutes()).slice(-2) + ':' + ('00' + date.getSeconds()).slice(-2));\nvar cnt = global.get(\"sslogcnt\");\ncnt = cnt + 1;\nglobal.set(\"sslogcnt\", cnt);\nmsg.payload = date + \", \" + msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 780,
        "y": 100,
        "wires": [
            [
                "d3d3c5f3.18ffa8",
                "41b8395f.e27428"
            ]
        ]
    },
    {
        "id": "2b9c747b2d143e60",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "startpbevent",
        "links": [
            "b1fc2115238f6ee1"
        ],
        "x": 195,
        "y": 20,
        "wires": [
            [
                "774e7119.9fd46"
            ]
        ]
    },
    {
        "id": "d8e7e18184957064",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "stoppbevent",
        "links": [
            "dcde2fb90fdcbec5"
        ],
        "x": 195,
        "y": 60,
        "wires": [
            [
                "2ad3b0d72bbb802a"
            ]
        ]
    },
    {
        "id": "2ad3b0d72bbb802a",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \"Stop Pushbutton\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 60,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "0aa43399fe52642d",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "if(!msg.payload){msg.payload = \"PID Start\";}else{msg.payload = \"PID Stop\";}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 100,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "db4da646276875a0",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \"Run Hours Reset\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 140,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "7e7091a29cfed40f",
        "type": "rbe",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload",
        "topi": "topic",
        "x": 480,
        "y": 100,
        "wires": [
            [
                "0aa43399fe52642d"
            ]
        ]
    },
    {
        "id": "90dc8cb154ed77a8",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "pidstart/stopevent",
        "links": [
            "5470ecb2a64208f3"
        ],
        "x": 195,
        "y": 100,
        "wires": [
            [
                "5ace8321f1ee99db"
            ]
        ]
    },
    {
        "id": "5ace8321f1ee99db",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "pidon = global.get(\"pidon\");\nif (pidon){\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 100,
        "wires": [
            [
                "7e7091a29cfed40f"
            ]
        ]
    },
    {
        "id": "54f132937a7ac730",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "hoursreset",
        "links": [
            "610299e752b0a3aa"
        ],
        "x": 195,
        "y": 140,
        "wires": [
            [
                "db4da646276875a0"
            ]
        ]
    },
    {
        "id": "c75cf6d8739f8a98",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "autoStart",
        "func": "msg.payload = \"Auto Restart\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 180,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "fb81669a0f5f018e",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "restart",
        "links": [
            "e07be9bb06fe0750"
        ],
        "x": 195,
        "y": 180,
        "wires": [
            [
                "c75cf6d8739f8a98"
            ]
        ]
    },
    {
        "id": "fa73c27c9acdb7c1",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "msg.payload = \"CPU Temperature \" + msg.payload;  \nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1120,
        "wires": [
            [
                "4a955bdf07796aa2",
                "c7b8c86754e17287"
            ]
        ]
    },
    {
        "id": "9be5312a301da8f6",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "cputemp",
        "links": [
            "b43a966c189203bc"
        ],
        "x": 165,
        "y": 1120,
        "wires": [
            [
                "fa73c27c9acdb7c1"
            ]
        ]
    },
    {
        "id": "cdde77ceb7f44582",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "\nvar sslogcount = global.get(\"sslogcnt\");\nif (sslogcount > 50){\n var date = new Date();\ndate = (date.getFullYear() + \"_\" + ('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2));\n\nmsg.filename = \"/data/docs/startstoplog\" + date + \".csv\";\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 220,
        "wires": [
            [
                "43fedf0e3f66f133"
            ]
        ]
    },
    {
        "id": "43fedf0e3f66f133",
        "type": "file",
        "z": "8f6b533a.841f4",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1230,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "5b1dba7a7e8360d7",
        "type": "delay",
        "z": "8f6b533a.841f4",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 910,
        "y": 220,
        "wires": [
            [
                "cdde77ceb7f44582"
            ]
        ]
    },
    {
        "id": "3858fbc62b9b07f6",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Create Old Logs",
        "info": "",
        "x": 990,
        "y": 180,
        "wires": []
    },
    {
        "id": "acc14423c52f4b47",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "",
        "func": "\nvar logcount = global.get(\"eventcnt\");\nif (logcount > 50){\nvar date = new Date();\ndate = (date.getFullYear() + \"_\" + ('00' + (date.getMonth()+1)).slice(-2) + '-' + ('00' + date.getDate()).slice(-2));\n\nmsg.filename = \"/data/docs/eventlog\" + date + \".csv\";\nreturn msg;}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 1200,
        "wires": [
            [
                "e70756a0fd2a84f6"
            ]
        ]
    },
    {
        "id": "e70756a0fd2a84f6",
        "type": "file",
        "z": "8f6b533a.841f4",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 1250,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "94cd24495c5a2853",
        "type": "delay",
        "z": "8f6b533a.841f4",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 930,
        "y": 1200,
        "wires": [
            [
                "acc14423c52f4b47"
            ]
        ]
    },
    {
        "id": "9cdc3fb0b38f5541",
        "type": "comment",
        "z": "8f6b533a.841f4",
        "name": "Create Old Logs",
        "info": "",
        "x": 1010,
        "y": 1160,
        "wires": []
    },
    {
        "id": "993d7272.843ae",
        "type": "fs-file-lister",
        "z": "8f6b533a.841f4",
        "name": "Files",
        "start": "/home/pi",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 390,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "5219875b.c070d8",
        "type": "fs-file-lister",
        "z": "8f6b533a.841f4",
        "name": "Folders",
        "start": "/home/pi",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "directories",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 520,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "9f08cd31f3bf9a3a",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "startinput",
        "links": [
            "b47dd6933e39e533"
        ],
        "x": 195,
        "y": 220,
        "wires": [
            [
                "2e1a056fc0604bd1"
            ]
        ]
    },
    {
        "id": "56beab660f100ce9",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "stopinput",
        "links": [
            "d0040dd563789d25"
        ],
        "x": 195,
        "y": 260,
        "wires": [
            [
                "055b29e79e41d5c7"
            ]
        ]
    },
    {
        "id": "2e1a056fc0604bd1",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "StopInput",
        "func": "msg.payload = \"I0.6 Stop Input\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 220,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "055b29e79e41d5c7",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "StarInput",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 260,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "88e6e29c558162c4",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "Input5",
        "links": [
            "e0e7b4e39adce452"
        ],
        "x": 195,
        "y": 300,
        "wires": [
            [
                "9311f5b2749950ca"
            ]
        ]
    },
    {
        "id": "9311f5b2749950ca",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "Input5",
        "func": "\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 300,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "5fc84865ede13660",
        "type": "link in",
        "z": "8f6b533a.841f4",
        "name": "AnalogCardError",
        "links": [
            "c0df29eb8f414ba2"
        ],
        "x": 195,
        "y": 340,
        "wires": [
            [
                "a6cbdfe4522cfac9"
            ]
        ]
    },
    {
        "id": "a6cbdfe4522cfac9",
        "type": "function",
        "z": "8f6b533a.841f4",
        "name": "AnalogCard err",
        "func": "msg.payload = \"Analog Card Error\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 340,
        "wires": [
            [
                "1c5c4737abab203f"
            ]
        ]
    },
    {
        "id": "4fa73dd9.83cca4",
        "type": "comment",
        "z": "05ac925ad9b07c4a",
        "name": "File Browser",
        "info": "1) Update the default folder in the Init node\n2) Update the default folder in the Reset node as well\n3) You can duplicate the Reset nodes and use them as saved shortcuts\n4) Check the Convert Timestamps function node if you want to see your dates in a different format. I just used the Javascript toISOString format.\n5) The Graph button can read any CSV file which have any number of values, but the first column always contains a timestamp column with javascript timestamp of the data point.",
        "x": 150,
        "y": 60,
        "wires": []
    },
    {
        "id": "d185a45.2327a58",
        "type": "inject",
        "z": "05ac925ad9b07c4a",
        "name": "Init",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "change",
        "payload": "/data/docs",
        "payloadType": "str",
        "x": 150,
        "y": 120,
        "wires": [
            [
                "3d4e5e51.bdf952"
            ]
        ]
    },
    {
        "id": "a715f7a4.a398a8",
        "type": "ui_button",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "refresh",
        "payload": "",
        "payloadType": "str",
        "topic": "refresh",
        "x": 140,
        "y": 160,
        "wires": [
            [
                "3d4e5e51.bdf952"
            ]
        ]
    },
    {
        "id": "eb17c7ee.e61988",
        "type": "ui_dropdown",
        "z": "05ac925ad9b07c4a",
        "name": "File Selector",
        "label": "",
        "tooltip": "",
        "place": "Select a file",
        "group": "160e81fb.f1c86e",
        "order": 9,
        "width": "5",
        "height": "1",
        "passthru": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 950,
        "y": 160,
        "wires": [
            [
                "be4830df.5775d"
            ]
        ]
    },
    {
        "id": "dd88bd23.37cde",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Format data",
        "func": "// format the data for the dropdown\nmsg.options = [];\nfor (var i=0; i<msg.payload.length; i++) {\n    // This is a file\n    obj = {};\n    obj [msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '')]=msg.payload[i].name;\n    msg.options.push(obj);\n}\nmsg.payload={};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 160,
        "wires": [
            [
                "eb17c7ee.e61988"
            ]
        ]
    },
    {
        "id": "638728aa.cd0b08",
        "type": "ui_template",
        "z": "05ac925ad9b07c4a",
        "group": "160e81fb.f1c86e",
        "name": "",
        "order": 6,
        "width": "9",
        "height": "8",
        "format": "<div ng-bind-html=\"msg.payload\" height=\"400\" style=\"height: 400px;\"><br/>\n</div>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1140,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "9d27e846.b31db8",
        "type": "template",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<table width=\"100%\">\n    <tr><th>File Name</th><th>Size</th><th>Created</th><th>Changed</th></tr>\n    {{#payload}}\n        <tr>\n            <td><a href=\"/download?filename={{name}}\" target=\"blank\">{{fname}}</a></td>\n            <td>{{stat.size}}</td>\n            <td>{{stat.created}}</td>\n            <td>{{stat.changed}}</td>\n        </tr>\n    {{/payload}}\n</table>\n",
        "output": "str",
        "x": 980,
        "y": 220,
        "wires": [
            [
                "638728aa.cd0b08"
            ]
        ]
    },
    {
        "id": "3e094f82.15d6e",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Convert timestamps",
        "func": "for (var i=0; i<msg.payload.length; i++) {\n    msg.payload[i].stat.created = msg.payload[i].stat.created.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.changed = msg.payload[i].stat.changed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.accessed = msg.payload[i].stat.accessed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.statusChanged = msg.payload[i].stat.statusChanged.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].fname = msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '');\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 780,
        "y": 220,
        "wires": [
            [
                "9d27e846.b31db8"
            ]
        ]
    },
    {
        "id": "7b7e0d58.05e244",
        "type": "ui_button",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 10,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Delete",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "delete",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 170,
        "y": 320,
        "wires": [
            [
                "8da8147a.999af8"
            ]
        ]
    },
    {
        "id": "7d490dd1.8458b4",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Get filename",
        "func": "// Get the filename from the flow context\nlet filename = flow.get(\"fileselected\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (filename===undefined) {\n    return;\n}\n\n// return the filename to the file-in node to delete\nmsg.filename = filename;\n\nif (msg.filename.replace(/^.*(\\\\|\\/|\\:)/, '')[0]!==\".\") {\n    // Only do this if this is a file, we don't delete folders\n    // and delete the context/selection as we are deleting the file as well\n    flow.set(\"fileselected\");\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 380,
        "wires": [
            [
                "372ee262.fc94de"
            ]
        ]
    },
    {
        "id": "372ee262.fc94de",
        "type": "file",
        "z": "05ac925ad9b07c4a",
        "name": "Delete file",
        "filename": "",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "delete",
        "encoding": "none",
        "x": 580,
        "y": 380,
        "wires": [
            [
                "28c58fa1ae829302",
                "a704c5f247802ca3"
            ]
        ]
    },
    {
        "id": "aa8c482.93734b8",
        "type": "http in",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "url": "/download",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 180,
        "y": 520,
        "wires": [
            [
                "d969ba04.e24028"
            ]
        ]
    },
    {
        "id": "d19cc7d8.646328",
        "type": "http response",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 970,
        "y": 520,
        "wires": []
    },
    {
        "id": "d969ba04.e24028",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Get the file name",
        "func": "msg.filename = msg.req.query.filename;\nmsg.contentdisposition = \"attachment; filename=\\\"\" + msg.req.query.filename.replace(/^.*(\\\\|\\/|\\:)/, '') + \"\\\"\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 430,
        "y": 520,
        "wires": [
            [
                "e92381c3.c4cd2"
            ]
        ],
        "outputLabels": [
            "Folder selected",
            "File selected"
        ]
    },
    {
        "id": "e92381c3.c4cd2",
        "type": "file in",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "format": "",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 620,
        "y": 520,
        "wires": [
            [
                "99ff4953.d0d5c8"
            ]
        ]
    },
    {
        "id": "99ff4953.d0d5c8",
        "type": "change",
        "z": "05ac925ad9b07c4a",
        "name": "Set Headers",
        "rules": [
            {
                "t": "set",
                "p": "headers",
                "pt": "msg",
                "to": "{}",
                "tot": "json"
            },
            {
                "t": "set",
                "p": "headers.content-type",
                "pt": "msg",
                "to": "text/csv",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "headers.Content-Disposition",
                "pt": "msg",
                "to": "contentdisposition",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 520,
        "wires": [
            [
                "d19cc7d8.646328"
            ]
        ]
    },
    {
        "id": "2519dd0d.54d6b2",
        "type": "ui_button",
        "z": "05ac925ad9b07c4a",
        "d": true,
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 11,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Graph",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "show_chart",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 130,
        "y": 640,
        "wires": [
            [
                "30f41c01.358a54"
            ]
        ]
    },
    {
        "id": "30f41c01.358a54",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Get filename",
        "func": "// Get the filename from the flow context\nlet filename = flow.get(\"fileselected\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (filename===undefined) {\n    return;\n}\n\n// return the filename to the file-in node to delete\nmsg.filename = filename;\n\nif (msg.filename.replace(/^.*(\\\\|\\/|\\:)/, '')[0]!==\".\") {\n    // Only do this if this is a file, we don't delete folders\n    return msg;\n}",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 640,
        "wires": [
            [
                "4f4072b6.0c320c"
            ]
        ]
    },
    {
        "id": "4f4072b6.0c320c",
        "type": "file in",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "filename": "",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "x": 480,
        "y": 640,
        "wires": [
            [
                "4d254665.d508e8"
            ]
        ]
    },
    {
        "id": "4d254665.d508e8",
        "type": "csv",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "sep": ",",
        "hdrin": true,
        "hdrout": "",
        "multi": "mult",
        "ret": "\\n",
        "temp": "",
        "skip": "0",
        "strings": true,
        "x": 630,
        "y": 640,
        "wires": [
            [
                "7dcec769.580718"
            ]
        ]
    },
    {
        "id": "84810f0e.43f4e",
        "type": "debug",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1050,
        "y": 600,
        "wires": []
    },
    {
        "id": "7dcec769.580718",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Format data for chart",
        "func": "var chart = [{\n    \"series\":[],\n    \"data\":[],\n    \"labels\":[msg.filename]\n}];\n\n\n/*\nvar pressure = [];\nvar out2 = [];\n\nfor (var i=0; i<msg.payload.length; i++) {\n    pressure.push({\"x\":msg.payload[i].timestamp, \"y\":msg.payload[i].pressure});\n    out2.push({\"x\":msg.payload[i].timestamp, \"y\":msg.payload[i].out2*200});\n\n}\nchart[0].data.push(pressure);\nchart[0].data.push(out2);\n*/\n\nlet columns = 0;\n\nfor(var series in msg.payload[0]) {\n    if(series!==\"timestamp\") {\n        chart[0].series.push(series);\n        chart[0].data.push([]);\n        columns++;\n    }\n}\n\n\nfor (var j=0; j<msg.payload.length; j++) {\n   for(var i=0;i<columns;i++) {\n       chart[0].data[i].push({\"x\":msg.payload[j].timestamp, \"y\":msg.payload[j][chart[0].series[i]]});\n   } \n}\n\n\n\n\nmsg.payload = chart;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 840,
        "y": 640,
        "wires": [
            [
                "5022cb53.8adc44",
                "84810f0e.43f4e"
            ]
        ]
    },
    {
        "id": "5022cb53.8adc44",
        "type": "ui_chart",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 12,
        "width": "9",
        "height": "4",
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "x": 1040,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "554f0095.ac1b2",
        "type": "ui_toast",
        "z": "05ac925ad9b07c4a",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "topic": "",
        "name": "Confirmation",
        "x": 550,
        "y": 320,
        "wires": [
            [
                "24df84fe.ebf45c"
            ]
        ]
    },
    {
        "id": "8da8147a.999af8",
        "type": "change",
        "z": "05ac925ad9b07c4a",
        "name": "Set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Delete confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Are you sure you want to delete this file?",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 320,
        "wires": [
            [
                "554f0095.ac1b2"
            ]
        ]
    },
    {
        "id": "24df84fe.ebf45c",
        "type": "switch",
        "z": "05ac925ad9b07c4a",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 750,
        "y": 320,
        "wires": [
            [
                "7d490dd1.8458b4"
            ]
        ]
    },
    {
        "id": "3d4e5e51.bdf952",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Folder handling",
        "func": "let folder = context.get(\"folder\");\nif (folder===undefined) {\n    folder=\"/\";\n    context.set(\"folder\", folder);\n}\n\nlet hidden = context.get(\"hidden\");\nif (hidden===undefined) {\n    hidden=false;\n    context.set(\"hidden\", hidden);\n}\n\nif (msg.topic===\"up\") {\n    var the_arr = folder.split('/');\n    the_arr.pop();\n    folder=the_arr.join('/'); \n    context.set(\"folder\", folder);\n}\nif (msg.topic===\"change\") {\n    folder=msg.payload;    \n    context.set(\"folder\", folder);\n}\nif (msg.topic===\"hidden\") {\n    hidden=msg.payload;    \n    context.set(\"hidden\", hidden);\n}\n\nmsg.payload = {\"start\":folder, \"hidden\": hidden};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 220,
        "wires": [
            [
                "399ac341.7d43bc",
                "28c58fa1ae829302",
                "a704c5f247802ca3"
            ]
        ]
    },
    {
        "id": "399ac341.7d43bc",
        "type": "ui_text",
        "z": "05ac925ad9b07c4a",
        "group": "160e81fb.f1c86e",
        "order": 4,
        "width": "9",
        "height": "1",
        "name": "",
        "label": "Folder:",
        "format": "{{msg.payload.start}}",
        "layout": "row-left",
        "x": 540,
        "y": 100,
        "wires": []
    },
    {
        "id": "b40ea1d8.c700a",
        "type": "ui_button",
        "z": "05ac925ad9b07c4a",
        "d": true,
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Up",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "arrow_upwards",
        "payload": "",
        "payloadType": "str",
        "topic": "up",
        "x": 110,
        "y": 240,
        "wires": [
            [
                "3d4e5e51.bdf952"
            ]
        ]
    },
    {
        "id": "80940e39.5035b",
        "type": "ui_button",
        "z": "05ac925ad9b07c4a",
        "d": true,
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 8,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Open",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "folder_open",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 170,
        "y": 440,
        "wires": [
            [
                "8c1dfaac.979588"
            ]
        ]
    },
    {
        "id": "8c1dfaac.979588",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Change folder",
        "func": "// Get the filename from the flow context\nlet folderselected = flow.get(\"folderselected\");\n\n// check, if the filename is undefined that means it does not exist yet, nothing is selected yet\n// return: do not output anything\nif (folderselected===undefined) {\n    return;\n}\n\nmsg.topic = \"change\";\nmsg.payload = folderselected;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 440,
        "wires": [
            [
                "3d4e5e51.bdf952"
            ]
        ]
    },
    {
        "id": "58414ec4.c716e",
        "type": "ui_button",
        "z": "05ac925ad9b07c4a",
        "d": true,
        "name": "",
        "group": "160e81fb.f1c86e",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Reset",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "autorenew",
        "payload": "/home/pi/Documents",
        "payloadType": "str",
        "topic": "change",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "3d4e5e51.bdf952"
            ]
        ]
    },
    {
        "id": "37485c24.212054",
        "type": "ui_dropdown",
        "z": "05ac925ad9b07c4a",
        "d": true,
        "name": "Folder Selector",
        "label": "",
        "tooltip": "",
        "place": "Select a folder",
        "group": "160e81fb.f1c86e",
        "order": 7,
        "width": "5",
        "height": "1",
        "passthru": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 960,
        "y": 260,
        "wires": [
            [
                "2875c79f.531558"
            ]
        ]
    },
    {
        "id": "ebc234be.d53fe8",
        "type": "function",
        "z": "05ac925ad9b07c4a",
        "name": "Format data",
        "func": "// format the data for the dropdown\nmsg.options = [];\nvar obj\n\nfor (var i=0; i<msg.payload.length; i++) {\n    // This is a foler\n    obj = {};\n    obj [\"[\"+msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '')+\"]\"]=msg.payload[i].name;\n    msg.options.push(obj);\n}\nmsg.payload={};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 260,
        "wires": [
            [
                "37485c24.212054"
            ]
        ]
    },
    {
        "id": "be4830df.5775d",
        "type": "change",
        "z": "05ac925ad9b07c4a",
        "name": "Save selection",
        "rules": [
            {
                "t": "set",
                "p": "fileselected",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "2875c79f.531558",
        "type": "change",
        "z": "05ac925ad9b07c4a",
        "name": "Save selection",
        "rules": [
            {
                "t": "set",
                "p": "folderselected",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "928e60a7.994be",
        "type": "ui_switch",
        "z": "05ac925ad9b07c4a",
        "d": true,
        "name": "",
        "label": "Hidden",
        "tooltip": "Show hidden files or not",
        "group": "160e81fb.f1c86e",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "hidden",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "check_box",
        "oncolor": "#000000",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "check_box_outline_blank",
        "offcolor": "#000000",
        "x": 140,
        "y": 280,
        "wires": [
            [
                "3d4e5e51.bdf952"
            ]
        ]
    },
    {
        "id": "28c58fa1ae829302",
        "type": "fs-file-lister",
        "z": "05ac925ad9b07c4a",
        "name": "Files",
        "start": "/home/ubuntu/Documents",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 560,
        "y": 160,
        "wires": [
            [
                "dd88bd23.37cde",
                "3e094f82.15d6e"
            ]
        ]
    },
    {
        "id": "a704c5f247802ca3",
        "type": "fs-file-lister",
        "z": "05ac925ad9b07c4a",
        "name": "Folders",
        "start": "/home/ubuntu/Documents",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "directories",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 580,
        "y": 260,
        "wires": [
            [
                "ebc234be.d53fe8"
            ]
        ]
    },
    {
        "id": "2ee0881cc2aec3df",
        "type": "exec",
        "z": "4961a2178ba0730f",
        "command": "sudo reboot",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 770,
        "y": 80,
        "wires": [
            [],
            [],
            []
        ]
    },
    {
        "id": "96668c216b6a06f6",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "5341a2a5684efda4",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Reboot Controller",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 110,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3b6a9e8ed37d0860",
        "type": "change",
        "z": "4961a2178ba0730f",
        "name": "Set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Reboot Confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Are you sure you want to reboot controller?",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 290,
        "y": 80,
        "wires": [
            [
                "7bafb8063640e23a"
            ]
        ]
    },
    {
        "id": "7bafb8063640e23a",
        "type": "ui_toast",
        "z": "4961a2178ba0730f",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "topic": "",
        "name": "Confirmation",
        "x": 450,
        "y": 80,
        "wires": [
            [
                "e351a4fcf7fcc567"
            ]
        ]
    },
    {
        "id": "e351a4fcf7fcc567",
        "type": "switch",
        "z": "4961a2178ba0730f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 610,
        "y": 80,
        "wires": [
            [
                "2ee0881cc2aec3df"
            ]
        ]
    },
    {
        "id": "96ca4a105ae3f572",
        "type": "exec",
        "z": "4961a2178ba0730f",
        "command": "ifconfig wlan0",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 300,
        "y": 160,
        "wires": [
            [
                "b9b53df2ce0e70a5"
            ],
            [],
            []
        ]
    },
    {
        "id": "ede157f5c85b6c7b",
        "type": "debug",
        "z": "4961a2178ba0730f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 180,
        "wires": []
    },
    {
        "id": "b9b53df2ce0e70a5",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "msg.payload = msg.payload;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 160,
        "wires": [
            [
                "ede157f5c85b6c7b"
            ]
        ]
    },
    {
        "id": "55f3b7d54c8d14bb",
        "type": "exec",
        "z": "4961a2178ba0730f",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 790,
        "y": 300,
        "wires": [
            [
                "784454f27c4645c5"
            ],
            [],
            []
        ]
    },
    {
        "id": "f9b841d8f5d7257d",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "var newssid = flow.get(\"newssid\");\nvar command = \"sudo sed -i 's/ssid=ssid/ssid=\" + newssid + \"/' /etc/wpa_supplicant/wpa_supplicant-wlan0.new\";\nmsg.payload = command;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 260,
        "wires": [
            [
                "55f3b7d54c8d14bb",
                "2399f42a4121a7c7"
            ]
        ]
    },
    {
        "id": "7257f74f7f8188b5",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "var newpass = flow.get(\"newpassword\");\nvar command = \"sudo sed -i 's/psk=password/psk=\" + newpass + \"/' /etc/wpa_supplicant/wpa_supplicant-wlan0.new\";\nmsg.payload = command;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 300,
        "wires": [
            [
                "55f3b7d54c8d14bb",
                "e862a09ea9ad79db"
            ]
        ]
    },
    {
        "id": "2399f42a4121a7c7",
        "type": "delay",
        "z": "4961a2178ba0730f",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 350,
        "y": 300,
        "wires": [
            [
                "7257f74f7f8188b5"
            ]
        ]
    },
    {
        "id": "e862a09ea9ad79db",
        "type": "delay",
        "z": "4961a2178ba0730f",
        "name": "",
        "pauseType": "delay",
        "timeout": "100",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 430,
        "y": 340,
        "wires": [
            [
                "1ee83581f0938bbc"
            ]
        ]
    },
    {
        "id": "1ee83581f0938bbc",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "msg.payload = \"sudo cp /etc/wpa_supplicant/wpa_supplicant-wlan0.new /etc/wpa_supplicant/wpa_supplicant-wlan0.conf\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 340,
        "wires": [
            [
                "55f3b7d54c8d14bb",
                "8010f9a439d12608"
            ]
        ]
    },
    {
        "id": "6a0f04727f33610e",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "msg.payload = \"sudo cp /etc/wpa_supplicant/wpa_supplicant-wlan0.orig /etc/wpa_supplicant/wpa_supplicant-wlan0.new\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 380,
        "wires": [
            [
                "55f3b7d54c8d14bb"
            ]
        ]
    },
    {
        "id": "8010f9a439d12608",
        "type": "delay",
        "z": "4961a2178ba0730f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 440,
        "y": 380,
        "wires": [
            [
                "6a0f04727f33610e"
            ]
        ]
    },
    {
        "id": "cc485acf69bf6ae8",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "flow.set(\"newssid\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "4d582346b19812a3",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "flow.set(\"newpassword\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "5b548cb32e49e5f5",
        "type": "comment",
        "z": "4961a2178ba0730f",
        "name": "not used",
        "info": "",
        "x": 560,
        "y": 240,
        "wires": []
    },
    {
        "id": "d7a9f65b2aa647af",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "msg.payload = \"sudo cp /etc/wpa_supplicant/wpa_supplicant-wlan0.off /etc/wpa_supplicant/wpa_supplicant-wlan0.conf\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 520,
        "wires": [
            [
                "55f3b7d54c8d14bb"
            ]
        ]
    },
    {
        "id": "f9ae01acb3b6f413",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "8f396c79f7a85790",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Turn Off wifi",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "",
        "x": 190,
        "y": 520,
        "wires": [
            [
                "d7a9f65b2aa647af"
            ]
        ]
    },
    {
        "id": "784454f27c4645c5",
        "type": "exec",
        "z": "4961a2178ba0730f",
        "command": "sudo wpa_cli -i wlan0 reconfigure",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "reconfigure",
        "x": 610,
        "y": 520,
        "wires": [
            [
                "c0dc3fe0b9b801c3",
                "96ca4a105ae3f572"
            ],
            [],
            []
        ]
    },
    {
        "id": "c0dc3fe0b9b801c3",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "showMessage",
        "func": "\nmsg.payload = msg.payload.trim() === 'OK' ? \"Wifi configuration updated successfully\" : \"Error while updating wifi configuration\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 507,
        "wires": [
            [
                "51e88e1529c414b5"
            ]
        ]
    },
    {
        "id": "51e88e1529c414b5",
        "type": "ui_toast",
        "z": "4961a2178ba0730f",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 880,
        "y": 573,
        "wires": []
    },
    {
        "id": "6f223d55ff5962ed",
        "type": "exec",
        "z": "4961a2178ba0730f",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 770,
        "y": 680,
        "wires": [
            [
                "9feb5e575c9d3591",
                "4c188c89f6b777c2"
            ],
            [],
            []
        ]
    },
    {
        "id": "0f1a69e078c8425f",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "5341a2a5684efda4",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Refresh USB Drives",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 220,
        "y": 700,
        "wires": [
            [
                "b2a72ff5b9d8c3d5"
            ]
        ]
    },
    {
        "id": "0bd432924cb2f51e",
        "type": "ui_dropdown",
        "z": "4961a2178ba0730f",
        "name": "Folder Selector",
        "label": "USB",
        "tooltip": "",
        "place": "Select a folder",
        "group": "5341a2a5684efda4",
        "order": 2,
        "width": "5",
        "height": "1",
        "passthru": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "",
        "x": 680,
        "y": 760,
        "wires": [
            [
                "26fc0f5b8877740a"
            ]
        ]
    },
    {
        "id": "f86b0638cb03d3e5",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "Format data",
        "func": "// format the data for the dropdown\nmsg.options = [];\nfor (var i=0; i<msg.payload.length; i++) {\n    // This is a foler\n    obj = {};\n    obj [\"[\"+msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '')+\"]\"]=msg.payload[i].name;\n    msg.options.push(obj);\n}\nmsg.payload={};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 760,
        "wires": [
            [
                "0bd432924cb2f51e"
            ]
        ]
    },
    {
        "id": "26fc0f5b8877740a",
        "type": "change",
        "z": "4961a2178ba0730f",
        "name": "Save selection",
        "rules": [
            {
                "t": "set",
                "p": "folderselected",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 880,
        "y": 760,
        "wires": [
            [
                "191818c420dfe89a"
            ]
        ]
    },
    {
        "id": "b2a72ff5b9d8c3d5",
        "type": "fs-file-lister",
        "z": "4961a2178ba0730f",
        "name": "Folders",
        "start": "/media",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "directories",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 300,
        "y": 760,
        "wires": [
            [
                "f86b0638cb03d3e5"
            ]
        ]
    },
    {
        "id": "169895ef81a9380a",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "var loc=flow.get(\"folderselected\");\nmsg.payload = \"sudo cp .node-red/context/global/global.json \" + loc + \"/global.json\";\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 680,
        "wires": [
            [
                "6f223d55ff5962ed"
            ]
        ]
    },
    {
        "id": "c3d70ac38ea0ea3d",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "5341a2a5684efda4",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Save Settings to USB",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 420,
        "y": 660,
        "wires": [
            [
                "169895ef81a9380a"
            ]
        ]
    },
    {
        "id": "9feb5e575c9d3591",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "msg.payload = msg.payload.trim() === '' ? \"Successful\" : \"Error\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 640,
        "wires": [
            [
                "51e88e1529c414b5"
            ]
        ]
    },
    {
        "id": "84d755ab8fd47530",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "5341a2a5684efda4",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Restore Settings From USB",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 140,
        "y": 860,
        "wires": [
            [
                "2ad24b80e2862aaf"
            ]
        ]
    },
    {
        "id": "48ca9b8a2f55d081",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "var loc=flow.get(\"folderselected\");\nmsg.payload = \"sudo cp \" + loc + \"/global.json .node-red/context/global/global.json\";\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 860,
        "wires": [
            [
                "6f223d55ff5962ed"
            ]
        ]
    },
    {
        "id": "2ad24b80e2862aaf",
        "type": "change",
        "z": "4961a2178ba0730f",
        "name": "Set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Restore Settings Confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Are you sure you want to over-write settings?",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 860,
        "wires": [
            [
                "a8a7fa7e245f74b6"
            ]
        ]
    },
    {
        "id": "a8a7fa7e245f74b6",
        "type": "ui_toast",
        "z": "4961a2178ba0730f",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "topic": "",
        "name": "Confirmation",
        "x": 530,
        "y": 860,
        "wires": [
            [
                "975127b5a378b49a"
            ]
        ]
    },
    {
        "id": "8538fc9601a767cb",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "5341a2a5684efda4",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Restore Default Settings",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 150,
        "y": 1000,
        "wires": [
            [
                "c3924653e8d4a806"
            ]
        ]
    },
    {
        "id": "c3924653e8d4a806",
        "type": "change",
        "z": "4961a2178ba0730f",
        "name": "Set message",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "Default Settings Confirmation",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Are you sure you want to restore default settings?",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 940,
        "wires": [
            [
                "9005e4d78c7a4413"
            ]
        ]
    },
    {
        "id": "9005e4d78c7a4413",
        "type": "ui_toast",
        "z": "4961a2178ba0730f",
        "position": "dialog",
        "displayTime": "3",
        "highlight": "",
        "sendall": false,
        "outputs": 1,
        "ok": "Yes",
        "cancel": "No",
        "raw": false,
        "topic": "",
        "name": "Confirmation",
        "x": 530,
        "y": 940,
        "wires": [
            [
                "f7350bd6eb44b7b7"
            ]
        ]
    },
    {
        "id": "4eb1051bf0d1b776",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "\nvar loc=flow.get(\"folderselected\");\nmsg.payload = \"sudo cp .node-red/context/global/global.orgin .node-red/context/global/global.json\";\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 940,
        "wires": [
            [
                "6f223d55ff5962ed"
            ]
        ]
    },
    {
        "id": "7b6a0ba00d2119b3",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "5341a2a5684efda4",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Copy History to USB",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 160,
        "y": 1060,
        "wires": [
            [
                "ce725eed0c25828a"
            ]
        ]
    },
    {
        "id": "ce725eed0c25828a",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "var loc=flow.get(\"folderselected\");\nmsg.payload = \"sudo cp -r Documents \" + loc +\"/SIC\";\nreturn msg; ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 1020,
        "wires": [
            [
                "6f223d55ff5962ed"
            ]
        ]
    },
    {
        "id": "4c188c89f6b777c2",
        "type": "debug",
        "z": "4961a2178ba0730f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 950,
        "y": 680,
        "wires": []
    },
    {
        "id": "9783b8d20a336a6f",
        "type": "inject",
        "z": "4961a2178ba0730f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 940,
        "wires": [
            [
                "c3924653e8d4a806"
            ]
        ]
    },
    {
        "id": "975127b5a378b49a",
        "type": "switch",
        "z": "4961a2178ba0730f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 860,
        "wires": [
            [
                "48ca9b8a2f55d081"
            ]
        ]
    },
    {
        "id": "f7350bd6eb44b7b7",
        "type": "switch",
        "z": "4961a2178ba0730f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Yes",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 690,
        "y": 940,
        "wires": [
            [
                "4eb1051bf0d1b776"
            ]
        ]
    },
    {
        "id": "5fab9f6cca02d4cc",
        "type": "fs-file-lister",
        "z": "4961a2178ba0730f",
        "name": "Files",
        "start": "/media",
        "pattern": "*.*",
        "folders": "*",
        "hidden": false,
        "lstype": "files",
        "path": true,
        "single": true,
        "depth": 0,
        "stat": true,
        "showWarnings": false,
        "x": 370,
        "y": 1200,
        "wires": [
            [
                "0477b972f0311ee1"
            ]
        ]
    },
    {
        "id": "0477b972f0311ee1",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "Convert timestamps",
        "func": "for (var i=0; i<msg.payload.length; i++) {\n    msg.payload[i].stat.created = msg.payload[i].stat.created.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.changed = msg.payload[i].stat.changed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.accessed = msg.payload[i].stat.accessed.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].stat.statusChanged = msg.payload[i].stat.statusChanged.toISOString().slice(0, 19).replace('T', ' ');\n    msg.payload[i].fname = msg.payload[i].name.replace(/^.*(\\\\|\\/|\\:)/, '');\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 1200,
        "wires": [
            [
                "9b46cd30a5ead52c"
            ]
        ]
    },
    {
        "id": "9b46cd30a5ead52c",
        "type": "template",
        "z": "4961a2178ba0730f",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<table width=\"100%\">\n    <tr><th>File Name</th><th>Size</th><th>Created</th><th>Changed</th></tr>\n    {{#payload}}\n        <tr>\n            <td><a href=\"/download?filename={{name}}\" target=\"blank\">{{fname}}</a></td>\n            <td>{{stat.size}}</td>\n            <td>{{stat.created}}</td>\n            <td>{{stat.changed}}</td>\n        </tr>\n    {{/payload}}\n</table>\n",
        "output": "str",
        "x": 760,
        "y": 1200,
        "wires": [
            [
                "6927dbfcd704cfd1"
            ]
        ]
    },
    {
        "id": "6927dbfcd704cfd1",
        "type": "ui_template",
        "z": "4961a2178ba0730f",
        "group": "2dfcda742e6d08a8",
        "name": "",
        "order": 2,
        "width": "10",
        "height": "8",
        "format": "<div ng-bind-html=\"msg.payload\" height=\"400\" style=\"height: 400px;\"><br/>\n</div>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 920,
        "y": 1200,
        "wires": [
            []
        ]
    },
    {
        "id": "191818c420dfe89a",
        "type": "function",
        "z": "4961a2178ba0730f",
        "name": "",
        "func": "var folder = flow.get(\"folderselected\");\nmsg.payload ={\"start\":folder};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 1200,
        "wires": [
            [
                "5fab9f6cca02d4cc"
            ]
        ]
    },
    {
        "id": "c312c7b18a016509",
        "type": "inject",
        "z": "4961a2178ba0730f",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1120,
        "wires": [
            [
                "191818c420dfe89a"
            ]
        ]
    },
    {
        "id": "a5b4ba8740df651a",
        "type": "ui_button",
        "z": "4961a2178ba0730f",
        "name": "",
        "group": "2dfcda742e6d08a8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Refresh",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 120,
        "y": 1260,
        "wires": [
            [
                "191818c420dfe89a"
            ]
        ]
    },
    {
        "id": "76e6a174339926d9",
        "type": "debug",
        "z": "4961a2178ba0730f",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 550,
        "y": 1140,
        "wires": []
    },
    {
        "id": "ec32ffa8.3f6f6",
        "type": "exec",
        "z": "f0a27113.452c7",
        "command": "sudo iwlist wlan0 scan | grep ESSID | sed 's/ESSID://g;s/\"//g;s/^ *//;s/ *$//'",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "scan",
        "x": 430,
        "y": 80,
        "wires": [
            [
                "e0d66c7a.647c9"
            ],
            [],
            []
        ]
    },
    {
        "id": "e0d66c7a.647c9",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "parseOptions",
        "func": "var ssids = msg.payload.split('\\n').filter(s => !!s)\n\nssids = [...new Set(ssids)];\n\nmsg.options = ssids\nmsg.payload = null\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 67,
        "wires": [
            [
                "617d9746.cbcbd8"
            ]
        ]
    },
    {
        "id": "a44c56bf.408c08",
        "type": "inject",
        "z": "f0a27113.452c7",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 260,
        "y": 221,
        "wires": [
            [
                "ec32ffa8.3f6f6",
                "80ce12b.e5edff",
                "9aa43ac5.df3728"
            ]
        ]
    },
    {
        "id": "617d9746.cbcbd8",
        "type": "ui_dropdown",
        "z": "f0a27113.452c7",
        "name": "",
        "label": "Wifi",
        "tooltip": "",
        "place": "Select a WIFI",
        "group": "8f396c79f7a85790",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "options": [],
        "payload": "",
        "topic": "",
        "x": 830,
        "y": 67,
        "wires": [
            [
                "fc8462e2.6bc6e"
            ]
        ]
    },
    {
        "id": "f50dd378.27c7f",
        "type": "ui_button",
        "z": "f0a27113.452c7",
        "name": "",
        "group": "8f396c79f7a85790",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Scan",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 230,
        "y": 181,
        "wires": [
            [
                "ec32ffa8.3f6f6"
            ]
        ]
    },
    {
        "id": "49307dfc.36fce4",
        "type": "ui_ui_control",
        "z": "f0a27113.452c7",
        "name": "onTab",
        "events": "all",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "ee0231ae.607de"
            ]
        ]
    },
    {
        "id": "ee0231ae.607de",
        "type": "switch",
        "z": "f0a27113.452c7",
        "name": "ifWifi",
        "property": "name",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Wifi",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 271,
        "y": 80,
        "wires": [
            [
                "ec32ffa8.3f6f6",
                "80ce12b.e5edff",
                "9aa43ac5.df3728"
            ]
        ]
    },
    {
        "id": "80ce12b.e5edff",
        "type": "exec",
        "z": "f0a27113.452c7",
        "command": "ifconfig wlan0",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "getInfo",
        "x": 430,
        "y": 181,
        "wires": [
            [
                "8a86d9a3.7ccca8"
            ],
            [],
            []
        ]
    },
    {
        "id": "8a86d9a3.7ccca8",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "parseInfo",
        "func": "var ip = msg.payload.match(/inet ([0-9\\.]+)/)[1]\nvar mask = msg.payload.match(/netmask ([0-9\\.]+)/)[1]\nvar broadcast = msg.payload.match(/broadcast ([0-9\\.]+)/)[1]\n\n\nnode.send({topic: 'ip', payload: ip})\nnode.send({topic: 'mask', payload: mask})\nnode.send({topic: 'broadcast', payload: broadcast})",
        "outputs": 1,
        "noerr": 0,
        "x": 640,
        "y": 168,
        "wires": [
            [
                "446ce308.eaab1c"
            ]
        ]
    },
    {
        "id": "446ce308.eaab1c",
        "type": "switch",
        "z": "f0a27113.452c7",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ip",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "mask",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "broadcast",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 810,
        "y": 181,
        "wires": [
            [
                "d1ea316d.10c3d"
            ],
            [
                "8cadebd5.bedfe8"
            ],
            [
                "3592ebde.5596b4"
            ]
        ]
    },
    {
        "id": "d1ea316d.10c3d",
        "type": "ui_text",
        "z": "f0a27113.452c7",
        "group": "406fc47015fe7731",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "IP",
        "format": "{{msg.payload || '---'}}",
        "layout": "row-spread",
        "x": 990,
        "y": 141,
        "wires": []
    },
    {
        "id": "8cadebd5.bedfe8",
        "type": "ui_text",
        "z": "f0a27113.452c7",
        "group": "406fc47015fe7731",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Netmask",
        "format": "{{msg.payload || '---'}}",
        "layout": "row-spread",
        "x": 1000,
        "y": 181,
        "wires": []
    },
    {
        "id": "3592ebde.5596b4",
        "type": "ui_text",
        "z": "f0a27113.452c7",
        "group": "406fc47015fe7731",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Broadcast",
        "format": "{{msg.payload || '---'}}",
        "layout": "row-spread",
        "x": 1000,
        "y": 221,
        "wires": []
    },
    {
        "id": "4e417c79.0e9454",
        "type": "ui_form",
        "z": "f0a27113.452c7",
        "name": "",
        "label": "Update",
        "group": "8f396c79f7a85790",
        "order": 3,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "SSID",
                "value": "ssid",
                "type": "text",
                "required": true,
                "rows": null
            },
            {
                "label": "Password",
                "value": "password",
                "type": "password",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "ssid": "",
            "password": ""
        },
        "payload": "",
        "submit": "CONNECT",
        "cancel": "RESET",
        "topic": "",
        "x": 1120,
        "y": 67,
        "wires": [
            [
                "562a8ec7.a7e76"
            ]
        ]
    },
    {
        "id": "fc8462e2.6bc6e",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "",
        "func": "\nmsg.payload = {ssid: msg.payload}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 67,
        "wires": [
            [
                "4e417c79.0e9454"
            ]
        ]
    },
    {
        "id": "562a8ec7.a7e76",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "getPassphrase",
        "func": "var data = msg.payload\n\nvar command = `wpa_passphrase \"${data.ssid}\" \"${data.password}\" | sed '/#psk=\".*\"/d'`\n \nmsg.payload = command\n\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 67,
        "wires": [
            [
                "50f3b384.d92f4c"
            ]
        ]
    },
    {
        "id": "50f3b384.d92f4c",
        "type": "exec",
        "z": "f0a27113.452c7",
        "command": "",
        "addpay": true,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "oldrc": false,
        "name": "",
        "x": 1481,
        "y": 67,
        "wires": [
            [
                "201a9fb.244ff6"
            ],
            [],
            []
        ]
    },
    {
        "id": "201a9fb.244ff6",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "updateWpasupplicant",
        "func": "var template = `sudo tee /etc/wpa_supplicant/wpa_supplicant-wlan0.conf <<EOF\nctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\nupdate_config=1\ncountry=US\n\n${msg.payload}\nEOF\\n\n`\n\nmsg.payload = template\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1680,
        "y": 60,
        "wires": [
            [
                "d288a86d.e0ba48"
            ]
        ]
    },
    {
        "id": "d288a86d.e0ba48",
        "type": "exec",
        "z": "f0a27113.452c7",
        "command": "",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "updateConf",
        "x": 1270,
        "y": 180,
        "wires": [
            [
                "ecc743df.05dd"
            ],
            [],
            []
        ]
    },
    {
        "id": "ecc743df.05dd",
        "type": "exec",
        "z": "f0a27113.452c7",
        "command": "sudo wpa_cli -i wlan0 reconfigure",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "reconfigure",
        "x": 1450,
        "y": 167,
        "wires": [
            [
                "2e12d3e8.51947c"
            ],
            [],
            []
        ]
    },
    {
        "id": "2e12d3e8.51947c",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "showMessage",
        "func": "\nmsg.payload = msg.payload.trim() === 'OK' ? \"Wifi configuration updated successfully\" : \"Error while updating wifi configuration\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1650,
        "y": 154,
        "wires": [
            [
                "aa9d6712.91e718"
            ]
        ]
    },
    {
        "id": "aa9d6712.91e718",
        "type": "ui_toast",
        "z": "f0a27113.452c7",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "sendall": true,
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "raw": false,
        "topic": "",
        "name": "",
        "x": 1720,
        "y": 220,
        "wires": []
    },
    {
        "id": "d4e866c7.6c3958",
        "type": "ui_button",
        "z": "f0a27113.452c7",
        "name": "",
        "group": "406fc47015fe7731",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "label": "Back",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "arrow_back",
        "payload": "Menu",
        "payloadType": "str",
        "topic": "",
        "x": 130,
        "y": 300,
        "wires": [
            [
                "49307dfc.36fce4"
            ]
        ]
    },
    {
        "id": "9aa43ac5.df3728",
        "type": "exec",
        "z": "f0a27113.452c7",
        "command": "iwgetid",
        "addpay": false,
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "getCurrentSSID",
        "x": 460,
        "y": 260,
        "wires": [
            [
                "6cff487b.f73b08"
            ],
            [],
            []
        ]
    },
    {
        "id": "4e1b74b8.84f51c",
        "type": "ui_text",
        "z": "f0a27113.452c7",
        "group": "406fc47015fe7731",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "SSID",
        "format": "{{msg.payload || '---'}}",
        "layout": "row-spread",
        "x": 810,
        "y": 260,
        "wires": []
    },
    {
        "id": "6cff487b.f73b08",
        "type": "function",
        "z": "f0a27113.452c7",
        "name": "parseInfo",
        "func": "var ssid = msg.payload.match(/ESSID:\"([^\"]+)\"/)[1]\n\n\nnode.send({topic: 'ssid', payload: ssid})\n",
        "outputs": 1,
        "noerr": 0,
        "x": 640,
        "y": 247,
        "wires": [
            [
                "4e1b74b8.84f51c"
            ]
        ]
    },
    {
        "id": "cc1d62ea199a8068",
        "type": "ui_button",
        "z": "f0a27113.452c7",
        "name": "",
        "group": "406fc47015fe7731",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Info",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "true",
        "payloadType": "bool",
        "topic": "",
        "x": 190,
        "y": 380,
        "wires": [
            [
                "80ce12b.e5edff",
                "9aa43ac5.df3728"
            ]
        ]
    }
]